[26-06-2024 07:54:17088 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 07:54:18259 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 07:54:18263 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 07:54:18268 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 07:54:18271 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 07:54:18273 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 07:54:20809 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 07:54:21683 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 886.0358ms
[26-06-2024 07:54:21743 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 07:54:21757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 14.4684ms
[26-06-2024 07:54:22017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 07:54:22360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 343.5361ms
[26-06-2024 07:54:22474 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 07:54:22702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 228.9089ms
[26-06-2024 07:56:39233 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[26-06-2024 07:56:39443 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SellerBuyer)"
[26-06-2024 07:56:39451 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[26-06-2024 07:56:39453 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 401 0 null 220.6048ms
[26-06-2024 08:40:20771 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[26-06-2024 08:40:20852 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 08:40:20861 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 98.2119ms
[26-06-2024 08:40:20873 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[26-06-2024 08:40:20882 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 08:40:20915 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[26-06-2024 08:40:21009 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[26-06-2024 08:40:24393 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("157"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[26-06-2024 08:40:25210 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[26-06-2024 08:40:25275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[26-06-2024 08:40:25315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 4298.492ms
[26-06-2024 08:40:25318 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[26-06-2024 08:40:25331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 4458.7718ms
[26-06-2024 08:40:25376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[26-06-2024 08:40:25377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[26-06-2024 08:40:25390 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 08:40:25389 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 08:40:25393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 17.4131ms
[26-06-2024 08:40:25406 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[26-06-2024 08:40:25400 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 24.8133ms
[26-06-2024 08:40:25416 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[26-06-2024 08:40:25422 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 08:40:25427 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 08:40:25543 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[26-06-2024 08:40:25543 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[26-06-2024 08:40:25554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[26-06-2024 08:40:25554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[26-06-2024 08:40:25895 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("50"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[EXCHANGE], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[SELLING_BOOK_ID_EXCHANGE], [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE], [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME], [b0].[ID], [b0].[AUTHOR], [b0].[CATEGORY], [b0].[DESCRIPTION], [b0].[IS_AVAILABLE], [b0].[TITLE]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN [USER] AS [u] ON [s].[BUYER_ID] = [u].[ID]
LEFT JOIN [BOOK] AS [b0] ON [s].[SELLING_BOOK_ID_EXCHANGE] = [b0].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[26-06-2024 08:40:25895 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[EXCHANGE], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[SELLING_BOOK_ID_EXCHANGE], [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE], [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME], [b0].[ID], [b0].[AUTHOR], [b0].[CATEGORY], [b0].[DESCRIPTION], [b0].[IS_AVAILABLE], [b0].[TITLE]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN [USER] AS [u] ON [s].[SELLER_ID] = [u].[ID]
LEFT JOIN [BOOK] AS [b0] ON [s].[SELLING_BOOK_ID_EXCHANGE] = [b0].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[26-06-2024 08:40:25993 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.Data.BuyingSellingBooksById, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[26-06-2024 08:40:25993 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.Data.BuyingSellingBooksById, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[26-06-2024 08:40:26016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 458.9323ms
[26-06-2024 08:40:26016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 456.3116ms
[26-06-2024 08:40:26018 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[26-06-2024 08:40:26020 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[26-06-2024 08:40:26022 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 459 "application/json; charset=utf-8" 606.6058ms
[26-06-2024 08:40:26023 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 247 "application/json; charset=utf-8" 616.943ms
[26-06-2024 09:49:17845 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 09:49:18435 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 09:49:18437 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 09:49:18441 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 09:49:18443 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 09:49:18445 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 09:49:19901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 09:49:20370 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 478.6388ms
[26-06-2024 09:49:20394 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 09:49:20405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 11.4811ms
[26-06-2024 09:49:20449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 09:49:20542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 93.3598ms
[26-06-2024 09:49:20664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 09:49:20983 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 319.8018ms
[26-06-2024 09:50:01393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[26-06-2024 09:50:01408 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 09:50:01411 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 17.9326ms
[26-06-2024 09:50:01429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[26-06-2024 09:50:01439 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 09:50:01546 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[26-06-2024 09:50:01590 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[26-06-2024 09:50:04286 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("133"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[26-06-2024 09:50:05087 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[26-06-2024 09:50:05141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[26-06-2024 09:50:05190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 3591.7751ms
[26-06-2024 09:50:05192 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[26-06-2024 09:50:05205 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 3777.2778ms
[26-06-2024 09:50:05243 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[26-06-2024 09:50:05250 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 09:50:05251 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[26-06-2024 09:50:05253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 11.2389ms
[26-06-2024 09:50:05271 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 09:50:05273 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 22.6529ms
[26-06-2024 09:50:05273 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[26-06-2024 09:50:05283 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[26-06-2024 09:50:05288 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 09:50:05291 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 09:50:05409 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[26-06-2024 09:50:05409 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[26-06-2024 09:50:05419 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[26-06-2024 09:50:05418 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[26-06-2024 09:50:05778 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[EXCHANGE], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[SELLING_BOOK_ID_EXCHANGE], [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE], [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME], [b0].[ID], [b0].[AUTHOR], [b0].[CATEGORY], [b0].[DESCRIPTION], [b0].[IS_AVAILABLE], [b0].[TITLE]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN [USER] AS [u] ON [s].[BUYER_ID] = [u].[ID]
LEFT JOIN [BOOK] AS [b0] ON [s].[SELLING_BOOK_ID_EXCHANGE] = [b0].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[26-06-2024 09:50:05778 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("49"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[EXCHANGE], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[SELLING_BOOK_ID_EXCHANGE], [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE], [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME], [b0].[ID], [b0].[AUTHOR], [b0].[CATEGORY], [b0].[DESCRIPTION], [b0].[IS_AVAILABLE], [b0].[TITLE]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN [USER] AS [u] ON [s].[SELLER_ID] = [u].[ID]
LEFT JOIN [BOOK] AS [b0] ON [s].[SELLING_BOOK_ID_EXCHANGE] = [b0].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[26-06-2024 09:50:05855 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.Data.BuyingSellingBooksById, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[26-06-2024 09:50:05855 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.Data.BuyingSellingBooksById, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[26-06-2024 09:50:05872 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 451.1657ms
[26-06-2024 09:50:05872 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 449.7009ms
[26-06-2024 09:50:05875 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[26-06-2024 09:50:05878 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[26-06-2024 09:50:05880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 459 "application/json; charset=utf-8" 596.387ms
[26-06-2024 09:50:05882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 247 "application/json; charset=utf-8" 608.7958ms
[26-06-2024 09:50:51644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 09:50:51655 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 09:50:51656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 12.3826ms
[26-06-2024 09:50:51662 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 163
[26-06-2024 09:50:51666 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 09:50:51670 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 09:50:51680 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 09:50:51932 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3);"
[26-06-2024 09:50:52067 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SELLING] ([BOOK_ID], [CONDITION_OF_BOOK], [EXCHANGABLE], [PAYMENT_METHOD], [PRICE], [SELLER_ID])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[26-06-2024 09:50:52077 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSelling"'.
[26-06-2024 09:56:38676 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 09:56:39174 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 09:56:39176 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 09:56:39180 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 09:56:39181 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 09:56:39183 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 09:56:40389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 09:56:40869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 489.5705ms
[26-06-2024 09:56:40882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 09:56:40903 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 21.0456ms
[26-06-2024 09:56:40974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 09:56:41066 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 92.4767ms
[26-06-2024 09:56:41208 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 09:56:41613 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 406.8067ms
[26-06-2024 09:57:04992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 09:57:05018 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 09:57:05021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 29.2135ms
[26-06-2024 09:57:05031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 151
[26-06-2024 09:57:05037 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 09:57:05253 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 09:57:05298 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 09:57:07718 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("167"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3);"
[26-06-2024 09:57:07927 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SELLING] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID])
OUTPUT INSERTED.[ID], INSERTED.[EXCHANGABLE]
VALUES (@p0, @p1, @p2, @p3, @p4);"
[26-06-2024 09:57:07947 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSelling"'.
[26-06-2024 10:08:01387 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 10:08:02077 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 10:08:02079 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 10:08:02082 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 10:08:02084 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 10:08:02086 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 10:08:03400 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 10:08:03790 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 401.5067ms
[26-06-2024 10:08:03830 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 10:08:03848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 17.8079ms
[26-06-2024 10:08:04123 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 10:08:04207 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 85.0414ms
[26-06-2024 10:08:04327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 10:08:04643 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 317.0112ms
[26-06-2024 10:27:23566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 10:27:23648 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 10:27:23654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 93.0075ms
[26-06-2024 10:27:23665 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 184
[26-06-2024 10:27:23675 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 10:27:23952 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 10:27:23957 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 10:27:24064 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 10:27:26540 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("104"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3);"
[26-06-2024 10:27:26748 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SELLING] ([BOOK_ID], [CONDITION_OF_BOOK], [EXCHANGABLE], [PAYMENT_METHOD], [PRICE], [SELLER_ID])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[26-06-2024 10:27:26767 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSelling"'.
[26-06-2024 11:25:43392 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 11:25:45026 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 11:25:45034 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 11:25:45039 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 11:25:45041 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 11:25:45042 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 11:25:48587 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 11:25:49348 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 772.0075ms
[26-06-2024 11:25:49738 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 11:25:49738 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 11:25:49757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 18.672ms
[26-06-2024 11:25:49879 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 141.4097ms
[26-06-2024 11:25:50020 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 11:25:50391 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 370.8116ms
[26-06-2024 11:26:11826 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 11:26:11848 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:26:11851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 25.0174ms
[26-06-2024 11:26:11859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 186
[26-06-2024 11:26:11865 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:26:12116 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 11:26:12120 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 11:26:12166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 11:26:12938 +03:00 BooksApiApp.Controllers.BooksForSellingController ] Entering AddBookForSelling method.
[26-06-2024 11:26:15668 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("285"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3);"
[26-06-2024 11:26:15874 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("44"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SELLING] ([BOOK_ID], [CONDITION_OF_BOOK], [EXCHANGABLE], [PAYMENT_METHOD], [PRICE], [SELLER_ID])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[26-06-2024 11:26:15885 +03:00 BooksApiApp.Controllers.BooksForSellingController ] Book for selling added successfully.
[26-06-2024 11:26:15899 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSelling"'.
[26-06-2024 11:33:02413 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 11:33:03053 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 11:33:03057 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 11:33:03070 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 11:33:03073 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 11:33:03077 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 11:33:04035 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 11:33:04484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 461.4111ms
[26-06-2024 11:33:04629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 11:33:04629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 11:33:04669 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 38.7107ms
[26-06-2024 11:33:04874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 245.2456ms
[26-06-2024 11:33:05070 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 11:33:05516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 446.9876ms
[26-06-2024 11:33:11613 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[26-06-2024 11:33:11614 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[26-06-2024 11:33:11686 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:33:11697 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:33:11868 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SellerBuyer)"
[26-06-2024 11:33:11868 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SellerBuyer)"
[26-06-2024 11:33:11883 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[26-06-2024 11:33:11883 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[26-06-2024 11:33:11887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 401 0 null 273.6036ms
[26-06-2024 11:33:11887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 401 0 null 273.2483ms
[26-06-2024 11:33:31825 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[26-06-2024 11:33:31830 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:33:31832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 7.8276ms
[26-06-2024 11:33:31837 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[26-06-2024 11:33:31843 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:33:31849 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 11:33:31854 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[26-06-2024 11:33:31900 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[26-06-2024 11:33:34857 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("112"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[26-06-2024 11:33:35813 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[26-06-2024 11:33:35868 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[26-06-2024 11:33:35920 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 4010.0905ms
[26-06-2024 11:33:35925 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[26-06-2024 11:33:35928 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Request processed successfully in ErrorHandlerMiddleware.
[26-06-2024 11:33:35950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 4112.7187ms
[26-06-2024 11:33:36006 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[26-06-2024 11:33:36022 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[26-06-2024 11:33:36024 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:33:36037 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:33:36042 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 38.364ms
[26-06-2024 11:33:36052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[26-06-2024 11:33:36047 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 24.3975ms
[26-06-2024 11:33:36054 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[26-06-2024 11:33:36075 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:33:36087 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:33:36218 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 11:33:36228 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 11:33:36251 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[26-06-2024 11:33:36251 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[26-06-2024 11:33:36260 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[26-06-2024 11:33:36261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[26-06-2024 11:33:36668 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("47"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[EXCHANGE], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[SELLING_BOOK_ID_EXCHANGE], [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE], [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME], [b0].[ID], [b0].[AUTHOR], [b0].[CATEGORY], [b0].[DESCRIPTION], [b0].[IS_AVAILABLE], [b0].[TITLE]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN [USER] AS [u] ON [s].[SELLER_ID] = [u].[ID]
LEFT JOIN [BOOK] AS [b0] ON [s].[SELLING_BOOK_ID_EXCHANGE] = [b0].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[26-06-2024 11:33:36668 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("66"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[EXCHANGE], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[SELLING_BOOK_ID_EXCHANGE], [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE], [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME], [b0].[ID], [b0].[AUTHOR], [b0].[CATEGORY], [b0].[DESCRIPTION], [b0].[IS_AVAILABLE], [b0].[TITLE]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN [USER] AS [u] ON [s].[BUYER_ID] = [u].[ID]
LEFT JOIN [BOOK] AS [b0] ON [s].[SELLING_BOOK_ID_EXCHANGE] = [b0].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[26-06-2024 11:33:36774 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.Data.BuyingSellingBooksById, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[26-06-2024 11:33:36774 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.Data.BuyingSellingBooksById, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[26-06-2024 11:33:36792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 496.0818ms
[26-06-2024 11:33:36792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 503.9737ms
[26-06-2024 11:33:36794 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[26-06-2024 11:33:36796 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[26-06-2024 11:33:36798 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Request processed successfully in ErrorHandlerMiddleware.
[26-06-2024 11:33:36799 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Request processed successfully in ErrorHandlerMiddleware.
[26-06-2024 11:33:36800 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 459 "application/json; charset=utf-8" 746.0016ms
[26-06-2024 11:33:36801 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 247 "application/json; charset=utf-8" 749.8744ms
[26-06-2024 11:33:54087 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[26-06-2024 11:33:54123 +03:00 Microsoft.AspNetCore.Authorization.DefaultAuthorizationService ] Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SellerBuyer)"
[26-06-2024 11:33:54124 +03:00 Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler ] AuthenticationScheme: "Bearer" was challenged.
[26-06-2024 11:33:54126 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 401 0 null 39.1683ms
[26-06-2024 11:34:43203 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 11:34:43214 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:34:43216 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 13.8211ms
[26-06-2024 11:34:43222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 161
[26-06-2024 11:34:43226 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:34:43228 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 11:34:43230 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 11:34:43241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 11:34:43280 +03:00 BooksApiApp.Controllers.BooksForSellingController ] Entering AddBookForSelling method.
[26-06-2024 11:34:43471 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3);"
[26-06-2024 11:34:43578 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SELLING] ([BOOK_ID], [CONDITION_OF_BOOK], [EXCHANGABLE], [PAYMENT_METHOD], [PRICE], [SELLER_ID])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[26-06-2024 11:34:43587 +03:00 BooksApiApp.Controllers.BooksForSellingController ] Book for selling added successfully.
[26-06-2024 11:34:43588 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSelling"'.
[26-06-2024 11:40:10601 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 11:40:14196 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 11:40:14198 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 11:40:14201 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 11:40:14202 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 11:40:14203 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 11:40:15604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 11:40:16054 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 460.2618ms
[26-06-2024 11:40:16172 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 11:40:16172 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 11:40:16196 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 20.6207ms
[26-06-2024 11:40:16253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 81.5659ms
[26-06-2024 11:40:16396 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 11:40:16677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 282.1679ms
[26-06-2024 11:41:52859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 11:41:52879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:41:52885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 26.0313ms
[26-06-2024 11:41:52893 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 164
[26-06-2024 11:41:52900 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:41:53109 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 11:41:53115 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 11:41:53165 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 11:41:53657 +03:00 BooksApiApp.Controllers.BooksForSellingController ] Entering AddBookForSelling method.
[26-06-2024 11:41:55850 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("330"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3);"
[26-06-2024 11:41:56132 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SELLING] ([BOOK_ID], [CONDITION_OF_BOOK], [EXCHANGABLE], [PAYMENT_METHOD], [PRICE], [SELLER_ID])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[26-06-2024 11:41:56141 +03:00 BooksApiApp.Controllers.BooksForSellingController ] Book for selling added successfully.
[26-06-2024 11:41:56151 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSelling"'.
[26-06-2024 11:45:27656 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 11:45:29034 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 11:45:29036 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 11:45:29042 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 11:45:29044 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 11:45:29058 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 11:45:31335 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 11:45:32284 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 967.3514ms
[26-06-2024 11:45:32468 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 11:45:32468 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 11:45:32510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 42.3444ms
[26-06-2024 11:45:32808 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 340.1953ms
[26-06-2024 11:45:33011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 11:45:33526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 515.2719ms
[26-06-2024 11:46:05349 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 11:46:05373 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:46:05377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 29.1367ms
[26-06-2024 11:46:05386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 160
[26-06-2024 11:46:05396 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:46:05612 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 11:46:05617 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 11:46:05654 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 11:46:06161 +03:00 BooksApiApp.Controllers.BooksForSellingController ] Entering AddBookForSelling method.
[26-06-2024 11:46:08086 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("227"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3);"
[26-06-2024 11:46:08295 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SELLING] ([BOOK_ID], [CONDITION_OF_BOOK], [EXCHANGABLE], [PAYMENT_METHOD], [PRICE], [SELLER_ID])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[26-06-2024 11:46:08305 +03:00 BooksApiApp.Controllers.BooksForSellingController ] Book for selling added successfully.
[26-06-2024 11:46:08318 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSelling"'.
[26-06-2024 11:49:25701 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 11:49:26257 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 11:49:26259 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 11:49:26263 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 11:49:26265 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 11:49:26267 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 11:49:27108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 11:49:27553 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 452.838ms
[26-06-2024 11:49:27566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 11:49:27577 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 11.5933ms
[26-06-2024 11:49:27655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 11:49:27731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 76.6055ms
[26-06-2024 11:49:27834 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 11:49:28204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 369.1602ms
[26-06-2024 11:50:17789 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 11:50:17814 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:50:17817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 28.6298ms
[26-06-2024 11:50:17826 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 161
[26-06-2024 11:50:17834 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:50:18116 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 11:50:18121 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 11:50:18176 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 11:50:18791 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[26-06-2024 11:50:18849 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)" in 663.1566ms
[26-06-2024 11:50:18852 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 11:50:18858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 400 274 "application/problem+json; charset=utf-8" 1031.4282ms
[26-06-2024 11:51:11480 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 11:51:11490 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:51:11491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 12.1719ms
[26-06-2024 11:51:11498 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 152
[26-06-2024 11:51:11501 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:51:11506 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 11:51:11508 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 11:51:11510 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 11:51:11536 +03:00 BooksApiApp.Controllers.BooksForSellingController ] Entering AddBookForSelling method.
[26-06-2024 11:51:13361 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("84"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3);"
[26-06-2024 11:51:13552 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SELLING] ([BOOK_ID], [CONDITION_OF_BOOK], [EXCHANGABLE], [PAYMENT_METHOD], [PRICE], [SELLER_ID])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[26-06-2024 11:51:13562 +03:00 BooksApiApp.Controllers.BooksForSellingController ] Book for selling added successfully.
[26-06-2024 11:51:13567 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSelling"'.
[26-06-2024 11:53:51527 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 11:53:52205 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 11:53:52207 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 11:53:52210 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 11:53:52212 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 11:53:52213 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 11:53:53364 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 11:53:53796 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 437.0964ms
[26-06-2024 11:53:53818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 11:53:53832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 13.768ms
[26-06-2024 11:53:53895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 11:53:53984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 89.3411ms
[26-06-2024 11:53:54106 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 11:53:54392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 286.6724ms
[26-06-2024 11:54:26463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 11:54:26477 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:54:26481 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 19.1923ms
[26-06-2024 11:54:26503 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 174
[26-06-2024 11:54:26511 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 11:54:26709 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 11:54:26713 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 11:54:26759 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 11:54:27308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[26-06-2024 11:54:27374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)" in 605.9015ms
[26-06-2024 11:54:27376 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 11:54:27381 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 400 274 "application/problem+json; charset=utf-8" 878.82ms
[26-06-2024 12:00:45136 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 12:00:45578 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 12:00:45580 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 12:00:45583 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 12:00:45585 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 12:00:45586 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 12:00:46914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 12:00:47322 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 421.459ms
[26-06-2024 12:00:47367 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 12:00:47381 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 13.1913ms
[26-06-2024 12:00:47439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 12:00:47534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 95.5757ms
[26-06-2024 12:00:47704 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 12:00:48177 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 483.1267ms
[26-06-2024 12:01:12032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 12:01:12047 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 12:01:12052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 20.0628ms
[26-06-2024 12:01:12063 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 178
[26-06-2024 12:01:12073 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 12:01:12286 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 12:01:12292 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 12:01:12346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 12:01:12929 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[26-06-2024 12:01:13010 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)" in 655.5098ms
[26-06-2024 12:01:13013 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 12:01:13020 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 400 274 "application/problem+json; charset=utf-8" 956.3841ms
[26-06-2024 12:01:50094 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - null null
[26-06-2024 12:01:50107 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 12:01:50108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 204 null null 14.4698ms
[26-06-2024 12:01:50113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - "application/json" 161
[26-06-2024 12:01:50116 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 12:01:50123 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 12:01:50124 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 12:01:50126 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSelling\", controller = \"BooksForSelling\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSelling(BooksApiApp.DTO.BookForSellingDTO)" on controller "BooksApiApp.Controllers.BooksForSellingController" ("BooksApiApp").
[26-06-2024 12:01:50148 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[26-06-2024 12:01:50150 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)" in 22.1007ms
[26-06-2024 12:01:50154 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSellingController.AddBookForSelling (BooksApiApp)"'
[26-06-2024 12:01:50156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSelling/AddBookForSelling/add""" - 400 274 "application/problem+json; charset=utf-8" 43.0389ms
[26-06-2024 22:36:56626 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[26-06-2024 22:36:58096 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[26-06-2024 22:36:58099 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[26-06-2024 22:36:58104 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[26-06-2024 22:36:58106 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[26-06-2024 22:36:58107 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[26-06-2024 22:36:59493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[26-06-2024 22:37:00010 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 525.7148ms
[26-06-2024 22:37:00365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[26-06-2024 22:37:00365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[26-06-2024 22:37:00383 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 17.4469ms
[26-06-2024 22:37:00455 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 90.14ms
[26-06-2024 22:37:00578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[26-06-2024 22:37:00831 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 253.1664ms
[26-06-2024 22:37:05684 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[26-06-2024 22:37:05696 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:05700 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 16.0688ms
[26-06-2024 22:37:05710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[26-06-2024 22:37:05717 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:05865 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 22:37:05869 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[26-06-2024 22:37:05908 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[26-06-2024 22:37:09138 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("189"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[26-06-2024 22:37:09987 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[26-06-2024 22:37:10036 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[26-06-2024 22:37:10077 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 4161.9496ms
[26-06-2024 22:37:10079 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[26-06-2024 22:37:10096 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 4386.4763ms
[26-06-2024 22:37:10137 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[26-06-2024 22:37:10139 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[26-06-2024 22:37:10143 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:10148 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:10156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 19.1648ms
[26-06-2024 22:37:10157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 18.6368ms
[26-06-2024 22:37:10167 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[26-06-2024 22:37:10170 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[26-06-2024 22:37:10182 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:10178 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:10292 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 22:37:10292 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 22:37:10294 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 404 0 null 124.9681ms
[26-06-2024 22:37:10296 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 404 0 null 128.8987ms
[26-06-2024 22:37:10305 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser", Response status code: 404
[26-06-2024 22:37:10315 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser", Response status code: 404
[26-06-2024 22:37:39198 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[26-06-2024 22:37:39237 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:39239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 41.296ms
[26-06-2024 22:37:39245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 240
[26-06-2024 22:37:39248 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:39249 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 22:37:39250 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[26-06-2024 22:37:39260 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[26-06-2024 22:37:39502 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("94"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[26-06-2024 22:37:39507 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[26-06-2024 22:37:39538 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[26-06-2024 22:37:39546 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[26-06-2024 22:37:39725 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\UserController.cs:line 83
[26-06-2024 22:37:39839 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 576.5825ms
[26-06-2024 22:37:39844 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[26-06-2024 22:37:40056 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 811.3355ms
[26-06-2024 22:37:51625 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[26-06-2024 22:37:51629 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:51631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 6.9442ms
[26-06-2024 22:37:51637 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 243
[26-06-2024 22:37:51641 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:51643 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 22:37:51644 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[26-06-2024 22:37:51646 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[26-06-2024 22:37:51662 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[26-06-2024 22:37:51716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 67.223ms
[26-06-2024 22:37:51719 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[26-06-2024 22:37:51721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 84.4668ms
[26-06-2024 22:37:58218 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[26-06-2024 22:37:58236 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:58238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 20.5947ms
[26-06-2024 22:37:58247 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[26-06-2024 22:37:58252 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:37:58253 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 22:37:58255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[26-06-2024 22:37:58259 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[26-06-2024 22:37:58310 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[26-06-2024 22:37:58314 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[26-06-2024 22:37:58322 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[26-06-2024 22:37:58325 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698475263569 not found or invalid credentials provided"
[26-06-2024 22:37:58346 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[26-06-2024 22:37:59149 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("76"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (DbType = Int32), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USER_ROLE], [USERNAME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[26-06-2024 22:37:59190 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e66d5808-bb71-47c7-a7aa-3e1261159763
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e66d5808-bb71-47c7-a7aa-3e1261159763
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[26-06-2024 22:37:59360 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\UserService.cs:line 149"
[26-06-2024 22:37:59491 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 1228.0586ms
[26-06-2024 22:37:59493 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[26-06-2024 22:37:59598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 1351.2597ms
[26-06-2024 22:38:10486 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[26-06-2024 22:38:10490 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:38:10491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 6.4249ms
[26-06-2024 22:38:10500 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 233
[26-06-2024 22:38:10503 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[26-06-2024 22:38:10505 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[26-06-2024 22:38:10506 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[26-06-2024 22:38:10509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[26-06-2024 22:38:10529 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[26-06-2024 22:38:10531 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[26-06-2024 22:38:10535 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[26-06-2024 22:38:10537 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698475263569 not found or invalid credentials provided"
[26-06-2024 22:38:10542 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[26-06-2024 22:38:10744 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (DbType = Int32), @p9='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USER_ROLE], [USERNAME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);"
[26-06-2024 22:38:10771 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[26-06-2024 22:38:10781 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[26-06-2024 22:38:10818 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 305.3425ms
[26-06-2024 22:38:10820 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[26-06-2024 22:38:10822 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 246 "application/json; charset=utf-8" 322.49ms
