[01-07-2024 00:00:29700 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 00:00:29730 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:29733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 34.7371ms
[01-07-2024 00:00:29743 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[01-07-2024 00:00:29749 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:29750 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:00:29752 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 00:00:29754 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 00:00:29775 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 00:00:30001 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[01-07-2024 00:00:30005 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[01-07-2024 00:00:30009 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 250.58ms
[01-07-2024 00:00:30013 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 00:00:30016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 273.2098ms
[01-07-2024 00:00:30091 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 00:00:30104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 00:00:30092 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 00:00:30104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 00:00:30093 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 00:00:30128 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:30133 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:30136 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:30160 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 56.2196ms
[01-07-2024 00:00:30164 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 71.4306ms
[01-07-2024 00:00:30147 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 58.3043ms
[01-07-2024 00:00:30141 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:30145 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:30181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 00:00:30168 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 00:00:30208 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 00:00:30198 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 99.1513ms
[01-07-2024 00:00:30199 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 106.8398ms
[01-07-2024 00:00:30205 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:30186 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 00:00:30211 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 00:00:30211 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:30215 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:30228 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:00:30232 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:30238 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:00:30241 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:00:30242 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:00:30243 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 00:00:30245 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:00:30247 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:00:30248 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 00:00:30249 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 00:00:30251 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 00:00:30253 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 00:00:30260 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 00:00:30256 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 00:00:30257 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 00:00:30278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 00:00:30269 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 00:00:30293 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 00:00:30298 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 00:00:30306 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 00:00:30308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 00:00:30315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 00:00:30316 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 00:00:30318 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 00:00:30321 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 00:00:30323 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 49.2912ms
[01-07-2024 00:00:30327 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 62.573ms
[01-07-2024 00:00:30332 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 00:00:30337 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 00:00:30341 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 56.9706ms
[01-07-2024 00:00:30348 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 00:00:30343 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 00:00:30353 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 54.9567ms
[01-07-2024 00:00:30355 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 00:00:30357 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 00:00:30362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 180.4034ms
[01-07-2024 00:00:30365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 157.4944ms
[01-07-2024 00:00:30370 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 00:00:30373 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 82.1043ms
[01-07-2024 00:00:30376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 3819 "application/json; charset=utf-8" 207.6244ms
[01-07-2024 00:00:30400 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 214.9049ms
[01-07-2024 00:00:30407 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 00:00:30427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 217.3306ms
[01-07-2024 00:02:42373 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 00:02:42391 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:02:42393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 20.9904ms
[01-07-2024 00:02:42402 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 174
[01-07-2024 00:02:42408 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:02:42410 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:02:42411 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 00:02:42422 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 00:02:42498 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 00:02:42534 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 00:02:42558 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 44, SellerId: 1, BookId: 42, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 42, Title: "I am a good girl !", Author: "karponi", Description: "dfgdsg", BookCategory: 0, BookForSales: [BookForSale { Id: 44, SellerId: 1, BookId: 42, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 42, Title: "I am a good girl !", Author: "karponi", Description: "dfgdsg", BookCategory: 0, BookForSales: [BookForSale { Id: 44, SellerId: 1, BookId: 42, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 42, Title: "I am a good girl !", Author: "karponi", Description: "dfgdsg", BookCategory: 0, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 00:02:42648 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 00:02:42652 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 225.8301ms
[01-07-2024 00:02:42658 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 00:02:42660 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 304 "application/json; charset=utf-8" 259.5859ms
[01-07-2024 00:03:12823 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 00:03:12828 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:03:12848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 25.2939ms
[01-07-2024 00:03:12858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 00:03:12882 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:03:12883 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:03:12885 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 00:03:12886 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 00:03:12916 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 00:03:12923 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 00:03:12930 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 33.9663ms
[01-07-2024 00:03:12933 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 00:03:12936 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19838 "application/json; charset=utf-8" 78.5326ms
[01-07-2024 00:04:22221 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 00:04:22239 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:22240 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 19.4266ms
[01-07-2024 00:04:22251 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 00:04:22256 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:22258 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:04:22259 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 00:04:22265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 00:04:22288 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 00:04:22297 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 00:04:22318 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 48.3246ms
[01-07-2024 00:04:22322 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 00:04:22324 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19838 "application/json; charset=utf-8" 74.0533ms
[01-07-2024 00:04:26940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 00:04:26941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 00:04:26986 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:26943 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 00:04:26941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 00:04:27011 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:27013 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 72.5314ms
[01-07-2024 00:04:27026 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 84.6402ms
[01-07-2024 00:04:27018 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:27023 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:26949 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 00:04:27038 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 00:04:27059 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 00:04:27050 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 107.7107ms
[01-07-2024 00:04:27051 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 110.0489ms
[01-07-2024 00:04:27055 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:27021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 00:04:27060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 00:04:27064 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:27074 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 124.7152ms
[01-07-2024 00:04:27060 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:27077 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:27081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 00:04:27081 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:27082 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:04:27087 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:04:27088 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:04:27092 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:27093 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:04:27094 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 00:04:27096 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 00:04:27097 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 00:04:27098 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:04:27099 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 00:04:27100 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 00:04:27101 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 00:04:27103 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 00:04:27103 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 00:04:27115 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 00:04:27121 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 00:04:27106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 00:04:27142 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 00:04:27156 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 47.9254ms
[01-07-2024 00:04:27164 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 00:04:27172 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 00:04:27174 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 115.8666ms
[01-07-2024 00:04:27172 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 00:04:27172 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 00:04:27187 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 00:04:27191 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 00:04:27197 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 00:04:27201 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 00:04:27201 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 00:04:27205 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 00:04:27206 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 93.8387ms
[01-07-2024 00:04:27210 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 75.6833ms
[01-07-2024 00:04:27208 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 81.1844ms
[01-07-2024 00:04:27214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 66.564ms
[01-07-2024 00:04:27215 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 00:04:27217 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 00:04:27219 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 00:04:27220 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 00:04:27222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 183.5263ms
[01-07-2024 00:04:27224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 143.391ms
[01-07-2024 00:04:27226 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 3819 "application/json; charset=utf-8" 205.8657ms
[01-07-2024 00:04:27228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 168.5616ms
[01-07-2024 00:04:32522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/GetUserById""" - null null
[01-07-2024 00:04:32533 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:32539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/GetUserById""" - 204 null null 16.8849ms
[01-07-2024 00:04:32558 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/User/GetUserById""" - null null
[01-07-2024 00:04:32563 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:04:32564 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:04:32566 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.GetUserById (BooksApiApp)"'
[01-07-2024 00:04:32568 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetUserById\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] GetUserById()" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 00:04:32577 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[ID] = @__id_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 00:04:32580 +03:00 BooksApiApp.Services.UserService ] "User with id: 1 Success"
[01-07-2024 00:04:32582 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[01-07-2024 00:04:32585 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.GetUserById (BooksApiApp)" in 14.393ms
[01-07-2024 00:04:32588 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.GetUserById (BooksApiApp)"'
[01-07-2024 00:04:32592 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/User/GetUserById""" - 200 349 "application/json; charset=utf-8" 33.6671ms
[01-07-2024 00:07:04813 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 00:07:04829 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:07:04832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 18.3497ms
[01-07-2024 00:07:04840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 00:07:04845 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:07:04848 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:07:04850 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 00:07:04853 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 00:07:04876 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 00:07:04884 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 00:07:04894 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 37.2048ms
[01-07-2024 00:07:04910 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 00:07:04913 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19838 "application/json; charset=utf-8" 73.5052ms
[01-07-2024 00:07:09484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 00:07:09500 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 00:07:09502 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 00:07:09503 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 00:07:09506 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 00:07:09517 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 00:07:09523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 00:07:09533 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 20.543ms
[01-07-2024 00:07:09548 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 00:07:09551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19838 "application/json; charset=utf-8" 69.5909ms
[01-07-2024 18:20:53419 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[01-07-2024 18:20:55183 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[01-07-2024 18:20:55201 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[01-07-2024 18:20:55209 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[01-07-2024 18:20:55212 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[01-07-2024 18:20:55214 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\ BooksApiApp\BooksApiApp\BooksApiApp"
[01-07-2024 18:20:59081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[01-07-2024 18:20:59598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 531.9774ms
[01-07-2024 18:20:59891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[01-07-2024 18:20:59891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[01-07-2024 18:20:59964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 73.3032ms
[01-07-2024 18:21:00083 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 193.4073ms
[01-07-2024 18:21:00174 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[01-07-2024 18:21:00508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 334.3998ms
[01-07-2024 18:23:46637 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:23:46678 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:23:46683 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 45.9275ms
[01-07-2024 18:23:46693 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:23:46705 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:23:46910 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:23:46914 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:23:46954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:23:48248 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[01-07-2024 18:23:48251 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[01-07-2024 18:23:48253 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[01-07-2024 18:23:48255 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[01-07-2024 18:23:49751 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("129"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 18:23:49984 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 18:23:50175 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 3214.1246ms
[01-07-2024 18:23:50178 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:23:50193 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19838 "application/json; charset=utf-8" 3499.4952ms
[01-07-2024 18:24:07308 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:24:07323 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:24:07324 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 16.2097ms
[01-07-2024 18:24:07330 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:24:07334 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:24:07337 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:24:07339 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:24:07341 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:24:07437 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 18:24:07447 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 18:24:07454 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 111.2628ms
[01-07-2024 18:24:07456 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:24:07458 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19838 "application/json; charset=utf-8" 128.9441ms
[01-07-2024 18:24:44801 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:24:44827 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:24:44829 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 32.6894ms
[01-07-2024 18:24:44837 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:24:44842 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:24:44846 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:24:44847 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:24:44848 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:24:44888 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 18:24:44899 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 18:24:44906 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 54.5657ms
[01-07-2024 18:24:44908 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:24:44910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19838 "application/json; charset=utf-8" 72.8404ms
[01-07-2024 18:24:48530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:24:48536 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:24:48539 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:24:48541 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:24:48544 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:24:48573 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 18:24:48580 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 18:24:48587 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 38.4099ms
[01-07-2024 18:24:48590 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:24:48592 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19838 "application/json; charset=utf-8" 63.8725ms
[01-07-2024 18:24:55517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:24:55520 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:24:55522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 4.9635ms
[01-07-2024 18:24:55529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:24:55533 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:24:55535 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:24:55536 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:24:55538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:24:55555 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 18:24:55560 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 18:24:55564 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 22.4275ms
[01-07-2024 18:24:55566 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:24:55567 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19838 "application/json; charset=utf-8" 38.9397ms
[01-07-2024 18:24:56886 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[01-07-2024 18:24:56890 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:24:56892 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 6.8056ms
[01-07-2024 18:24:56896 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 34
[01-07-2024 18:24:56902 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:24:56919 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:24:56920 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[01-07-2024 18:24:56942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 18:24:57107 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("45"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[01-07-2024 18:24:57339 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SALE_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[01-07-2024 18:24:57386 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 18:24:57395 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 450.6963ms
[01-07-2024 18:24:57397 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[01-07-2024 18:24:57399 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 200 41 "application/json; charset=utf-8" 502.5491ms
[01-07-2024 18:24:59444 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:24:59449 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:24:59451 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:24:59453 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:24:59455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:24:59474 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 18:24:59479 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 18:24:59484 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 26.0595ms
[01-07-2024 18:24:59486 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:24:59488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19226 "application/json; charset=utf-8" 44.7454ms
[01-07-2024 18:25:26870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 18:25:26888 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:25:26890 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 20.3744ms
[01-07-2024 18:25:26895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 171
[01-07-2024 18:25:26899 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:25:26903 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:25:26904 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 18:25:26911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:25:26979 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 18:25:27009 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 18:25:27023 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 45, SellerId: 1, BookId: 43, Price: 5.26, ConditionOfBook: 2, TypeOfTransaction: 0, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 43, Title: "kate", Author: "kipa", Description: "", BookCategory: 0, BookForSales: [BookForSale { Id: 45, SellerId: 1, BookId: 43, Price: 5.26, ConditionOfBook: 2, TypeOfTransaction: 0, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 43, Title: "kate", Author: "kipa", Description: "", BookCategory: 0, BookForSales: [BookForSale { Id: 45, SellerId: 1, BookId: 43, Price: 5.26, ConditionOfBook: 2, TypeOfTransaction: 0, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 43, Title: "kate", Author: "kipa", Description: "", BookCategory: 0, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 18:25:27084 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 18:25:27104 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 189.7409ms
[01-07-2024 18:25:27107 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 18:25:27108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 282 "application/json; charset=utf-8" 214.3741ms
[01-07-2024 18:40:49594 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:40:49617 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:40:49624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 41.7654ms
[01-07-2024 18:40:49633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:40:49645 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:40:49673 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:40:49675 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:40:49685 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:40:50151 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("127"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 18:40:50173 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 18:40:50186 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 498.6482ms
[01-07-2024 18:40:50189 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:40:50192 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19793 "application/json; charset=utf-8" 559.508ms
[01-07-2024 18:45:50934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 18:45:50939 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:45:50941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 7.7424ms
[01-07-2024 18:45:50948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 163
[01-07-2024 18:45:50953 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:45:50974 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:45:50976 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 18:45:50980 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:45:51089 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("39"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 18:45:51135 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 18:45:51144 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 46, SellerId: 1, BookId: 44, Price: 0, ConditionOfBook: 2, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 44, Title: " !", Author: " !", Description: "", BookCategory: 0, BookForSales: [BookForSale { Id: 46, SellerId: 1, BookId: 44, Price: 0, ConditionOfBook: 2, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 44, Title: " !", Author: " !", Description: "", BookCategory: 0, BookForSales: [BookForSale { Id: 46, SellerId: 1, BookId: 44, Price: 0, ConditionOfBook: 2, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 44, Title: " !", Author: " !", Description: "", BookCategory: 0, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 18:45:51221 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 18:45:51225 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 242.2178ms
[01-07-2024 18:45:51227 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 18:45:51230 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 291 "application/json; charset=utf-8" 282.1915ms
[01-07-2024 18:50:36055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:50:36058 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:50:36088 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 4.1343ms
[01-07-2024 18:50:36144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:50:36150 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:50:36153 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:50:36155 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:50:36157 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:50:36204 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 18:50:36212 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 18:50:36222 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 60.6856ms
[01-07-2024 18:50:36226 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:50:36229 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20370 "application/json; charset=utf-8" 85.6464ms
[01-07-2024 18:52:22069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:52:22100 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:52:22115 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 46.6705ms
[01-07-2024 18:52:22212 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 18:52:22246 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:52:22250 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:52:22271 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:52:22276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:52:22368 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("78"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 18:52:22387 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 18:52:22412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 131.7581ms
[01-07-2024 18:52:22414 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 18:52:22417 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20370 "application/json; charset=utf-8" 250.015ms
[01-07-2024 18:52:46001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 18:52:46013 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:52:46014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 13.3503ms
[01-07-2024 18:52:46021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 164
[01-07-2024 18:52:46024 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 18:52:46026 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 18:52:46027 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 18:52:46028 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 18:52:46059 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 18:52:46077 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 18:52:46082 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 47, SellerId: 1, BookId: 45, Price: 20.25, ConditionOfBook: 2, TypeOfTransaction: 0, PaymentMethod: 0, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 45, Title: "ekei", Author: "edo", Description: "", BookCategory: 0, BookForSales: [BookForSale { Id: 47, SellerId: 1, BookId: 45, Price: 20.25, ConditionOfBook: 2, TypeOfTransaction: 0, PaymentMethod: 0, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 45, Title: "ekei", Author: "edo", Description: "", BookCategory: 0, BookForSales: [BookForSale { Id: 47, SellerId: 1, BookId: 45, Price: 20.25, ConditionOfBook: 2, TypeOfTransaction: 0, PaymentMethod: 0, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 45, Title: "ekei", Author: "edo", Description: "", BookCategory: 0, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 18:52:46160 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 18:52:46163 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 132.2003ms
[01-07-2024 18:52:46167 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 18:52:46172 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 282 "application/json; charset=utf-8" 151.4763ms
[01-07-2024 19:14:20133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 19:14:20168 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:14:20173 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 45.5966ms
[01-07-2024 19:14:20180 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 160
[01-07-2024 19:14:20189 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:14:20203 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 19:14:20205 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:14:20212 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 19:14:20619 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("64"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 19:14:20662 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 19:14:20667 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 48, SellerId: 1, BookId: 46, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 0, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 46, Title: "dfgsd", Author: "fgdg", Description: "", BookCategory: 2, BookForSales: [BookForSale { Id: 48, SellerId: 1, BookId: 46, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 0, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 46, Title: "dfgsd", Author: "fgdg", Description: "", BookCategory: 2, BookForSales: [BookForSale { Id: 48, SellerId: 1, BookId: 46, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 0, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 46, Title: "dfgsd", Author: "fgdg", Description: "", BookCategory: 2, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 19:14:20743 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 19:14:20746 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 531.4863ms
[01-07-2024 19:14:20749 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:14:20752 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 282 "application/json; charset=utf-8" 572.1588ms
[01-07-2024 19:20:00973 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 19:20:00981 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:20:00983 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 10.587ms
[01-07-2024 19:20:00992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 153
[01-07-2024 19:20:01000 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:20:01002 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 19:20:01005 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:20:01007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 19:20:01118 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[01-07-2024 19:20:01187 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 175.951ms
[01-07-2024 19:20:01188 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:20:01191 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 400 430 "application/problem+json; charset=utf-8" 199.8968ms
[01-07-2024 19:24:05412 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 19:24:05423 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:24:05426 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 14.3466ms
[01-07-2024 19:24:05432 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 153
[01-07-2024 19:24:05437 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:24:05441 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 19:24:05443 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:24:05445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 19:24:05451 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[01-07-2024 19:24:05454 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 5.7842ms
[01-07-2024 19:24:05458 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:24:05461 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 400 430 "application/problem+json; charset=utf-8" 29.2671ms
[01-07-2024 19:24:14009 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 19:24:14022 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:24:14023 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 14.2494ms
[01-07-2024 19:24:14027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 161
[01-07-2024 19:24:14032 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:24:14034 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 19:24:14035 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:24:14036 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 19:24:14039 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[01-07-2024 19:24:14041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 3.0109ms
[01-07-2024 19:24:14042 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:24:14044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 400 430 "application/problem+json; charset=utf-8" 16.9691ms
[01-07-2024 19:24:21980 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 19:24:21983 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:24:21984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 4.3452ms
[01-07-2024 19:24:21990 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 174
[01-07-2024 19:24:21993 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:24:21995 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 19:24:21997 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:24:21998 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 19:24:22007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[01-07-2024 19:24:22010 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 8.888ms
[01-07-2024 19:24:22012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:24:22013 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 400 430 "application/problem+json; charset=utf-8" 24.464ms
[01-07-2024 19:29:01297 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 19:29:01302 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:29:01304 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 8.2118ms
[01-07-2024 19:29:01310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 164
[01-07-2024 19:29:01314 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:29:01317 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 19:29:01318 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:29:01319 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 19:29:01969 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("99"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 19:29:02010 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 19:29:02015 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 49, SellerId: 1, BookId: 47, Price: 0.06, ConditionOfBook: 3, TypeOfTransaction: 0, PaymentMethod: 2, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 47, Title: "raian", Author: "sdsad", Description: "", BookCategory: 3, BookForSales: [BookForSale { Id: 49, SellerId: 1, BookId: 47, Price: 0.06, ConditionOfBook: 3, TypeOfTransaction: 0, PaymentMethod: 2, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 47, Title: "raian", Author: "sdsad", Description: "", BookCategory: 3, BookForSales: [BookForSale { Id: 49, SellerId: 1, BookId: 47, Price: 0.06, ConditionOfBook: 3, TypeOfTransaction: 0, PaymentMethod: 2, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 47, Title: "raian", Author: "sdsad", Description: "", BookCategory: 3, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 19:29:02079 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 19:29:02083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 760.9253ms
[01-07-2024 19:29:02085 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:29:02087 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 284 "application/json; charset=utf-8" 776.883ms
[01-07-2024 19:32:15155 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 19:32:15170 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:32:15171 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 15.9697ms
[01-07-2024 19:32:15176 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 154
[01-07-2024 19:32:15178 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:32:15181 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 19:32:15182 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:32:15184 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 19:32:15221 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 19:32:15239 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 19:32:15245 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 50, SellerId: 1, BookId: 48, Price: 0, ConditionOfBook: 2, TypeOfTransaction: 1, PaymentMethod: 2, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 48, Title: "detes", Author: "kipa", Description: "", BookCategory: 1, BookForSales: [BookForSale { Id: 50, SellerId: 1, BookId: 48, Price: 0, ConditionOfBook: 2, TypeOfTransaction: 1, PaymentMethod: 2, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 48, Title: "detes", Author: "kipa", Description: "", BookCategory: 1, BookForSales: [BookForSale { Id: 50, SellerId: 1, BookId: 48, Price: 0, ConditionOfBook: 2, TypeOfTransaction: 1, PaymentMethod: 2, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 48, Title: "detes", Author: "kipa", Description: "", BookCategory: 1, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 19:32:15309 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 19:32:15312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 125.2156ms
[01-07-2024 19:32:15316 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:32:15318 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 282 "application/json; charset=utf-8" 142.9303ms
[01-07-2024 19:38:55635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 19:38:55646 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:38:55648 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 14.8622ms
[01-07-2024 19:38:55655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 156
[01-07-2024 19:38:55659 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:38:55667 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 19:38:55669 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:38:55672 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 19:38:56166 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("39"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 19:38:56207 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 19:38:56212 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 51, SellerId: 1, BookId: 49, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 49, Title: "fragos", Author: "sdfa", Description: "", BookCategory: 3, BookForSales: [BookForSale { Id: 51, SellerId: 1, BookId: 49, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 49, Title: "fragos", Author: "sdfa", Description: "", BookCategory: 3, BookForSales: [BookForSale { Id: 51, SellerId: 1, BookId: 49, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 49, Title: "fragos", Author: "sdfa", Description: "", BookCategory: 3, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 19:38:56275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 19:38:56277 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 602.1393ms
[01-07-2024 19:38:56278 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:38:56280 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 283 "application/json; charset=utf-8" 626.4855ms
[01-07-2024 19:41:33116 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 19:41:33128 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:41:33130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 14.2769ms
[01-07-2024 19:41:33135 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 157
[01-07-2024 19:41:33138 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 19:41:33139 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 19:41:33140 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:41:33142 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 19:41:33157 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 19:41:33171 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 19:41:33174 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 52, SellerId: 1, BookId: 50, Price: 0, ConditionOfBook: 2, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 50, Title: "rfd", Author: "dfdsa", Description: "", BookCategory: 4, BookForSales: [BookForSale { Id: 52, SellerId: 1, BookId: 50, Price: 0, ConditionOfBook: 2, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 50, Title: "rfd", Author: "dfdsa", Description: "", BookCategory: 4, BookForSales: [BookForSale { Id: 52, SellerId: 1, BookId: 50, Price: 0, ConditionOfBook: 2, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 50, Title: "rfd", Author: "dfdsa", Description: "", BookCategory: 4, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 19:41:33232 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 19:41:33234 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 88.3337ms
[01-07-2024 19:41:33236 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 19:41:33237 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 281 "application/json; charset=utf-8" 102.5144ms
[01-07-2024 20:07:30228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 20:07:30246 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:07:30253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 30.6721ms
[01-07-2024 20:07:30264 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 157
[01-07-2024 20:07:30272 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:07:30298 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:07:30301 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 20:07:30317 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 20:07:30388 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[01-07-2024 20:07:30395 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 73.2426ms
[01-07-2024 20:07:30397 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 20:07:30401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 400 430 "application/problem+json; charset=utf-8" 137.8673ms
[01-07-2024 20:16:52454 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 20:16:52464 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:16:52469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 23.347ms
[01-07-2024 20:16:52476 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 168
[01-07-2024 20:16:52486 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:16:52500 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:16:52502 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 20:16:52508 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 20:16:53130 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("112"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 20:16:53177 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 20:16:53182 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 53, SellerId: 1, BookId: 51, Price: 0.04, ConditionOfBook: 2, TypeOfTransaction: 0, PaymentMethod: 2, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 51, Title: "cvgdf", Author: "fgsdf", Description: "", BookCategory: 1, BookForSales: [BookForSale { Id: 53, SellerId: 1, BookId: 51, Price: 0.04, ConditionOfBook: 2, TypeOfTransaction: 0, PaymentMethod: 2, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 51, Title: "cvgdf", Author: "fgsdf", Description: "", BookCategory: 1, BookForSales: [BookForSale { Id: 53, SellerId: 1, BookId: 51, Price: 0.04, ConditionOfBook: 2, TypeOfTransaction: 0, PaymentMethod: 2, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 51, Title: "cvgdf", Author: "fgsdf", Description: "", BookCategory: 1, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 20:16:53226 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 20:16:53230 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 719.3007ms
[01-07-2024 20:16:53232 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 20:16:53234 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 284 "application/json; charset=utf-8" 758.9773ms
[01-07-2024 20:17:49762 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - null null
[01-07-2024 20:17:49771 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:17:49773 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 204 null null 19.577ms
[01-07-2024 20:17:49784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - "application/json" 164
[01-07-2024 20:17:49788 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:17:49792 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:17:49794 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 20:17:49796 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"AddBookForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBookForSale(BooksApiApp.DTO.BookForSaleDTO)" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 20:17:49848 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("38"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK] ([AUTHOR], [BOOK_CATEGORY], [DESCRIPTION], [TITLE])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);"
[01-07-2024 20:17:49885 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BOOK_FOR_SALE] ([BOOK_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID], INSERTED.[IS_AVAILABLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);"
[01-07-2024 20:17:49892 +03:00 BooksApiApp.Controllers.BooksForSaleController ] Book for sale added successfully: BookForSale { Id: 54, SellerId: 1, BookId: 52, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 52, Title: "blue rey", Author: "vcx", Description: "", BookCategory: 2, BookForSales: [BookForSale { Id: 54, SellerId: 1, BookId: 52, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 52, Title: "blue rey", Author: "vcx", Description: "", BookCategory: 2, BookForSales: [BookForSale { Id: 54, SellerId: 1, BookId: 52, Price: 0, ConditionOfBook: 1, TypeOfTransaction: 1, PaymentMethod: 1, IsAvailable: True, ApprovalSales: [], Book: Book { Id: 52, Title: "blue rey", Author: "vcx", Description: "", BookCategory: 2, BookForSales: [BookForSale { Id: null, SellerId: null, BookId: null, Price: null, ConditionOfBook: null, TypeOfTransaction: null, PaymentMethod: null, IsAvailable: null, ApprovalSales: null, Book: null, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }], BookReadyForTradings: [], Sales: [] }, Seller: null }
[01-07-2024 20:17:49948 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.Data.BookForSale"'.
[01-07-2024 20:17:49952 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)" in 151.6986ms
[01-07-2024 20:17:49954 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.AddBookForSale (BooksApiApp)"'
[01-07-2024 20:17:49956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BooksForSale/AddBookForSale/add""" - 200 284 "application/json; charset=utf-8" 172.2917ms
[01-07-2024 20:17:54570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:17:54576 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:17:54577 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 7.355ms
[01-07-2024 20:17:54585 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:17:54601 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:17:54604 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:17:54605 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:17:54606 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 20:17:54666 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 20:17:54675 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:17:54685 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 76.2999ms
[01-07-2024 20:17:54687 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:17:54689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 24916 "application/json; charset=utf-8" 103.7943ms
[01-07-2024 20:29:14787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:29:14801 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:14803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 22.2918ms
[01-07-2024 20:29:14809 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:29:14820 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:14869 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:14873 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:29:14878 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 20:29:15617 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 20:29:15641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:29:15658 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 775.7744ms
[01-07-2024 20:29:15668 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:29:15669 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 24916 "application/json; charset=utf-8" 860.8305ms
[01-07-2024 20:29:21620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:29:21631 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:21633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 13.3901ms
[01-07-2024 20:29:21643 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:29:21651 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:21654 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:21655 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:29:21657 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 20:29:21683 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 20:29:21690 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:29:21700 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 39.8229ms
[01-07-2024 20:29:21703 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:29:21707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 24916 "application/json; charset=utf-8" 64.556ms
[01-07-2024 20:29:23614 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[01-07-2024 20:29:23618 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:23619 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 5.5691ms
[01-07-2024 20:29:23626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 33
[01-07-2024 20:29:23630 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:23634 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:23636 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[01-07-2024 20:29:23639 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:29:23700 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[01-07-2024 20:29:23744 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SALE_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[01-07-2024 20:29:23754 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:29:23758 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 115.8118ms
[01-07-2024 20:29:23760 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[01-07-2024 20:29:23762 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 200 41 "application/json; charset=utf-8" 136.8956ms
[01-07-2024 20:29:25948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:29:25958 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:25961 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:25962 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:29:25964 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 20:29:25995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 20:29:26005 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:29:26011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 43.5019ms
[01-07-2024 20:29:26015 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:29:26017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 24287 "application/json; charset=utf-8" 72.7317ms
[01-07-2024 20:29:28071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:29:28071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:29:28089 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:28077 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:29:28099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 29.6637ms
[01-07-2024 20:29:28117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:29:28093 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:28072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:29:28090 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:29:28133 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:28123 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:28131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 59.9031ms
[01-07-2024 20:29:28179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:29:28142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 64.6942ms
[01-07-2024 20:29:28134 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:28140 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:28141 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:29:28190 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:28190 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:28197 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:29:28198 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:28197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:29:28191 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 120.3229ms
[01-07-2024 20:29:28193 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 102.6248ms
[01-07-2024 20:29:28196 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:28200 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:29:28201 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:29:28204 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:28213 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:28218 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:28220 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:28221 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:29:28222 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:28223 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:29:28226 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:29:28239 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:29:28239 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:29:28239 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:29:28239 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:29:28239 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:29:28399 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:29:28414 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:29:28419 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:29:28434 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:29:28444 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:29:28451 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 20:29:28457 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:29:28459 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:29:28465 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 221.3572ms
[01-07-2024 20:29:28469 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:29:28469 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:29:28471 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 273.8595ms
[01-07-2024 20:29:28474 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 219.0169ms
[01-07-2024 20:29:28480 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:29:28482 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 282.986ms
[01-07-2024 20:29:28485 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:29:28486 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:29:28501 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 254.2927ms
[01-07-2024 20:29:28502 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 253.7526ms
[01-07-2024 20:29:28506 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:29:28505 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:29:28508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 367.7703ms
[01-07-2024 20:29:28510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 3819 "application/json; charset=utf-8" 393.8616ms
[01-07-2024 20:29:28511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 269.2109ms
[01-07-2024 20:29:28522 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:29:28524 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 19711 "application/json; charset=utf-8" 344.9166ms
[01-07-2024 20:29:44175 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 20:29:44179 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:44181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 6.4613ms
[01-07-2024 20:29:44185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[01-07-2024 20:29:44192 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:44195 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:44196 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:29:44207 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 20:29:44270 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 20:29:45102 +03:00 BooksApiApp.Services.UserService ] {Message}User: "kate" found and returned
[01-07-2024 20:29:45160 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[01-07-2024 20:29:45164 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 954.7659ms
[01-07-2024 20:29:45167 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:29:45171 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 576 "application/json; charset=utf-8" 985.6137ms
[01-07-2024 20:29:45233 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:29:45244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:29:45246 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:45251 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:45252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:29:45252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 19.1308ms
[01-07-2024 20:29:45264 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:29:45262 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:29:45265 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:29:45262 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:45256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 12.7716ms
[01-07-2024 20:29:45275 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:29:45279 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:45282 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:45287 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:45288 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 35.4008ms
[01-07-2024 20:29:45310 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:45311 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 50.4015ms
[01-07-2024 20:29:45299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:29:45307 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:45312 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:45320 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:29:45321 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:29:45331 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:45332 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 57.65ms
[01-07-2024 20:29:45333 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:29:45338 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:45339 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:29:45340 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:29:45341 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:45346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:29:45350 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:45354 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:29:45360 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:45362 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:29:45347 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:45364 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:29:45368 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:29:45371 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:29:45373 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:29:45384 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:29:45384 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:29:45387 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:29:45389 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:29:45392 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:29:45393 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:29:45395 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:29:45395 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:29:45397 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 37.8546ms
[01-07-2024 20:29:45399 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 45.6665ms
[01-07-2024 20:29:45402 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:29:45406 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 44
[01-07-2024 20:29:45408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 41.9024ms
[01-07-2024 20:29:45410 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:29:45412 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:29:45415 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 39.8571ms
[01-07-2024 20:29:45416 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:29:45420 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:29:45422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 933 "application/json; charset=utf-8" 156.4763ms
[01-07-2024 20:29:45423 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 999 "application/json; charset=utf-8" 160.0877ms
[01-07-2024 20:29:45425 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:29:45427 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 47.645ms
[01-07-2024 20:29:45429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 3008 "application/json; charset=utf-8" 130.724ms
[01-07-2024 20:29:45443 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 104.5972ms
[01-07-2024 20:29:45445 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:29:45456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 136.9618ms
[01-07-2024 20:29:56621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[01-07-2024 20:29:56626 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:56627 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 6.8295ms
[01-07-2024 20:29:56632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 2
[01-07-2024 20:29:56635 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:29:56637 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:29:56638 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[01-07-2024 20:29:56643 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:29:56651 +03:00 BooksApiApp.Services.UserService ] Attempting to approve sale for BookId: 12, SellerId: 44
[01-07-2024 20:29:56685 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[01-07-2024 20:29:56689 +03:00 BooksApiApp.Services.UserService ] BookForSale found for BookId: 12, SellerId: 44
[01-07-2024 20:29:56704 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SALE_ID] = @__bookForSaleId_0"
[01-07-2024 20:29:56708 +03:00 BooksApiApp.Services.UserService ] ApprovalSale found for BookForSaleId: 12
[01-07-2024 20:29:56712 +03:00 BooksApiApp.Services.UserService ] Creating BookReadyForTrading entry for BookId: 12, SellerId: 44
[01-07-2024 20:29:56821 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SALE]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BOOK_READY_FOR_TRADING] ([AUTHOR], [BOOK_CATEGORY], [BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [DESCRIPTION], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TITLE], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[01-07-2024 20:29:56840 +03:00 BooksApiApp.Services.UserService ] Approved sale for BookId: 12, SellerId: 44
[01-07-2024 20:29:56843 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:29:56846 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 199.8171ms
[01-07-2024 20:29:56848 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[01-07-2024 20:29:56850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 200 33 "application/json; charset=utf-8" 218.463ms
[01-07-2024 20:30:41207 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 20:30:41218 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 14.4222ms
[01-07-2024 20:30:41226 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[01-07-2024 20:30:41239 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41241 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:30:41242 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:30:41244 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 20:30:41263 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 20:30:41443 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[01-07-2024 20:30:41446 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[01-07-2024 20:30:41448 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 200.1961ms
[01-07-2024 20:30:41450 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:30:41452 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 226.4361ms
[01-07-2024 20:30:41501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:30:41507 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 7.1974ms
[01-07-2024 20:30:41510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:30:41515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:30:41518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:30:41530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:30:41551 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41521 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41579 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 61.238ms
[01-07-2024 20:30:41577 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41594 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 84.5672ms
[01-07-2024 20:30:41604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 73.6679ms
[01-07-2024 20:30:41606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:30:41526 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41555 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:30:41594 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:30:41610 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:30:41616 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41617 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:30:41620 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41622 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41625 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41626 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:30:41626 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:30:41627 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 72.7ms
[01-07-2024 20:30:41630 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:30:41629 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:30:41631 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:30:41628 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:30:41632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:30:41638 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:30:41639 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:30:41642 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:30:41652 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:30:41654 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:30:41648 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:41665 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:30:41668 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:30:41670 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:30:41674 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:30:41678 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:30:41685 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 43.3659ms
[01-07-2024 20:30:41688 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:30:41690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 3819 "application/json; charset=utf-8" 175.6189ms
[01-07-2024 20:30:41741 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("60"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:30:41744 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("92"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:30:41751 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:30:41753 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:30:41756 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("96"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:30:41756 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("90"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:30:41756 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 105.2604ms
[01-07-2024 20:30:41763 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:30:41767 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 20:30:41774 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 115.0939ms
[01-07-2024 20:30:41770 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 89.768ms
[01-07-2024 20:30:41769 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:30:41774 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:30:41776 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:30:41784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 9489 "application/json; charset=utf-8" 174.8212ms
[01-07-2024 20:30:41780 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 174.6725ms
[01-07-2024 20:30:41782 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 118.4131ms
[01-07-2024 20:30:41778 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:30:41800 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:30:41803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 951 "application/json; charset=utf-8" 171.3953ms
[01-07-2024 20:30:41809 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 215.2831ms
[01-07-2024 20:30:48577 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[01-07-2024 20:30:48586 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:48588 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 11.7054ms
[01-07-2024 20:30:48593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 2
[01-07-2024 20:30:48597 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:48601 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:30:48602 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[01-07-2024 20:30:48613 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:30:48639 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__buyerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[BUYER_ID] = @__buyerId_1"
[01-07-2024 20:30:48672 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BOOK_READY_FOR_TRADING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [SALE] ([BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[01-07-2024 20:30:48681 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:30:48682 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 65.462ms
[01-07-2024 20:30:48685 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[01-07-2024 20:30:48686 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 200 40 "application/json; charset=utf-8" 93.8184ms
[01-07-2024 20:30:50384 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:30:50389 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:50390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 6.4615ms
[01-07-2024 20:30:50398 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:30:50402 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:30:50404 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:30:50406 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:30:50407 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:30:50422 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:30:50428 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:30:50430 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 19.545ms
[01-07-2024 20:30:50432 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:30:50434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 36.3946ms
[01-07-2024 20:37:07940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:37:07945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:37:07972 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:07977 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:07945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:37:07993 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 45.4214ms
[01-07-2024 20:37:07989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 48.9008ms
[01-07-2024 20:37:07946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:37:07977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:37:08009 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:08025 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:08056 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 110.5934ms
[01-07-2024 20:37:08052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:37:08052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:37:08056 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 110.8405ms
[01-07-2024 20:37:08053 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:08067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:37:08067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:37:08081 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:08083 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:08089 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 113.6267ms
[01-07-2024 20:37:08094 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:08095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:37:08097 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:08098 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:08099 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:08104 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:08106 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:08107 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:08109 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:37:08110 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:37:08111 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:37:08112 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:08113 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:37:08114 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:37:08116 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:37:08117 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:37:08121 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:37:08119 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:37:08162 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:37:08279 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:37:08279 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:37:08288 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:37:08291 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:37:08292 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("55"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:37:08291 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:37:08292 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 20:37:08294 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 149.0668ms
[01-07-2024 20:37:08298 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:37:08301 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:37:08306 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:37:08310 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 151.478ms
[01-07-2024 20:37:08304 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:37:08305 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:37:08312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 188.1366ms
[01-07-2024 20:37:08312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 245.6325ms
[01-07-2024 20:37:08315 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:37:08317 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 149.6823ms
[01-07-2024 20:37:08319 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 192.2196ms
[01-07-2024 20:37:08322 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:37:08328 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 9489 "application/json; charset=utf-8" 261.3026ms
[01-07-2024 20:37:08330 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:37:08331 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:37:08333 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 4843 "application/json; charset=utf-8" 281.5852ms
[01-07-2024 20:37:08343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 247.719ms
[01-07-2024 20:37:08344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 292.6811ms
[01-07-2024 20:37:13401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:37:13404 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:13405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 4.833ms
[01-07-2024 20:37:13412 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:37:13417 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:13419 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:13421 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:37:13422 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 20:37:13446 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 20:37:13455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:37:13461 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 36.1924ms
[01-07-2024 20:37:13464 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:37:13466 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 24287 "application/json; charset=utf-8" 54.835ms
[01-07-2024 20:37:16058 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:37:16064 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:16066 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:16068 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:37:16070 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 20:37:16092 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 20:37:16100 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:37:16106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 33.2658ms
[01-07-2024 20:37:16109 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:37:16112 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 24287 "application/json; charset=utf-8" 54.4607ms
[01-07-2024 20:37:17425 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[01-07-2024 20:37:17431 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:17433 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 8.5545ms
[01-07-2024 20:37:17440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 33
[01-07-2024 20:37:17444 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:17446 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:17447 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[01-07-2024 20:37:17449 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:37:17463 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[01-07-2024 20:37:17478 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SALE_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[01-07-2024 20:37:17483 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:37:17485 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 32.6926ms
[01-07-2024 20:37:17486 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[01-07-2024 20:37:17488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 200 41 "application/json; charset=utf-8" 48.7631ms
[01-07-2024 20:37:18905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:37:18910 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:18911 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 6.6152ms
[01-07-2024 20:37:18917 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[01-07-2024 20:37:18920 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:18922 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:18923 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:37:18925 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[01-07-2024 20:37:18947 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[01-07-2024 20:37:18953 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:37:18965 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 35.1669ms
[01-07-2024 20:37:18967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[01-07-2024 20:37:18968 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 23670 "application/json; charset=utf-8" 51.3907ms
[01-07-2024 20:37:30463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:37:30463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:37:30463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:37:30467 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:30470 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:30466 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:37:30472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:37:30476 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 13.1291ms
[01-07-2024 20:37:30486 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:37:30475 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 12.8878ms
[01-07-2024 20:37:30481 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:30474 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:30486 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:37:30495 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:30506 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:30517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:37:30517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:37:30520 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:30522 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:30523 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:37:30510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 45.036ms
[01-07-2024 20:37:30512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 49.7624ms
[01-07-2024 20:37:30516 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:30518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 46.6333ms
[01-07-2024 20:37:30534 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:30535 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:37:30537 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:30540 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:30548 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:30554 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:30555 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:37:30555 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:37:30557 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:30557 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:37:30562 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:37:30563 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:37:30558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:37:30574 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:37:30569 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:37:30577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:37:30586 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:37:30601 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:37:30601 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:37:30602 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:37:30605 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 44.5606ms
[01-07-2024 20:37:30609 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:37:30610 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:37:30613 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:37:30615 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:37:30611 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:37:30617 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 45.1098ms
[01-07-2024 20:37:30620 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 20:37:30621 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 4843 "application/json; charset=utf-8" 136.2443ms
[01-07-2024 20:37:30625 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:37:30627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 47.2195ms
[01-07-2024 20:37:30628 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:37:30642 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:37:30629 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:37:30644 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 55.0255ms
[01-07-2024 20:37:30645 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 127.2767ms
[01-07-2024 20:37:30648 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 124.9852ms
[01-07-2024 20:37:30654 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 68.6864ms
[01-07-2024 20:37:30656 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:37:30667 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:37:30669 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 19748 "application/json; charset=utf-8" 151.3139ms
[01-07-2024 20:37:30670 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 183.8783ms
[01-07-2024 20:37:49221 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 20:37:49224 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:49225 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 4.5732ms
[01-07-2024 20:37:49230 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[01-07-2024 20:37:49233 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:49235 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:49236 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:37:49238 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 20:37:49254 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 20:37:49442 +03:00 BooksApiApp.Services.UserService ] "User: gdfdnot found or invalid credentials provided"
[01-07-2024 20:37:49810 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 569.1841ms
[01-07-2024 20:37:49812 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:37:49931 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 702.0002ms
[01-07-2024 20:37:57433 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 20:37:57437 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:57438 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 5.782ms
[01-07-2024 20:37:57445 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[01-07-2024 20:37:57451 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:37:57452 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:37:57454 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:37:57455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 20:37:57471 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 20:37:57640 +03:00 BooksApiApp.Services.UserService ] "User: gdfdnot found or invalid credentials provided"
[01-07-2024 20:37:57689 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 230.8544ms
[01-07-2024 20:37:57692 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:37:57775 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 329.5913ms
[01-07-2024 20:38:07873 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 20:38:07876 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:07877 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 4.6244ms
[01-07-2024 20:38:07882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[01-07-2024 20:38:07885 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:07886 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:07887 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:38:07889 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 20:38:07905 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 20:38:08096 +03:00 BooksApiApp.Services.UserService ] {Message}User: "kate" found and returned
[01-07-2024 20:38:08099 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[01-07-2024 20:38:08103 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 212.1754ms
[01-07-2024 20:38:08105 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:38:08107 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 576 "application/json; charset=utf-8" 226.2051ms
[01-07-2024 20:38:08168 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:38:08177 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:38:08179 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:08183 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:08188 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 20.0586ms
[01-07-2024 20:38:08216 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:38:08193 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:38:08205 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:38:08188 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 12.0025ms
[01-07-2024 20:38:08205 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:38:08205 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:38:08240 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:08243 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:08246 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:08257 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:08268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 62.4016ms
[01-07-2024 20:38:08263 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 46.7969ms
[01-07-2024 20:38:08265 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 71.2934ms
[01-07-2024 20:38:08266 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:08285 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:38:08261 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:08289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:38:08289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:38:08294 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:08297 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:08298 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:08301 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:08305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:08307 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:38:08308 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:08312 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:08310 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:08315 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:08339 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:38:08341 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:38:08344 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:38:08345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:38:08350 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:38:08351 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:38:08348 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:38:08359 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:38:08373 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:08390 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:38:08392 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 71.079ms
[01-07-2024 20:38:08395 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:08396 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:08399 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 46.475ms
[01-07-2024 20:38:08399 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:38:08401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 999 "application/json; charset=utf-8" 195.6174ms
[01-07-2024 20:38:08403 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:08406 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("40"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:38:08413 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:38:08420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3087 "application/json; charset=utf-8" 216.2857ms
[01-07-2024 20:38:08421 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:38:08425 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 44
[01-07-2024 20:38:08427 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 51.9785ms
[01-07-2024 20:38:08441 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 44
[01-07-2024 20:38:08442 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:38:08444 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:38:08446 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:38:08448 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 84.7358ms
[01-07-2024 20:38:08450 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 164.7586ms
[01-07-2024 20:38:08455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 71.1888ms
[01-07-2024 20:38:08456 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:38:08465 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:38:08467 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 178.5012ms
[01-07-2024 20:38:08470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 180.7514ms
[01-07-2024 20:38:20663 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 20:38:20666 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:20667 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 4.9538ms
[01-07-2024 20:38:20673 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[01-07-2024 20:38:20677 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:20678 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:20679 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:38:20680 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 20:38:20696 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 20:38:20853 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[01-07-2024 20:38:20857 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[01-07-2024 20:38:20860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 176.9356ms
[01-07-2024 20:38:20862 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:38:20864 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 190.974ms
[01-07-2024 20:38:20907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:38:20912 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:20913 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 7.9004ms
[01-07-2024 20:38:20916 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:38:20925 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:20926 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:38:20926 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:38:20930 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:20927 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 12.3281ms
[01-07-2024 20:38:20935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:38:20937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 11.3645ms
[01-07-2024 20:38:20936 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:38:20936 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:20945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:38:20945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:38:20947 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:20956 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:20958 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:20961 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:20965 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:20980 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 34.906ms
[01-07-2024 20:38:20992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:38:20994 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:38:20978 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:20967 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:20968 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 32.8373ms
[01-07-2024 20:38:20975 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:21008 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:21014 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:38:21015 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:21019 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:21022 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:38:21023 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:21025 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:38:21026 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:38:21030 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:38:21027 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:21039 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:38:21040 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:38:21045 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:38:21060 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:38:21064 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:21069 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 25.6351ms
[01-07-2024 20:38:21071 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:38:21073 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 19748 "application/json; charset=utf-8" 81.8169ms
[01-07-2024 20:38:21088 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:38:21092 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:38:21094 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 44.2161ms
[01-07-2024 20:38:21097 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:38:21099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 106.0686ms
[01-07-2024 20:38:21163 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("129"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:38:21172 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 20:38:21175 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:38:21176 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:38:21178 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:38:21177 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 144.7868ms
[01-07-2024 20:38:21182 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:21185 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:21186 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:38:21190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 160.3963ms
[01-07-2024 20:38:21193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 156.242ms
[01-07-2024 20:38:21193 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 248.4529ms
[01-07-2024 20:38:21195 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:21197 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:21206 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 4843 "application/json; charset=utf-8" 282.7497ms
[01-07-2024 20:38:21207 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 273.1019ms
[01-07-2024 20:38:33024 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 20:38:33030 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 8.0553ms
[01-07-2024 20:38:33036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 59
[01-07-2024 20:38:33039 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33041 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:33043 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:38:33044 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 20:38:33049 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 20:38:33242 +03:00 BooksApiApp.Services.UserService ] {Message}User: "dsfsd" found and returned
[01-07-2024 20:38:33244 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[01-07-2024 20:38:33247 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 200.1539ms
[01-07-2024 20:38:33249 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:38:33251 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 581 "application/json; charset=utf-8" 214.9806ms
[01-07-2024 20:38:33302 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:38:33305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33307 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:38:33307 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 6.2549ms
[01-07-2024 20:38:33312 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33315 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:38:33317 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:38:33319 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 12.8237ms
[01-07-2024 20:38:33326 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33324 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33328 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:38:33328 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:38:33331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 15.2727ms
[01-07-2024 20:38:33337 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:38:33333 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:33338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:38:33338 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33341 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33350 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33351 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:33358 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:33355 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33367 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:33360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 23.6935ms
[01-07-2024 20:38:33365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:38:33356 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 28.8508ms
[01-07-2024 20:38:33365 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:38:33371 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:38:33372 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:38:33371 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:33399 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:38:33406 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:38:33387 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33401 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:33411 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:38:33413 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:33415 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:38:33416 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:33418 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:33422 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 26.6986ms
[01-07-2024 20:38:33425 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:38:33428 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:38:33421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:33427 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:38:33430 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:33431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:38:33435 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:33438 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 958 "application/json; charset=utf-8" 122.7455ms
[01-07-2024 20:38:33436 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 31.2809ms
[01-07-2024 20:38:33437 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:38:33445 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:38:33458 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:38:33446 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 21.9383ms
[01-07-2024 20:38:33452 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:33459 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 30
[01-07-2024 20:38:33463 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:38:33464 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:38:33465 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 990 "application/json; charset=utf-8" 138.249ms
[01-07-2024 20:38:33467 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:38:33469 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 14.5375ms
[01-07-2024 20:38:33470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 3047 "application/json; charset=utf-8" 132.832ms
[01-07-2024 20:38:33478 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 37.5059ms
[01-07-2024 20:38:33480 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:38:33488 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:38:33489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 119.3127ms
[01-07-2024 20:38:33491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 125.3865ms
[01-07-2024 20:38:36063 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[01-07-2024 20:38:36067 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:36069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 6.1508ms
[01-07-2024 20:38:36074 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 1
[01-07-2024 20:38:36080 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:36081 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:36082 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[01-07-2024 20:38:36084 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:38:36087 +03:00 BooksApiApp.Services.UserService ] Attempting to approve sale for BookId: 8, SellerId: 30
[01-07-2024 20:38:36102 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[01-07-2024 20:38:36105 +03:00 BooksApiApp.Services.UserService ] BookForSale found for BookId: 8, SellerId: 30
[01-07-2024 20:38:36113 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SALE_ID] = @__bookForSaleId_0"
[01-07-2024 20:38:36116 +03:00 BooksApiApp.Services.UserService ] ApprovalSale found for BookForSaleId: 8
[01-07-2024 20:38:36117 +03:00 BooksApiApp.Services.UserService ] Creating BookReadyForTrading entry for BookId: 8, SellerId: 30
[01-07-2024 20:38:36129 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SALE]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BOOK_READY_FOR_TRADING] ([AUTHOR], [BOOK_CATEGORY], [BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [DESCRIPTION], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TITLE], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[01-07-2024 20:38:36133 +03:00 BooksApiApp.Services.UserService ] Approved sale for BookId: 8, SellerId: 30
[01-07-2024 20:38:36135 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:38:36137 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 50.7354ms
[01-07-2024 20:38:36139 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[01-07-2024 20:38:36141 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 200 33 "application/json; charset=utf-8" 67.2078ms
[01-07-2024 20:38:45159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 20:38:45162 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 4.0029ms
[01-07-2024 20:38:45169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[01-07-2024 20:38:45172 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45173 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:45174 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:38:45175 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 20:38:45188 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 20:38:45351 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[01-07-2024 20:38:45353 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[01-07-2024 20:38:45355 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 178.5344ms
[01-07-2024 20:38:45357 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:38:45358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 189.8584ms
[01-07-2024 20:38:45403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:38:45406 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45408 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 5.4585ms
[01-07-2024 20:38:45412 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:38:45414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:38:45417 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45420 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45421 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 10.1475ms
[01-07-2024 20:38:45428 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:38:45422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:38:45424 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:45432 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:38:45437 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45441 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45442 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:45446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:38:45448 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45449 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:45451 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 29.6071ms
[01-07-2024 20:38:45457 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45458 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 26.195ms
[01-07-2024 20:38:45468 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:38:45488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 42.0085ms
[01-07-2024 20:38:45462 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:38:45459 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:45453 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:38:45503 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:38:45505 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45514 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45516 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:38:45525 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:38:45526 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:45527 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:45536 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:38:45533 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:38:45533 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:38:45537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:38:45539 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:38:45542 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:45544 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:38:45544 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:38:45543 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:38:45552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 32.9487ms
[01-07-2024 20:38:45554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:45558 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:38:45561 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:45564 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 33.0462ms
[01-07-2024 20:38:45567 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:38:45570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 4843 "application/json; charset=utf-8" 155.2005ms
[01-07-2024 20:38:45573 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:38:45579 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:38:45580 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:45586 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:38:45588 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 160.3244ms
[01-07-2024 20:38:45591 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 20:38:45594 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 48.3048ms
[01-07-2024 20:38:45598 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:38:45603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:38:45605 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:38:45607 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 40.4946ms
[01-07-2024 20:38:45608 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 51.7474ms
[01-07-2024 20:38:45610 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 9441 "application/json; charset=utf-8" 141.8282ms
[01-07-2024 20:38:45612 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:38:45614 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:38:45620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 969 "application/json; charset=utf-8" 116.8177ms
[01-07-2024 20:38:45622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 160.7838ms
[01-07-2024 20:39:02722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:39:02722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:39:02725 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:39:02729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:39:02726 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:02730 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:02734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:39:02735 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:02738 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:02744 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:02745 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 20.3729ms
[01-07-2024 20:39:02749 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 14.8576ms
[01-07-2024 20:39:02746 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 17.7735ms
[01-07-2024 20:39:02746 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:39:02739 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 17.6487ms
[01-07-2024 20:39:02740 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 18.8967ms
[01-07-2024 20:39:02754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:39:02778 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:02796 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:02800 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:02798 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:02802 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:39:02803 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:39:02805 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:39:02808 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:39:02821 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:39:02830 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:39:02832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:39:02835 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:39:02836 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:39:02843 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:39:02846 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:02860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:39:02854 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:02872 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:02864 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:02873 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 61.2691ms
[01-07-2024 20:39:02876 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 55.9168ms
[01-07-2024 20:39:02877 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:02878 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:39:02880 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:02882 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:39:02885 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:39:02886 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:39:02888 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:39:02889 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:39:02893 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 4843 "application/json; charset=utf-8" 147.1454ms
[01-07-2024 20:39:02904 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:39:02894 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:39:02907 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:39:02916 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 20:39:02891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 136.789ms
[01-07-2024 20:39:02928 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:39:02928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:39:02924 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:39:02940 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:39:02941 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 43.7704ms
[01-07-2024 20:39:02945 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:39:02946 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 21.2629ms
[01-07-2024 20:39:02948 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:39:02953 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 32.9338ms
[01-07-2024 20:39:02955 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:39:02957 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 132.6186ms
[01-07-2024 20:39:02959 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:39:02961 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 969 "application/json; charset=utf-8" 125.3606ms
[01-07-2024 20:39:02972 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 9441 "application/json; charset=utf-8" 141.2999ms
[01-07-2024 20:39:20038 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[01-07-2024 20:39:20043 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:20044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 6.1769ms
[01-07-2024 20:39:20048 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 1
[01-07-2024 20:39:20053 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:20054 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:20055 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[01-07-2024 20:39:20057 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:39:20068 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__buyerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[BUYER_ID] = @__buyerId_1"
[01-07-2024 20:39:20081 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BOOK_READY_FOR_TRADING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [SALE] ([BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[01-07-2024 20:39:20086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:39:20089 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 29.9361ms
[01-07-2024 20:39:20091 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[01-07-2024 20:39:20093 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 200 40 "application/json; charset=utf-8" 44.7196ms
[01-07-2024 20:39:21937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:39:21942 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:39:21942 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:21946 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:21950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 8.8055ms
[01-07-2024 20:39:21948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 12.3877ms
[01-07-2024 20:39:21956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:39:21957 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:39:21967 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:21971 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:21972 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:21974 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:21975 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:39:21977 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:39:21978 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:39:21980 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:39:21998 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:39:21999 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:39:22003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:39:22006 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:39:22007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 25.1261ms
[01-07-2024 20:39:22011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 23.1905ms
[01-07-2024 20:39:22012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:39:22014 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:39:22016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 60.2254ms
[01-07-2024 20:39:22018 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 5891 "application/json; charset=utf-8" 61.1176ms
[01-07-2024 20:39:50682 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:39:50682 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:39:50682 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:39:50773 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:50713 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:50697 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:39:50790 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:50792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 110.1104ms
[01-07-2024 20:39:50834 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 151.5817ms
[01-07-2024 20:39:50795 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 113.7864ms
[01-07-2024 20:39:50832 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:50828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:39:50763 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:39:50857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 159.9723ms
[01-07-2024 20:39:50863 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:50828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:39:50842 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:39:50864 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:39:50867 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:50874 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:50879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:50882 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:50886 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:50889 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:39:50887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 125.4782ms
[01-07-2024 20:39:50893 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:50894 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:50896 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:39:50896 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:50898 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:39:50903 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:39:50909 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:39:50908 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:39:50914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:39:50904 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:39:50917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:39:50918 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:39:50923 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:39:50932 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:39:50935 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:39:50946 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:39:50946 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:39:50950 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:39:50953 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:39:50963 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:39:50964 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 52.4548ms
[01-07-2024 20:39:50964 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:39:50966 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 45.043ms
[01-07-2024 20:39:50970 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:39:50970 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:39:50972 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:39:50978 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:39:50976 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 20:39:50981 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 50.6524ms
[01-07-2024 20:39:50983 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:39:50985 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 5891 "application/json; charset=utf-8" 156.7471ms
[01-07-2024 20:39:50986 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 161.0043ms
[01-07-2024 20:39:50988 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:39:50989 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:39:51005 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 9441 "application/json; charset=utf-8" 141.4433ms
[01-07-2024 20:39:51002 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 65.435ms
[01-07-2024 20:39:50992 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 37.1367ms
[01-07-2024 20:39:51015 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:39:51017 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:39:51019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 176.9394ms
[01-07-2024 20:39:51024 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 127.0025ms
[01-07-2024 20:40:00239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:40:00240 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:40:00241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:40:00245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:40:00249 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:00249 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:40:00274 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 36.2448ms
[01-07-2024 20:40:00255 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:00260 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:00348 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 109.8947ms
[01-07-2024 20:40:00309 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:40:00327 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:00380 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 131.4955ms
[01-07-2024 20:40:00273 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:00376 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:00345 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 105.0547ms
[01-07-2024 20:40:00392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 147.7086ms
[01-07-2024 20:40:00397 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:00417 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:00420 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:40:00439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:40:00454 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:40:00454 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:40:00455 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:40:00472 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:00478 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:00488 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:00502 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:00505 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("77"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:40:00506 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:00507 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:00509 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:00512 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:00526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:00526 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:40:00528 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:40:00533 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:40:00535 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:00541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 114.6222ms
[01-07-2024 20:40:00541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:40:00543 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:40:00545 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:40:00552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:40:00677 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("73"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:40:00678 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("116"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:40:00557 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:00717 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("38"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:40:00720 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:40:00727 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 20:40:00728 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:40:00729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 5891 "application/json; charset=utf-8" 419.5137ms
[01-07-2024 20:40:00755 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:00759 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 155.4366ms
[01-07-2024 20:40:00796 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 172.1336ms
[01-07-2024 20:40:00765 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:40:00796 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:40:00777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:00806 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:40:00815 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 361.082ms
[01-07-2024 20:40:00810 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 248.9921ms
[01-07-2024 20:40:00832 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 128.447ms
[01-07-2024 20:40:00833 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 9441 "application/json; charset=utf-8" 379.2277ms
[01-07-2024 20:40:00865 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:40:00868 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:00877 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 438.3491ms
[01-07-2024 20:40:00885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 441.8518ms
[01-07-2024 20:40:15807 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 20:40:15811 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:15812 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 4.8349ms
[01-07-2024 20:40:15817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[01-07-2024 20:40:15821 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:15822 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:15823 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:40:15824 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 20:40:15839 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 20:40:16017 +03:00 BooksApiApp.Services.UserService ] {Message}User: "" found and returned
[01-07-2024 20:40:16020 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[01-07-2024 20:40:16022 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 196.6883ms
[01-07-2024 20:40:16024 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:40:16026 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 576 "application/json; charset=utf-8" 210.0149ms
[01-07-2024 20:40:16072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:40:16077 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:16078 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:40:16079 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 7.6581ms
[01-07-2024 20:40:16092 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:40:16093 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:40:16100 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:16089 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:16096 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:40:16101 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:40:16104 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:16116 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:16116 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:40:16125 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:16107 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 29.7722ms
[01-07-2024 20:40:16129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 36.572ms
[01-07-2024 20:40:16130 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:16134 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:16136 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 34.5376ms
[01-07-2024 20:40:16112 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:16146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:40:16136 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:40:16158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:40:16160 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:16166 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 69.7012ms
[01-07-2024 20:40:16180 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:16174 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:40:16171 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:16176 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:16190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:40:16193 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:40:16194 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:16195 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:16196 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:16206 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:16206 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:16207 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:40:16208 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:40:16210 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 31.3835ms
[01-07-2024 20:40:16210 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:40:16212 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:40:16212 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:40:16213 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:40:16215 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:16219 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:16229 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 999 "application/json; charset=utf-8" 137.0539ms
[01-07-2024 20:40:16216 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:40:16233 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 34.0852ms
[01-07-2024 20:40:16234 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:40:16243 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:16248 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:40:16250 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:40:16252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 994 "application/json; charset=utf-8" 137.2865ms
[01-07-2024 20:40:16256 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:16258 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 36.9893ms
[01-07-2024 20:40:16264 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:40:16265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 40.0314ms
[01-07-2024 20:40:16267 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:40:16271 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 32
[01-07-2024 20:40:16272 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:40:16274 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 128.1773ms
[01-07-2024 20:40:16275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:40:16276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 3021 "application/json; charset=utf-8" 141.0814ms
[01-07-2024 20:40:16283 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 41.5535ms
[01-07-2024 20:40:16289 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:40:16290 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 117.2041ms
[01-07-2024 20:40:18634 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[01-07-2024 20:40:18637 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:18639 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 5.3176ms
[01-07-2024 20:40:18645 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 1
[01-07-2024 20:40:18650 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:18653 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:18654 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[01-07-2024 20:40:18656 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:40:18662 +03:00 BooksApiApp.Services.UserService ] Attempting to approve sale for BookId: 9, SellerId: 32
[01-07-2024 20:40:18678 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[01-07-2024 20:40:18681 +03:00 BooksApiApp.Services.UserService ] BookForSale found for BookId: 9, SellerId: 32
[01-07-2024 20:40:18689 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SALE_ID] = @__bookForSaleId_0"
[01-07-2024 20:40:18691 +03:00 BooksApiApp.Services.UserService ] ApprovalSale found for BookForSaleId: 9
[01-07-2024 20:40:18692 +03:00 BooksApiApp.Services.UserService ] Creating BookReadyForTrading entry for BookId: 9, SellerId: 32
[01-07-2024 20:40:18701 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SALE]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BOOK_READY_FOR_TRADING] ([AUTHOR], [BOOK_CATEGORY], [BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [DESCRIPTION], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TITLE], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[01-07-2024 20:40:18705 +03:00 BooksApiApp.Services.UserService ] Approved sale for BookId: 9, SellerId: 32
[01-07-2024 20:40:18706 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:40:18708 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 48.3574ms
[01-07-2024 20:40:18709 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[01-07-2024 20:40:18711 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 200 33 "application/json; charset=utf-8" 66.2864ms
[01-07-2024 20:40:30466 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[01-07-2024 20:40:30471 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30473 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 7.2667ms
[01-07-2024 20:40:30478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[01-07-2024 20:40:30481 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30483 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:30484 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:40:30485 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[01-07-2024 20:40:30500 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[01-07-2024 20:40:30679 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[01-07-2024 20:40:30681 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[01-07-2024 20:40:30684 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 195.5681ms
[01-07-2024 20:40:30686 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[01-07-2024 20:40:30688 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 211.0903ms
[01-07-2024 20:40:30750 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:40:30763 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:40:30767 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30771 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:40:30774 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30781 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30776 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 25.685ms
[01-07-2024 20:40:30784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 22.5397ms
[01-07-2024 20:40:30782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:40:30785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:40:30785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 13.2303ms
[01-07-2024 20:40:30796 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[01-07-2024 20:40:30796 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[01-07-2024 20:40:30796 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:40:30811 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30817 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30826 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30828 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30831 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30837 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:30835 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:30842 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:40:30833 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:30839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[01-07-2024 20:40:30841 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:30839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 44.6075ms
[01-07-2024 20:40:30844 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:40:30832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 50.5299ms
[01-07-2024 20:40:30854 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:40:30846 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:30851 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30872 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:40:30848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:40:30875 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:30886 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[01-07-2024 20:40:30886 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:30887 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:40:30889 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[01-07-2024 20:40:30891 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:30892 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:30896 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:40:30894 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[01-07-2024 20:40:30899 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[01-07-2024 20:40:30909 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:30902 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 32.5534ms
[01-07-2024 20:40:30903 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:40:30914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[01-07-2024 20:40:30921 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 43.0054ms
[01-07-2024 20:40:30926 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:30928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:40:30932 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 71.7042ms
[01-07-2024 20:40:30935 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:30938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 6061 "application/json; charset=utf-8" 142.9609ms
[01-07-2024 20:40:30948 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[01-07-2024 20:40:30951 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 5891 "application/json; charset=utf-8" 166.0667ms
[01-07-2024 20:40:30951 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("38"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[01-07-2024 20:40:30960 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 164.7561ms
[01-07-2024 20:40:30963 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:40:30976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:30987 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:30990 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 78.5323ms
[01-07-2024 20:40:30993 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 49.9992ms
[01-07-2024 20:40:30996 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[01-07-2024 20:40:30998 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:40:31001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 162.1935ms
[01-07-2024 20:40:31006 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 957 "application/json; charset=utf-8" 157.8466ms
[01-07-2024 20:40:39574 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[01-07-2024 20:40:39581 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:39582 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 8.8997ms
[01-07-2024 20:40:39587 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 1
[01-07-2024 20:40:39591 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:39592 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:39593 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[01-07-2024 20:40:39596 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:40:39606 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__buyerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[BUYER_ID] = @__buyerId_1"
[01-07-2024 20:40:39620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BOOK_READY_FOR_TRADING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [SALE] ([BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[01-07-2024 20:40:39624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:40:39626 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 27.6656ms
[01-07-2024 20:40:39631 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[01-07-2024 20:40:39633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 200 40 "application/json; charset=utf-8" 45.6989ms
[01-07-2024 20:40:41109 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:40:41118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:40:41133 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:41139 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:41143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 33.8624ms
[01-07-2024 20:40:41141 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 31.8918ms
[01-07-2024 20:40:41151 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[01-07-2024 20:40:41153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[01-07-2024 20:40:41177 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:41171 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[01-07-2024 20:40:41180 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:41183 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[01-07-2024 20:40:41184 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:41186 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:40:41188 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[01-07-2024 20:40:41190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[01-07-2024 20:40:41223 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[01-07-2024 20:40:41229 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[01-07-2024 20:40:41235 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[01-07-2024 20:40:41239 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[01-07-2024 20:40:41246 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 49.8515ms
[01-07-2024 20:40:41249 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 42.8219ms
[01-07-2024 20:40:41253 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[01-07-2024 20:40:41255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[01-07-2024 20:40:41257 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 6924 "application/json; charset=utf-8" 105.3199ms
[01-07-2024 20:40:41260 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 109.4321ms
[01-07-2024 22:15:15401 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[01-07-2024 22:15:16188 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[01-07-2024 22:15:16190 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[01-07-2024 22:15:16196 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[01-07-2024 22:15:16198 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[01-07-2024 22:15:16200 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\ BooksApiApp\BooksApiApp\BooksApiApp"
[01-07-2024 22:15:20394 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[01-07-2024 22:15:20878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 495.4407ms
[01-07-2024 22:15:21071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[01-07-2024 22:15:21131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 59.9853ms
[01-07-2024 22:15:21452 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[01-07-2024 22:15:21609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 157.9199ms
[01-07-2024 22:15:21992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[01-07-2024 22:15:22534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 542.1526ms
