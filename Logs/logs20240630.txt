[30-06-2024 00:00:17536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:00:17537 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:00:17541 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:00:17802 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:17805 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:17808 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:17846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 354.7204ms
[30-06-2024 00:00:17846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 354.2638ms
[30-06-2024 00:00:17881 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:00:17847 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 355.1838ms
[30-06-2024 00:00:17915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:00:17882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:00:18036 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:18045 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:18054 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:18112 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:00:18112 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:00:18113 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:00:18118 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:18123 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:00:18124 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:18146 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:00:18146 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:00:18147 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:00:20629 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("323"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:00:20634 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("805"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:00:20640 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("261"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:00:20694 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:00:20701 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:00:20743 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:00:20792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 2617.0002ms
[30-06-2024 00:00:20894 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 2730.4935ms
[30-06-2024 00:00:20907 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 2756.0489ms
[30-06-2024 00:00:20923 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:20936 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:00:20939 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:20942 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 3059.7915ms
[30-06-2024 00:00:20943 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 3062.3274ms
[30-06-2024 00:00:20945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 3029.6148ms
[30-06-2024 00:00:39843 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:00:39852 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:00:39857 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:39870 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:39874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 30.635ms
[30-06-2024 00:00:39875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 23.2367ms
[30-06-2024 00:00:39901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:00:39903 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:00:39907 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:39913 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:39915 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:00:39918 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:39919 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:00:39920 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:00:39922 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:39928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:00:40026 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("94"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:00:40030 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("70"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:00:40035 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:00:40042 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:00:40046 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 119.7202ms
[30-06-2024 00:00:40051 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:00:40126 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 191.3209ms
[30-06-2024 00:00:40139 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:40297 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:40305 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:40310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 408.943ms
[30-06-2024 00:00:40330 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 279.6319ms
[30-06-2024 00:00:40339 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 436.3772ms
[30-06-2024 00:00:40355 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:00:40495 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:40503 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:00:40545 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:00:40595 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:00:41425 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("369"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:00:43179 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:00:43525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 2476.79ms
[30-06-2024 00:00:43588 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:00:43600 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 3245.082ms
[30-06-2024 00:00:45688 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:00:45736 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:00:45750 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:00:45819 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:45839 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:45846 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:45856 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 167.5772ms
[30-06-2024 00:00:45857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 121.0503ms
[30-06-2024 00:00:45859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 109.2979ms
[30-06-2024 00:00:46072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:00:46072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:00:46072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:00:46366 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:46330 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:46393 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:00:46396 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:46296 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:00:46394 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:00:46397 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:00:46419 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:00:46419 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:47210 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("780"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:00:47226 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:00:47226 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:00:47238 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:00:47241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:00:47301 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:00:47334 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 909.847ms
[30-06-2024 00:00:47353 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:00:47369 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:47375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 126.7233ms
[30-06-2024 00:00:47380 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 1308.6986ms
[30-06-2024 00:00:47381 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:00:47430 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 1358.2892ms
[30-06-2024 00:00:47485 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("143"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:00:47505 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:00:47615 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 275.5292ms
[30-06-2024 00:00:47617 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:00:47619 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 1546.6139ms
[30-06-2024 00:02:03100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:02:03065 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:02:03066 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:02:03217 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:02:03217 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:02:03217 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:02:03225 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 162.2727ms
[30-06-2024 00:02:03252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:02:03224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 124.4245ms
[30-06-2024 00:02:03266 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:02:03252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 189.8622ms
[30-06-2024 00:02:03266 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:02:03252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:02:03273 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:02:03343 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:02:03343 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:02:03343 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:02:03354 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:02:03352 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:02:03357 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:02:03351 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:02:03360 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:02:03361 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:02:03375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:02:03474 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("97"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:02:03474 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("111"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:02:03480 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("93"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:02:03492 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:02:03496 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:02:03505 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 142.0409ms
[30-06-2024 00:02:03509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 152.8819ms
[30-06-2024 00:02:03512 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:02:03513 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:02:03515 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:02:03517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 265.9053ms
[30-06-2024 00:02:03525 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 273.5229ms
[30-06-2024 00:02:03603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 217.9035ms
[30-06-2024 00:02:03612 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:02:03617 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 350.8352ms
[30-06-2024 00:17:46508 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 00:17:47253 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 00:17:47255 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 00:17:47260 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 00:17:47262 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 00:17:47263 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 00:17:48581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 00:17:49361 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 790.7029ms
[30-06-2024 00:17:49712 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 00:17:49712 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 00:17:49789 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 77.1462ms
[30-06-2024 00:17:50021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 309.8399ms
[30-06-2024 00:17:50166 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 00:17:50595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 430.1275ms
[30-06-2024 00:18:26235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksForNeedApproval""" - null null
[30-06-2024 00:18:26506 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:18:26514 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksForNeedApproval (BooksApiApp)"'
[30-06-2024 00:18:26563 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:18:28175 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 00:18:28178 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 00:18:28180 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 00:18:29932 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("133"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:18:29984 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:18:29995 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:18:30004 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksForNeedApproval (BooksApiApp)" in 3432.822ms
[30-06-2024 00:18:30009 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksForNeedApproval (BooksApiApp)"'
[30-06-2024 00:18:30027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksForNeedApproval""" - 404 null "text/plain; charset=utf-8" 3793.3594ms
[30-06-2024 00:19:29494 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 00:19:30021 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 00:19:30024 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 00:19:30028 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 00:19:30029 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 00:19:30031 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 00:19:31057 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 00:19:31729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 686.0831ms
[30-06-2024 00:19:31841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 00:19:31841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 00:19:31870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 29.7469ms
[30-06-2024 00:19:32006 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 165.2351ms
[30-06-2024 00:19:32150 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 00:19:32536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 386.9547ms
[30-06-2024 00:19:49120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 00:19:49135 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:19:49139 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 18.7575ms
[30-06-2024 00:19:49145 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[30-06-2024 00:19:49155 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:19:49291 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:19:49296 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 00:19:49347 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 00:19:51142 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 00:19:51144 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 00:19:51146 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 00:19:52732 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("104"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 00:19:53735 +03:00 BooksApiApp.Services.UserService ] {Message}User: "dfas" found and returned
[30-06-2024 00:19:53802 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 00:19:53856 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 4497.1457ms
[30-06-2024 00:19:53859 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 00:19:53876 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 583 "application/json; charset=utf-8" 4730.2197ms
[30-06-2024 00:19:53997 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:19:53997 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:19:53997 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:19:54023 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:19:54042 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:19:54047 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:19:54056 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 85.2182ms
[30-06-2024 00:19:54087 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:19:54068 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:19:54065 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 68.2336ms
[30-06-2024 00:19:54069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 71.4415ms
[30-06-2024 00:19:54089 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:19:54108 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:19:54110 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:19:54130 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:19:54236 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:19:54236 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:19:54237 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:19:54238 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:19:54239 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:19:54240 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:19:54251 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:19:54251 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:19:54253 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:19:54710 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("144"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:19:54739 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:19:54830 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("110"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:19:54853 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:19:54861 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:19:54865 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 608.0504ms
[30-06-2024 00:19:54869 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:19:54872 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 788.7982ms
[30-06-2024 00:19:54938 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:19:54938 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:19:55014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 758.3819ms
[30-06-2024 00:19:55014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 760.9655ms
[30-06-2024 00:19:55017 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:19:55021 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:19:55024 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 955.4727ms
[30-06-2024 00:19:55025 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 937.6517ms
[30-06-2024 00:21:01557 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:21:01578 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:21:01580 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:21:01589 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:21:01683 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:21:01757 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:21:01871 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 278.6728ms
[30-06-2024 00:21:01874 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:21:01876 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 54031 "application/json; charset=utf-8" 322.5932ms
[30-06-2024 00:22:31408 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:22:31412 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:22:31414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:22:31445 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:22:31450 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:22:31456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 47.9941ms
[30-06-2024 00:22:31472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 60.0243ms
[30-06-2024 00:22:31454 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:22:31508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:22:31513 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:22:31530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 117.2777ms
[30-06-2024 00:22:31536 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:22:31540 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:22:31541 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:22:31546 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:22:31548 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:22:31549 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:22:31550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:22:31551 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:22:31552 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:22:31554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:22:31555 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:22:31556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:22:31559 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:22:31615 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("49"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:22:31615 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("49"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:22:31618 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("50"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:22:31624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:22:31627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:22:31630 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:22:31631 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 68.8653ms
[30-06-2024 00:22:31633 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 75.1761ms
[30-06-2024 00:22:31634 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:22:31638 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:22:31640 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:22:31642 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 77.2406ms
[30-06-2024 00:22:31644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 130.7641ms
[30-06-2024 00:22:31645 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 137.5655ms
[30-06-2024 00:22:31647 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:22:31658 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 118.2413ms
[30-06-2024 00:23:21946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:23:22007 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:23:22017 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:23:22027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:23:22032 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:23:22033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 86.6809ms
[30-06-2024 00:23:22062 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:23:22046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:23:22038 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 30.491ms
[30-06-2024 00:23:22036 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:23:22066 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:23:22070 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:23:22075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 48.7865ms
[30-06-2024 00:23:22078 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:23:22078 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:23:22083 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:23:22084 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:23:22086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:23:22086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:23:22128 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:23:22135 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:23:22161 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:23:22167 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:23:22170 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:23:22237 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("103"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:23:22237 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("103"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:23:22265 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("84"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:23:22265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:23:22281 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:23:22284 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:23:22289 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 156.6845ms
[30-06-2024 00:23:22298 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 187.8545ms
[30-06-2024 00:23:22299 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:23:22311 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:23:22313 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:23:22315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 135.8913ms
[30-06-2024 00:23:22322 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 275.7013ms
[30-06-2024 00:23:22328 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 265.8983ms
[30-06-2024 00:23:22330 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:23:22345 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 256.7687ms
[30-06-2024 00:24:25324 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:24:25373 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:24:25375 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:24:25378 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 60.2746ms
[30-06-2024 00:24:25375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:24:25376 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:24:25421 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:24:25449 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:24:25449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:24:25474 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 99.6802ms
[30-06-2024 00:24:25451 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 78.1385ms
[30-06-2024 00:24:25473 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:24:25470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:24:25493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:24:25531 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:24:25523 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 101.798ms
[30-06-2024 00:24:25510 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:24:25528 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:24:25533 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:24:25538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:24:25541 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:24:25542 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:24:25543 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:24:25548 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:24:25549 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:24:25550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:24:25552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:24:25554 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:24:25555 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:24:25557 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:24:25560 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:24:25575 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:24:25607 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:24:25608 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:24:25635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:24:25635 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("70"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:24:25638 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:24:25639 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 76.1929ms
[30-06-2024 00:24:25650 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:24:25646 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 76.3611ms
[30-06-2024 00:24:25645 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:24:25655 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:24:25658 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 208.6964ms
[30-06-2024 00:24:25662 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 192.2003ms
[30-06-2024 00:24:25713 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 154.0975ms
[30-06-2024 00:24:25723 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:24:25725 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:24:25727 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 54031 "application/json; charset=utf-8" 234.2396ms
[30-06-2024 00:24:25732 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:24:25737 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:24:25740 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 156.7178ms
[30-06-2024 00:24:25742 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:24:25743 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 205.5801ms
[30-06-2024 00:25:26008 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:25:26008 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:25:26011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:25:26008 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:25:26025 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:26029 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:26040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 33.0424ms
[30-06-2024 00:25:26044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 33.8456ms
[30-06-2024 00:25:26069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:25:26032 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:26038 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:26079 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:25:26105 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 95.5193ms
[30-06-2024 00:25:26135 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:25:26105 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:26106 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 97.7558ms
[30-06-2024 00:25:26109 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:26120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:25:26144 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:26146 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:25:26154 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:25:26159 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:26161 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:25:26162 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:25:26164 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:25:26166 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:25:26167 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:25:26169 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:25:26171 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:25:26172 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:25:26174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:25:26186 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:25:26257 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("70"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:25:26257 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("50"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:25:26261 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("79"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:25:26262 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("62"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:25:26263 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:25:26275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:25:26278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:25:26290 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:25:26291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:25:26303 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 124.1369ms
[30-06-2024 00:25:26318 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:25:26310 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 127.7645ms
[30-06-2024 00:25:26322 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:25:26321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 251.8395ms
[30-06-2024 00:25:26309 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 110.8747ms
[30-06-2024 00:25:26325 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 246.0033ms
[30-06-2024 00:25:26353 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 146.9906ms
[30-06-2024 00:25:26514 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:25:26375 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:25:26537 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 404.3869ms
[30-06-2024 00:25:26527 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 54031 "application/json; charset=utf-8" 407.2745ms
[30-06-2024 00:25:42740 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:25:42747 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:42741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:25:42762 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:42749 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 8.9664ms
[30-06-2024 00:25:42751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:25:42741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:25:42773 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 31.9486ms
[30-06-2024 00:25:42829 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:25:42829 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:25:43112 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:43124 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:43131 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:43149 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:43577 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:25:43582 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:25:43590 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:25:43580 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:25:43602 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:25:43605 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:25:43574 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 832.3889ms
[30-06-2024 00:25:43613 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:25:43590 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:25:43541 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 798.5967ms
[30-06-2024 00:25:43628 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:43634 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:25:43643 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:25:43644 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:25:43646 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:25:43649 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:25:43651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:25:43652 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:25:43656 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("40"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:25:43653 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:25:43678 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:25:43684 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:25:43691 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 90.1526ms
[30-06-2024 00:25:43698 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("40"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:25:43702 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 87.8932ms
[30-06-2024 00:25:43703 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:25:43709 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:25:43711 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:25:43726 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 897.8283ms
[30-06-2024 00:25:43717 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:25:43715 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 885.574ms
[30-06-2024 00:25:43746 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:25:43753 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 97.0813ms
[30-06-2024 00:25:43769 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:25:43771 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:25:43775 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 162.7036ms
[30-06-2024 00:25:43812 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 125.5189ms
[30-06-2024 00:25:43816 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:25:43818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 54031 "application/json; charset=utf-8" 228.4131ms
[30-06-2024 00:27:35925 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:27:36021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:27:35938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:27:35954 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:27:36493 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:27:37080 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:27:37109 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:27:37110 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:27:37217 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 1291.369ms
[30-06-2024 00:27:37218 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 1217.9788ms
[30-06-2024 00:27:37238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:27:37219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 1281.6595ms
[30-06-2024 00:27:37220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 1265.8657ms
[30-06-2024 00:27:37247 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:27:37237 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:27:37250 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:27:37258 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:27:37272 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:27:37277 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:27:37281 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:27:37282 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:27:37283 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:27:37284 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:27:37290 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:27:37287 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:27:37288 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:27:37286 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:27:37291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:27:37293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:27:37294 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:27:37295 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:27:37316 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:27:37375 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("75"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:27:37375 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("59"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:27:37380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:27:37384 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:27:37386 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 88.3482ms
[30-06-2024 00:27:37396 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 86.8395ms
[30-06-2024 00:27:37399 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:27:37401 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:27:37404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 166.6817ms
[30-06-2024 00:27:37410 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 164.151ms
[30-06-2024 00:27:37413 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("79"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:27:37421 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("110"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:27:37433 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:27:37436 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:27:37452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:27:37514 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 183.8035ms
[30-06-2024 00:27:37517 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:27:37519 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 269.5584ms
[30-06-2024 00:27:37665 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 359.9304ms
[30-06-2024 00:27:37667 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:27:37669 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 54031 "application/json; charset=utf-8" 431.3274ms
[30-06-2024 00:28:10269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:28:10269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:28:10320 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:28:10389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:28:10422 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:10425 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:10428 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:10432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:10433 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 163.6698ms
[30-06-2024 00:28:10434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 164.4799ms
[30-06-2024 00:28:10435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 114.7705ms
[30-06-2024 00:28:10470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 86.6293ms
[30-06-2024 00:28:10478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:28:10472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:28:10483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:28:10522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:28:10540 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:10543 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:10547 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:10552 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:10554 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:10555 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:10555 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:10557 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:10557 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:10558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:10559 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:28:10561 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:28:10562 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:28:10564 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:28:10565 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:28:10568 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:28:10808 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("209"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:28:10808 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("228"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:28:10808 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("237"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:28:10833 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("246"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:28:10833 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:28:10839 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:28:10840 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:28:10846 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:28:10846 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:28:10850 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 270.8432ms
[30-06-2024 00:28:10864 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:10854 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 258.3251ms
[30-06-2024 00:28:10852 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 282.3786ms
[30-06-2024 00:28:10874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 401.7468ms
[30-06-2024 00:28:10896 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:10882 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:28:10917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 333.0683ms
[30-06-2024 00:28:10924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 446.498ms
[30-06-2024 00:28:10925 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 405.4569ms
[30-06-2024 00:28:10928 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:28:10938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 54031 "application/json; charset=utf-8" 458.8349ms
[30-06-2024 00:28:25764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:28:25772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:28:25771 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:28:25795 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:25777 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:25791 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:25771 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:28:25799 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 34.2212ms
[30-06-2024 00:28:25958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:28:25962 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:28:25803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 30.8958ms
[30-06-2024 00:28:25797 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 26.6188ms
[30-06-2024 00:28:25993 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:26001 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:26005 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:28:26020 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:26006 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:26052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:28:26018 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 246.7288ms
[30-06-2024 00:28:26060 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:26061 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:28:26063 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:26066 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:26072 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:26075 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:26075 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:28:26076 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:26077 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:28:26078 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:28:26088 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:28:26085 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:26101 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:28:26156 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("68"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:28:26163 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("53"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:28:26170 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("76"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:28:26172 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("71"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:28:26221 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:28:26182 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:28:26216 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:28:26271 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 162.0943ms
[30-06-2024 00:28:26177 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:28:26276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 175.7977ms
[30-06-2024 00:28:26278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 186.7999ms
[30-06-2024 00:28:26278 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:26280 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:28:26281 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:28:26283 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:26302 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 340.2721ms
[30-06-2024 00:28:26287 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 205.291ms
[30-06-2024 00:28:26291 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 54031 "application/json; charset=utf-8" 285.8997ms
[30-06-2024 00:28:26286 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 234.0515ms
[30-06-2024 00:28:26316 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:28:26326 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 367.3805ms
[30-06-2024 00:28:55870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:28:55874 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:55876 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 5.81ms
[30-06-2024 00:28:55911 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:28:56019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:28:56025 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:56029 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:56030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 120.0756ms
[30-06-2024 00:28:56144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:28:56078 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:28:56031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 12.0141ms
[30-06-2024 00:28:56144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:28:56179 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:56162 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:56165 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:56143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:28:56184 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 106.8767ms
[30-06-2024 00:28:56186 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:56185 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:56198 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:28:56212 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:56216 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:56217 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:28:56220 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:28:56221 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:56222 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:28:56224 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:28:56227 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:56226 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:28:56235 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:28:56236 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:28:56259 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:28:56267 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:28:56274 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("39"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:28:56275 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:28:56277 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:28:56280 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:28:56283 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:28:56285 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:28:56285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 55.9564ms
[30-06-2024 00:28:56285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:28:56287 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 41.4778ms
[30-06-2024 00:28:56292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:28:56294 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:56295 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 62.9611ms
[30-06-2024 00:28:56298 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:28:56306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 161.7044ms
[30-06-2024 00:28:56330 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:28:56354 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 210.44ms
[30-06-2024 00:28:56355 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 92.9193ms
[30-06-2024 00:28:56362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 217.9645ms
[30-06-2024 00:28:56368 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:28:56376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 54031 "application/json; charset=utf-8" 179.0731ms
[30-06-2024 00:29:13400 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:29:13404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:29:13405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:29:13404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:29:13619 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:29:13622 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:29:13630 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:29:13638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 237.7357ms
[30-06-2024 00:29:13668 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:29:13654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:29:13645 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 240.6036ms
[30-06-2024 00:29:13650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:29:13648 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 243.0729ms
[30-06-2024 00:29:13709 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:29:13711 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:29:13723 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:29:13636 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:29:13740 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:29:13741 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:29:13742 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:29:13743 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 338.4317ms
[30-06-2024 00:29:13744 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:29:13745 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:29:13745 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:29:13750 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:29:13752 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:29:13754 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:29:13763 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:29:13875 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("111"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:29:13914 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:29:13917 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("83"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:29:13918 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:29:13920 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:29:13924 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:29:13923 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("68"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:29:13922 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:29:13928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:29:13935 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:29:13936 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 172.8525ms
[30-06-2024 00:29:13952 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 121.8037ms
[30-06-2024 00:29:13953 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:29:13967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:29:13969 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2293 "application/json; charset=utf-8" 315.5961ms
[30-06-2024 00:29:13972 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 833 "application/json; charset=utf-8" 323.028ms
[30-06-2024 00:29:14004 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("61"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:29:14006 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 249.5607ms
[30-06-2024 00:29:14017 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 21
[30-06-2024 00:29:14019 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:29:14020 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:29:14023 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 54031 "application/json; charset=utf-8" 354.8278ms
[30-06-2024 00:29:14025 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 86.7603ms
[30-06-2024 00:29:14032 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:29:14034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 270.7345ms
[30-06-2024 00:30:02850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 00:30:02860 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:30:02861 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 12.1624ms
[30-06-2024 00:30:02868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 00:30:02871 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:30:02872 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:30:02873 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 00:30:02874 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 00:30:02934 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 00:30:03238 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 00:30:03257 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 00:30:03260 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 383.7828ms
[30-06-2024 00:30:03262 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 00:30:03266 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 397.8921ms
[30-06-2024 00:30:03327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:30:03332 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:30:03335 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:30:03351 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:30:03375 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:30:03338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 10.8022ms
[30-06-2024 00:30:03386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 52.4979ms
[30-06-2024 00:30:03385 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:30:03357 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:30:03357 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:30:03429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 86.4329ms
[30-06-2024 00:30:03434 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:30:03415 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:30:03435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:30:03441 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 84.7763ms
[30-06-2024 00:30:03437 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:30:03445 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:30:03447 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:30:03449 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:30:03454 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:30:03455 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:30:03457 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:30:03457 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:30:03458 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:30:03460 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:30:03461 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:30:03462 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:30:03464 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:30:03465 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:30:03466 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:30:03467 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:30:03475 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:30:03501 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:30:03501 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:30:03506 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:30:03509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:30:03511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:30:03517 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:30:03518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 48.8747ms
[30-06-2024 00:30:03520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 47.312ms
[30-06-2024 00:30:03522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:30:03525 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:30:03527 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:30:03531 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:30:03533 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 175.6794ms
[30-06-2024 00:30:03537 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:30:03534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 119.6542ms
[30-06-2024 00:30:03548 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 57.917ms
[30-06-2024 00:30:03563 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:30:03564 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 117.0857ms
[30-06-2024 00:30:03586 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 102.7267ms
[30-06-2024 00:30:03589 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:30:03591 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 156.3135ms
[30-06-2024 00:42:25610 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:42:25611 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:42:25610 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:42:25611 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:42:25641 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:42:25655 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:42:25659 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:42:25673 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 75.786ms
[30-06-2024 00:42:25667 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 69.0602ms
[30-06-2024 00:42:25670 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 72.6773ms
[30-06-2024 00:42:25661 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:42:25685 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:42:25689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:42:25689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:42:25706 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 146.0587ms
[30-06-2024 00:42:25715 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:42:25718 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:42:25718 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:42:25719 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:42:25723 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:42:25761 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:42:25765 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:42:25766 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:42:25767 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:42:25779 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:42:25776 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:42:25777 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:42:25774 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:42:25789 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:42:25790 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:42:25791 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:42:25792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:42:26206 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("198"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:42:26206 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("207"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:42:26208 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("208"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:42:26209 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("199"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:42:26269 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:42:26272 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:42:26414 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:42:26423 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:42:26427 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 632.548ms
[30-06-2024 00:42:26433 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:42:26427 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 623.8598ms
[30-06-2024 00:42:26475 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:42:26477 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 670.9778ms
[30-06-2024 00:42:26507 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 791.9804ms
[30-06-2024 00:42:26518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:42:26521 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:42:26536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 846.9513ms
[30-06-2024 00:42:26533 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 848.2167ms
[30-06-2024 00:42:26573 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 776.821ms
[30-06-2024 00:42:26576 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:42:26583 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 894.0554ms
[30-06-2024 00:43:09298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:43:09429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:43:09439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:43:09443 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:43:09457 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:43:09462 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:43:09470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 172.0217ms
[30-06-2024 00:43:09518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 79.0846ms
[30-06-2024 00:43:09472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 42.7046ms
[30-06-2024 00:43:09495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:43:09668 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:43:09655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:43:09667 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:43:09719 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:43:09727 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:43:09733 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:43:09745 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:43:09741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 246.3251ms
[30-06-2024 00:43:09744 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:43:09741 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:43:09750 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:43:09768 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:43:09773 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:43:09773 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:43:09781 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:43:09967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:43:09967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:43:10013 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:43:10020 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:43:10022 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:43:10032 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:43:10042 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:43:10077 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("288"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:43:10078 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("45"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:43:10097 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("47"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:43:10108 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("124"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:43:10129 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:43:10133 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:43:10143 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:43:10150 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:43:10153 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 369.2349ms
[30-06-2024 00:43:10163 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:43:10192 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 143.5698ms
[30-06-2024 00:43:10208 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:43:10159 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 131.7819ms
[30-06-2024 00:43:10178 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:43:10225 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 258.8725ms
[30-06-2024 00:43:10226 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 244.8628ms
[30-06-2024 00:43:10238 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:43:10247 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 591.7089ms
[30-06-2024 00:43:10264 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:43:10270 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 603.7584ms
[30-06-2024 00:43:10296 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 628.705ms
[30-06-2024 00:45:05072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:45:05080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:45:05532 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:45:05077 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:45:05324 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:45:05543 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:45:05545 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 473.2331ms
[30-06-2024 00:45:05549 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:45:05574 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:45:05566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 485.7808ms
[30-06-2024 00:45:05575 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 497.4932ms
[30-06-2024 00:45:05562 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:45:05561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:45:05581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:45:05583 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:45:05595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 270.8393ms
[30-06-2024 00:45:05599 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:45:05604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:45:05606 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:45:05608 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:45:05613 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:45:05618 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:45:05620 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:45:05622 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:45:05623 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:45:05625 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:45:05626 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:45:05629 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:45:05629 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:45:05631 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:45:05632 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:45:05655 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:45:05703 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("53"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:45:05708 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("60"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:45:05711 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:45:05712 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("51"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:45:05715 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:45:05717 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:45:05723 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:45:05728 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:45:05731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 83.6869ms
[30-06-2024 00:45:05736 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:45:05759 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:45:05765 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 90.0882ms
[30-06-2024 00:45:05733 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 87.1552ms
[30-06-2024 00:45:05787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 226.9143ms
[30-06-2024 00:45:05789 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 130.8659ms
[30-06-2024 00:45:05792 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:45:05797 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:45:05824 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:45:05825 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 220.7918ms
[30-06-2024 00:45:05828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 253.4723ms
[30-06-2024 00:45:05841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 260.6865ms
[30-06-2024 00:48:53471 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:48:53478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:48:53535 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:48:53606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 135.2966ms
[30-06-2024 00:48:53605 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:48:53535 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:48:53732 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:48:53688 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 210.6447ms
[30-06-2024 00:48:53795 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:48:53809 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 273.7132ms
[30-06-2024 00:48:53670 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:48:54170 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:48:54161 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:48:53810 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:48:54181 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:48:54182 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:48:54172 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 504.277ms
[30-06-2024 00:48:54182 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:48:54184 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:48:54190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:48:54190 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:48:54195 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:48:54235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:48:54239 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:48:54241 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:48:54242 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:48:54243 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:48:54295 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("66"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:48:54308 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:48:54339 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:48:54377 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("129"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:48:54382 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("169"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:48:54385 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:48:54391 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 189.5036ms
[30-06-2024 00:48:54402 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:48:54410 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:48:54412 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:48:54432 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:48:54418 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:48:54428 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:48:54434 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:48:54453 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 251.0181ms
[30-06-2024 00:48:54484 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 237.621ms
[30-06-2024 00:48:54443 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 647.797ms
[30-06-2024 00:48:54491 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:48:54492 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:48:54511 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 701.4217ms
[30-06-2024 00:48:54517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 281.9441ms
[30-06-2024 00:48:54519 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:48:54554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:48:54560 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 75.4593ms
[30-06-2024 00:48:54563 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:48:54565 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 257.4612ms
[30-06-2024 00:51:58807 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:51:58825 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:51:58827 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 19.5556ms
[30-06-2024 00:51:58833 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:51:58812 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:51:58851 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:51:58883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:51:58993 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:51:58993 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 160.4356ms
[30-06-2024 00:51:59007 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 194.7097ms
[30-06-2024 00:51:59004 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:51:58985 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:51:59018 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:51:59211 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 328.0859ms
[30-06-2024 00:51:59220 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:51:59019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:51:59224 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:51:59243 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:51:59241 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:51:59227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:51:59254 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:51:59249 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:51:59256 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:51:59245 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:51:59256 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:51:59263 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:51:59250 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:51:59260 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:51:59262 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:51:59265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:51:59267 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:51:59285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:51:59357 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("66"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:51:59357 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("66"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:51:59360 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("71"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:51:59363 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:51:59365 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:51:59370 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:51:59374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 98.4156ms
[30-06-2024 00:51:59376 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 95.8321ms
[30-06-2024 00:51:59377 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:51:59382 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:51:59384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:51:59387 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 117.935ms
[30-06-2024 00:51:59396 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:51:59393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 170.0663ms
[30-06-2024 00:51:59389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 404.5568ms
[30-06-2024 00:51:59398 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 380.0176ms
[30-06-2024 00:51:59480 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:51:59503 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:51:59592 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 290.6738ms
[30-06-2024 00:51:59603 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:51:59607 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 598.2352ms
[30-06-2024 00:54:03473 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:54:03902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:54:04902 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:54:04904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 1001.4301ms
[30-06-2024 00:54:04534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:54:04896 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:54:04924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 1451.7707ms
[30-06-2024 00:54:04916 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:54:03958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:54:04940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:54:04941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 407.0205ms
[30-06-2024 00:54:04945 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:54:04964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 1007.4584ms
[30-06-2024 00:54:04960 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:54:04955 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:54:04962 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:54:04977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:54:05039 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:54:05035 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:54:05038 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:54:04986 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:54:05041 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:54:05043 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:54:05044 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:54:05046 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:54:05047 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:54:05049 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:54:05054 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:54:05056 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:54:05059 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:54:05058 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:54:05073 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:54:05139 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("70"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:54:05148 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("67"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:54:05180 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("82"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:54:05187 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("100"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:54:05290 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:54:05296 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:54:05307 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:54:05312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:54:05314 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 249.3939ms
[30-06-2024 00:54:05318 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 221.5998ms
[30-06-2024 00:54:05317 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:54:05329 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:54:05343 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:54:05351 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 391.2147ms
[30-06-2024 00:54:05347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 406.9252ms
[30-06-2024 00:54:05344 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 265.6324ms
[30-06-2024 00:54:05409 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 326.5226ms
[30-06-2024 00:54:05435 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:54:05437 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:54:05439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 476.7147ms
[30-06-2024 00:54:05441 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 464.4397ms
[30-06-2024 00:56:34040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:56:34040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:56:34052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:56:34117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:56:34256 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:56:34308 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 269.055ms
[30-06-2024 00:56:34259 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:56:34274 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:56:34304 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:56:34374 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:56:34363 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 322.8835ms
[30-06-2024 00:56:34364 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 312.9062ms
[30-06-2024 00:56:34375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 257.6543ms
[30-06-2024 00:56:34323 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:56:34376 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:56:34393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:56:34396 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:56:34424 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:56:34429 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:56:34436 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:56:34441 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:56:34441 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:56:34441 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:56:34449 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:56:34446 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:56:34448 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:56:34444 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:56:34458 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:56:34460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:56:34462 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:56:34463 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:56:34479 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:56:34531 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:56:34537 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:56:34538 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("58"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:56:34544 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:56:34546 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:56:34548 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:56:34552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 81.6112ms
[30-06-2024 00:56:34562 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:56:34549 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:56:34572 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:56:34575 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 40.2061ms
[30-06-2024 00:56:34575 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:56:34583 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 116.4393ms
[30-06-2024 00:56:34581 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:56:34578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 204.4504ms
[30-06-2024 00:56:34589 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 196.4996ms
[30-06-2024 00:56:34585 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:56:34628 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 153.7266ms
[30-06-2024 00:56:34631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 255.0946ms
[30-06-2024 00:56:34635 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:56:34646 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 323.2194ms
[30-06-2024 00:57:15419 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 00:57:15432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:57:15434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 15.9488ms
[30-06-2024 00:57:15440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 00:57:15443 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:57:15449 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:57:15451 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 00:57:15452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 00:57:15552 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 00:57:15786 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 00:57:15806 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 00:57:15808 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 351.7396ms
[30-06-2024 00:57:15810 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 00:57:15813 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 373.0999ms
[30-06-2024 00:57:15855 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:57:15874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:57:15855 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:57:15855 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:57:15879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:57:15883 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:57:15892 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 37.448ms
[30-06-2024 00:57:15901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 23.9768ms
[30-06-2024 00:57:15887 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:57:15891 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:57:15906 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:57:15908 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:57:15935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:57:15931 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:57:15925 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 69.4411ms
[30-06-2024 00:57:15926 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 70.7926ms
[30-06-2024 00:57:15930 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:57:15941 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:57:15947 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:57:15950 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:57:15959 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:57:15960 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:57:15961 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:57:15963 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:57:15964 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:57:15965 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:57:15966 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:57:15967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:57:15969 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:57:15971 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:57:15972 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:57:15974 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:57:15999 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:57:16001 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:57:16003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:57:16007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:57:16008 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 31.4139ms
[30-06-2024 00:57:16010 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 21.7778ms
[30-06-2024 00:57:16012 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:57:16012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:57:16014 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:57:16015 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:57:16018 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:57:16019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 113.2244ms
[30-06-2024 00:57:16021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 86.2491ms
[30-06-2024 00:57:16025 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:57:16026 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:57:16041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 59.8894ms
[30-06-2024 00:57:16051 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:57:16053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 146.4447ms
[30-06-2024 00:57:16075 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 81.4366ms
[30-06-2024 00:57:16077 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:57:16080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 149.502ms
[30-06-2024 00:58:58699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:58:58699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:58:58700 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:58:58724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:58:58743 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:58:58750 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:58:58756 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:58:58768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 69.574ms
[30-06-2024 00:58:58787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 87.1852ms
[30-06-2024 00:58:58848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:58:58766 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 67.8872ms
[30-06-2024 00:58:58764 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:58:58838 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:58:58816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:58:58863 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:58:58874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 149.7909ms
[30-06-2024 00:58:58879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:58:58883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:58:58892 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:58:58893 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:58:58901 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:58:58948 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:58:58950 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:58:58967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:58:58953 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:58:58958 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:58:58979 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:58:58983 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:58:58978 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:58:58952 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:58:58976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:58:59012 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:58:59115 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("118"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:58:59115 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("106"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:58:59139 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:58:59140 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:58:59149 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("63"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:58:59153 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:58:59166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:58:59171 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:58:59179 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 171.1972ms
[30-06-2024 00:58:59192 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:58:59189 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 68.669ms
[30-06-2024 00:58:59218 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:58:59221 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 227.3927ms
[30-06-2024 00:58:59244 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:58:59234 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:58:59239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 401.3598ms
[30-06-2024 00:58:59223 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 139.2855ms
[30-06-2024 00:58:59252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 369.3094ms
[30-06-2024 00:58:59347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 501.775ms
[30-06-2024 00:58:59396 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:58:59417 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 604.3264ms
[30-06-2024 00:59:24158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:59:24161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:59:24221 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:59:24159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:59:24227 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:59:24229 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 71.1173ms
[30-06-2024 00:59:24188 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:59:24238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 00:59:24241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 80.2625ms
[30-06-2024 00:59:24240 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:59:24251 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 00:59:24254 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:59:24255 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:59:24262 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 103.3248ms
[30-06-2024 00:59:24269 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:59:24267 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:59:24274 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:59:24290 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:59:24274 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 00:59:24269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 80.5037ms
[30-06-2024 00:59:24272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 00:59:24293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:59:24293 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:59:24299 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:59:24311 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:59:24307 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 00:59:24317 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:59:24339 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 00:59:24345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:59:24348 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:59:24350 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 00:59:24352 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 00:59:24398 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("76"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 00:59:24401 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 00:59:24431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:59:24406 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("51"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 00:59:24427 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 00:59:24406 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("95"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 00:59:24520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 00:59:24519 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:59:24553 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 195.3886ms
[30-06-2024 00:59:24557 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 00:59:24560 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 239.5887ms
[30-06-2024 00:59:24567 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 213.2928ms
[30-06-2024 00:59:24572 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 00:59:24600 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 289.9536ms
[30-06-2024 00:59:24612 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 00:59:24616 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 00:59:24618 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 346.7748ms
[30-06-2024 00:59:24622 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 00:59:24624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 373.4247ms
[30-06-2024 00:59:24627 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 352.9477ms
[30-06-2024 00:59:24638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 400.6244ms
[30-06-2024 01:01:21005 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:01:21009 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:01:21011 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:01:21018 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:01:21188 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:01:21190 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 185.1743ms
[30-06-2024 01:01:21202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 192.198ms
[30-06-2024 01:01:21201 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:01:21064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:01:21225 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 207.9618ms
[30-06-2024 01:01:21244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:01:21245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:01:21238 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:01:21244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:01:21273 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:01:21282 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:01:21282 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 218.4696ms
[30-06-2024 01:01:21310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:01:21310 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:01:21370 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:01:21371 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:01:21380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:01:21320 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:01:21367 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:01:21324 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:01:21434 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:01:21435 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:01:21430 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:01:21432 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:01:21452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:01:21452 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:01:21464 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:01:21517 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("45"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:01:21517 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("78"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:01:21519 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("59"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:01:21519 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("106"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:01:21553 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:01:21556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:01:21566 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:01:21570 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:01:21571 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:01:21582 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 122.4635ms
[30-06-2024 01:01:21587 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 175.0148ms
[30-06-2024 01:01:21597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 129.0291ms
[30-06-2024 01:01:21620 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 183.3058ms
[30-06-2024 01:01:21620 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:01:21624 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:01:21629 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:01:21630 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:01:21632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 388.5944ms
[30-06-2024 01:01:21649 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 404.9981ms
[30-06-2024 01:01:21664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 354.2504ms
[30-06-2024 01:01:21666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 421.968ms
[30-06-2024 01:03:30457 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:03:30457 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:03:30597 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:03:30478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:03:30580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:03:30607 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:03:30609 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 38.3687ms
[30-06-2024 01:03:30537 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:03:30599 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 170.5866ms
[30-06-2024 01:03:30759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 302.5622ms
[30-06-2024 01:03:30603 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:03:30769 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:03:30722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:03:30828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 358.4224ms
[30-06-2024 01:03:30831 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:03:30734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:03:30836 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:03:30841 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:03:30855 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:03:30874 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:03:30891 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:03:30883 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:03:30886 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:03:30881 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:03:30931 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:03:30927 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:03:30929 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:03:30919 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:03:30933 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:03:30936 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:03:30978 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:03:30979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:03:31030 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:03:31031 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("86"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:03:31036 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:03:31041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:03:31044 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 28.928ms
[30-06-2024 01:03:31046 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 103.6154ms
[30-06-2024 01:03:31052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:03:31054 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:03:31060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 292.3718ms
[30-06-2024 01:03:31056 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:03:31057 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 323.2736ms
[30-06-2024 01:03:31056 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("67"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:03:31071 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:03:31094 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:03:31095 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:03:31099 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 76.9679ms
[30-06-2024 01:03:31105 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:03:31107 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 271.2511ms
[30-06-2024 01:03:31139 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 152.189ms
[30-06-2024 01:03:31147 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:03:31150 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 428.6922ms
[30-06-2024 01:04:24822 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:04:24829 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:04:24823 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:04:24857 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:04:25041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:04:25056 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:04:25074 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:04:25665 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 840.6708ms
[30-06-2024 01:04:25690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 867.5546ms
[30-06-2024 01:04:25587 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 764.814ms
[30-06-2024 01:04:25664 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:04:25640 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:04:25772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 740.9805ms
[30-06-2024 01:04:25697 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:04:25751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:04:25783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:04:25791 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:04:25801 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:04:25805 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:04:25811 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:04:25813 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:04:25814 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:04:25816 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:04:25818 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:04:25819 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:04:25821 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:04:25822 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:04:25824 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:04:25829 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:04:25830 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:04:25834 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:04:25832 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:04:25915 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("77"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:04:25920 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:04:25921 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("71"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:04:25925 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("53"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:04:25928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:04:25931 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:04:25936 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:04:25942 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:04:25946 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 109.1796ms
[30-06-2024 01:04:25959 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:04:25955 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:04:25949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 65.4631ms
[30-06-2024 01:04:25964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 323.847ms
[30-06-2024 01:04:25967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 96.4404ms
[30-06-2024 01:04:25987 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:04:26020 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 173.0514ms
[30-06-2024 01:04:26027 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:04:26030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 279.1796ms
[30-06-2024 01:04:26033 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:04:26036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 252.7592ms
[30-06-2024 01:04:26046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 348.9867ms
[30-06-2024 01:05:52761 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:05:52766 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:05:52768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 10.218ms
[30-06-2024 01:05:52773 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:05:52778 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:05:52779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 6.0324ms
[30-06-2024 01:05:52794 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:05:52795 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:05:52893 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:05:52899 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:05:52901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 106.706ms
[30-06-2024 01:05:52932 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:05:52909 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 113.9512ms
[30-06-2024 01:05:52932 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:05:52932 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:05:53134 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:05:53179 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:05:53195 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:05:53197 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:05:53206 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:05:53210 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:05:53212 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:05:53213 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:05:53217 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:05:53218 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:05:53220 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:05:53226 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:05:53223 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:05:53225 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:05:53220 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:05:53245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:05:53278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:05:53426 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("142"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:05:53430 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("200"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:05:53439 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("101"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:05:53453 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("202"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:05:53485 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:05:53490 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:05:53504 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:05:53507 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:05:53509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:05:53519 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 218.5293ms
[30-06-2024 01:05:53512 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 283.462ms
[30-06-2024 01:05:53544 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 261.1467ms
[30-06-2024 01:05:53549 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:05:53555 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:05:53558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:05:53560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 628.0116ms
[30-06-2024 01:05:53604 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 354.7753ms
[30-06-2024 01:05:53566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 634.1898ms
[30-06-2024 01:05:53572 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 438.376ms
[30-06-2024 01:05:53629 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:05:53643 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 711.4982ms
[30-06-2024 01:06:44764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:06:44782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:06:44782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:06:44813 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:06:44825 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:06:44795 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:06:44838 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 56.7809ms
[30-06-2024 01:06:44833 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:06:44840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 75.9721ms
[30-06-2024 01:06:44866 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 83.9322ms
[30-06-2024 01:06:44956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:06:44860 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:06:44955 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:06:44989 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:06:44990 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 197.6059ms
[30-06-2024 01:06:44975 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:06:45001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:06:45011 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:06:45012 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:06:45023 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:06:45026 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:06:45027 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:06:45029 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:06:45030 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:06:45031 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:06:45033 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:06:45035 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:06:45037 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:06:45040 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:06:45038 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:06:45061 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:06:45186 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("118"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:06:45187 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("144"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:06:45192 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:06:45209 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:06:45212 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:06:45225 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 183.0459ms
[30-06-2024 01:06:45238 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:06:45239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 282.762ms
[30-06-2024 01:06:45317 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 251.135ms
[30-06-2024 01:06:45325 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("109"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:06:45326 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:06:45328 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("129"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:06:45332 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:06:45349 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 135.0836ms
[30-06-2024 01:06:45346 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:06:45338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 382.9347ms
[30-06-2024 01:06:45356 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:06:45358 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:06:45370 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 371.4888ms
[30-06-2024 01:06:45375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 177.7387ms
[30-06-2024 01:06:45415 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:06:45423 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 447.979ms
[30-06-2024 01:10:58032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 01:10:58044 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:10:58048 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 21.1136ms
[30-06-2024 01:10:58057 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 01:10:58062 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:10:58072 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:10:58074 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 01:10:58078 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 01:10:58411 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("208"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 01:10:58657 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 01:10:58685 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 01:10:58691 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 609.6037ms
[30-06-2024 01:10:58693 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 01:10:58696 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 639.3004ms
[30-06-2024 01:10:58749 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:10:58752 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:10:58754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 4.6643ms
[30-06-2024 01:10:58765 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:10:58762 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:10:58759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:10:58818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:10:58837 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:10:58843 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:10:58852 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 87.0467ms
[30-06-2024 01:10:58862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:10:58863 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 102.9249ms
[30-06-2024 01:10:58847 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:10:58874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:10:58851 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:10:58886 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:10:58895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 135.4283ms
[30-06-2024 01:10:58899 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:10:58901 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:10:58904 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:10:58904 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:10:58911 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:10:58915 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:10:58916 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:10:58918 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:10:58919 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:10:58922 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:10:58924 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:10:58926 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:10:58928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:10:58930 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:10:58949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:10:58994 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("53"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:10:58995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("47"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:10:58995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:10:58996 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:10:59000 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:10:59006 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:10:59007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:10:59014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:10:59014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:10:59017 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 80.0584ms
[30-06-2024 01:10:59019 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 56.4849ms
[30-06-2024 01:10:59020 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 86.9367ms
[30-06-2024 01:10:59025 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:10:59027 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:10:59033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 214.9992ms
[30-06-2024 01:10:59029 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:10:59035 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 134.1679ms
[30-06-2024 01:10:59044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 181.6528ms
[30-06-2024 01:10:59070 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 130.3656ms
[30-06-2024 01:10:59073 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:10:59075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 200.848ms
[30-06-2024 01:11:19512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:11:19530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:11:19532 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:11:19526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:11:19554 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:19624 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:19628 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:19687 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 154.5068ms
[30-06-2024 01:11:19652 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 140.5199ms
[30-06-2024 01:11:19666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:11:19645 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:19650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 138.7934ms
[30-06-2024 01:11:19666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:11:19787 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:19781 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 268.8732ms
[30-06-2024 01:11:19713 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:11:19792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:11:19797 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:19799 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:11:19808 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:19813 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:19814 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:11:19815 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:11:19817 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:11:19818 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:11:19821 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:11:19824 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:11:19826 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:11:19827 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:11:19831 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:11:19840 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:11:19842 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:11:19895 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("47"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:11:19900 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("66"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:11:19906 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("51"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:11:19910 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:11:19910 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:11:19914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:11:19918 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:11:19921 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 74.9832ms
[30-06-2024 01:11:19926 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:11:19929 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 95.5923ms
[30-06-2024 01:11:19933 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:11:19935 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:11:19943 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 277.3101ms
[30-06-2024 01:11:19940 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:11:19946 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 80.5118ms
[30-06-2024 01:11:19956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 289.7784ms
[30-06-2024 01:11:19960 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:11:19969 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 177.047ms
[30-06-2024 01:11:19981 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 132.3663ms
[30-06-2024 01:11:19996 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:11:19999 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 285.856ms
[30-06-2024 01:11:47674 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:11:47674 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:11:47688 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:11:47697 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:11:47725 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:47730 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:47741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 66.5525ms
[30-06-2024 01:11:47743 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 68.215ms
[30-06-2024 01:11:47734 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:47739 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:47750 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:11:47751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:11:47785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:11:47786 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:11:47774 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 85.5207ms
[30-06-2024 01:11:47775 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 84.1821ms
[30-06-2024 01:11:47783 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:47820 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:47824 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:47828 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:11:47844 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:11:47847 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:11:47848 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:11:47849 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:11:47850 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:11:47854 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:11:47855 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:11:47857 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:11:47858 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:11:47860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:11:47863 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:11:47865 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:11:47926 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:11:47926 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:11:47933 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:11:47935 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:11:47940 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:11:47947 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:11:47952 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:11:47958 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:11:47960 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 74.6103ms
[30-06-2024 01:11:47964 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 96.2039ms
[30-06-2024 01:11:47966 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:11:47971 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:11:47979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 106.8804ms
[30-06-2024 01:11:47975 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:11:47982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 197.7455ms
[30-06-2024 01:11:47986 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:11:47989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 239.4105ms
[30-06-2024 01:11:48002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 251.0729ms
[30-06-2024 01:11:48015 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 110.0579ms
[30-06-2024 01:11:48025 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:11:48028 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 242.2926ms
[30-06-2024 01:12:02846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:12:02847 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:12:02846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:12:02846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:12:02887 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:02904 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:02909 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:02922 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 76.0451ms
[30-06-2024 01:12:02919 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 72.9145ms
[30-06-2024 01:12:02921 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 74.0598ms
[30-06-2024 01:12:02942 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:12:02917 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:02945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:12:02952 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:12:02979 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:03028 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:12:03022 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:12:03023 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:03025 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:03001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 154.8305ms
[30-06-2024 01:12:03030 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:12:03040 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:03042 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:12:03043 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:12:03173 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:12:03174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:12:03106 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:12:03179 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:12:03182 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:12:03167 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:12:03096 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:12:03262 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:12:03453 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("139"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:12:03453 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("178"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:12:03457 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("265"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:12:03499 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:12:03495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:12:03487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:12:03501 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 312.7346ms
[30-06-2024 01:12:03595 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("413"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:12:03596 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 328.061ms
[30-06-2024 01:12:03609 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:12:03598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:12:03626 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:12:03628 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:12:03628 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 606.4765ms
[30-06-2024 01:12:03630 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 687.5777ms
[30-06-2024 01:12:03631 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 453.6802ms
[30-06-2024 01:12:03641 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:12:03644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 691.8665ms
[30-06-2024 01:12:03684 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 410.4815ms
[30-06-2024 01:12:03687 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:12:03690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 746.5067ms
[30-06-2024 01:12:57575 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:12:57578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:12:57579 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:12:57575 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:12:57595 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:57597 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:57607 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:57614 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:57616 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 41.1947ms
[30-06-2024 01:12:57618 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 40.7542ms
[30-06-2024 01:12:57623 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 44.8013ms
[30-06-2024 01:12:57628 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 53.3809ms
[30-06-2024 01:12:57629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:12:57692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:12:57632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:12:57677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:12:57715 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:57724 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:57728 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:57732 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:12:57734 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:12:57735 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:12:57737 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:12:57738 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:12:57739 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:12:57740 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:12:57741 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:12:57743 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:12:57744 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:12:57746 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:12:57748 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:12:57753 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:12:58077 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("211"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:12:58121 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("113"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:12:58160 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("402"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:12:58162 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("390"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:12:58170 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:12:58174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:12:58184 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:12:58189 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:12:58214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 452.0458ms
[30-06-2024 01:12:58309 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 552.6005ms
[30-06-2024 01:12:58313 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:12:58338 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:12:58351 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:12:58353 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 582.2034ms
[30-06-2024 01:12:58379 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 749.5356ms
[30-06-2024 01:12:58384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:12:58359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 670.0953ms
[30-06-2024 01:12:58386 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 609.0454ms
[30-06-2024 01:12:58400 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 767.8817ms
[30-06-2024 01:12:58417 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:12:58429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 756.6287ms
[30-06-2024 01:16:07771 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:16:07885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:16:07919 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:16:07945 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:16:07898 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:16:07980 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 107.0042ms
[30-06-2024 01:16:07977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 206.3948ms
[30-06-2024 01:16:08038 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:16:07938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:16:08072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:16:08055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 157.2279ms
[30-06-2024 01:16:08090 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:16:08018 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:16:08031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:16:08099 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:16:08104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 166.0659ms
[30-06-2024 01:16:08109 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:16:08128 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:16:08112 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:16:08113 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:16:08110 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:16:08130 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:16:08131 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:16:08132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:16:08136 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:16:08137 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:16:08139 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:16:08140 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:16:08145 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:16:08142 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:16:08172 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:16:08186 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:16:08187 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:16:08191 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:16:08200 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 55.4323ms
[30-06-2024 01:16:08202 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:16:08202 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:16:08206 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("54"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:16:08214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:16:08215 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 197.339ms
[30-06-2024 01:16:08224 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:16:08236 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:16:08241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 70.9351ms
[30-06-2024 01:16:08248 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:16:08271 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:16:08275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:16:08286 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 92.5309ms
[30-06-2024 01:16:08307 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:16:08282 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 251.0943ms
[30-06-2024 01:16:08328 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 176.9725ms
[30-06-2024 01:16:08335 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 225.1701ms
[30-06-2024 01:16:08358 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:16:08368 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 296.0481ms
[30-06-2024 01:21:58185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:21:58240 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:21:58321 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:21:58309 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:21:58346 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:21:58396 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:21:58402 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 216.3502ms
[30-06-2024 01:21:58406 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:21:58412 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 172.6185ms
[30-06-2024 01:21:58428 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:21:58421 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 122.3125ms
[30-06-2024 01:21:58410 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:21:58441 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:21:58466 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:21:58484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:21:58476 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 130.5527ms
[30-06-2024 01:21:58417 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:21:58521 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:21:58522 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:21:58526 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:21:58536 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:21:58537 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:21:58540 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:21:58546 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:21:58542 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:21:58543 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:21:58541 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:21:58551 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:21:58555 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:21:58574 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:21:58575 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:21:58588 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:21:58700 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("108"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:21:58700 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("148"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:21:58707 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:21:58704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:21:58723 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 172.8691ms
[30-06-2024 01:21:58724 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("141"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:21:58726 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 136.2993ms
[30-06-2024 01:21:58731 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:21:58735 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:21:58736 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:21:58737 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 309.0478ms
[30-06-2024 01:21:58739 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 322.0074ms
[30-06-2024 01:21:58738 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:21:58761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 179.9712ms
[30-06-2024 01:21:58763 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:21:58764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 322.9906ms
[30-06-2024 01:21:58784 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:21:58789 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:21:58827 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 222.8396ms
[30-06-2024 01:21:58832 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:21:58834 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 349.7034ms
[30-06-2024 01:22:33282 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:22:33289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:22:33401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:22:33854 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:22:33890 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:22:33933 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:22:33941 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:22:33944 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:22:33947 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 665.0891ms
[30-06-2024 01:22:33960 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 670.162ms
[30-06-2024 01:22:34069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:22:33996 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 594.85ms
[30-06-2024 01:22:34000 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 145.5625ms
[30-06-2024 01:22:33996 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:22:33976 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:22:34045 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:22:34113 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:22:34130 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:22:34141 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:22:34147 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:22:34148 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:22:34142 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:22:34146 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:22:34150 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:22:34150 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:22:34152 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:22:34158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:22:34162 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:22:34212 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:22:34215 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:22:34261 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:22:34267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:22:34372 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("61"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:22:34375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:22:34377 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 105.7389ms
[30-06-2024 01:22:34383 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:22:34385 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 412.6426ms
[30-06-2024 01:22:34386 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("219"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:22:34387 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("172"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:22:34390 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("233"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:22:34397 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:22:34402 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:22:34408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:22:34414 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 200.0762ms
[30-06-2024 01:22:34420 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:22:34420 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:22:34422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 426.2982ms
[30-06-2024 01:22:34425 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 259.5123ms
[30-06-2024 01:22:34457 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:22:34459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 391.6869ms
[30-06-2024 01:22:34479 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 323.5248ms
[30-06-2024 01:22:34493 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:22:34495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 451.6268ms
[30-06-2024 01:25:13226 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:25:13230 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:13232 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 6.5196ms
[30-06-2024 01:25:13241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:25:13268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:25:13282 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:25:13289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:25:13305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:13297 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:13301 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:13290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:13309 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 19.1525ms
[30-06-2024 01:25:13314 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 72.9593ms
[30-06-2024 01:25:13311 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:25:13312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 29.9627ms
[30-06-2024 01:25:13378 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:25:13386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:25:13394 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:25:13416 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:25:13433 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:13444 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:13453 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:13459 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:25:13461 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:25:13469 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:25:13516 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:25:13490 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:25:13514 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:25:13518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:25:13524 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:25:13530 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:25:13549 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:25:13581 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("70"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:25:13586 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("50"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:25:13631 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:25:13733 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:25:13737 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("174"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:25:13743 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("170"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:25:13764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 254.0152ms
[30-06-2024 01:25:13784 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:25:13802 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:25:13795 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:25:13799 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:25:13820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 285.8109ms
[30-06-2024 01:25:13830 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 269.7456ms
[30-06-2024 01:25:13840 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 271.3727ms
[30-06-2024 01:25:13843 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 574.3724ms
[30-06-2024 01:25:13845 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:25:13852 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:25:13857 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:25:13872 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 488.8697ms
[30-06-2024 01:25:13878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 501.4895ms
[30-06-2024 01:25:13889 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 495.6463ms
[30-06-2024 01:25:45673 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:25:45685 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:25:45970 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:45972 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 287.2967ms
[30-06-2024 01:25:45914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:25:45965 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:45712 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:25:45984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 310.8599ms
[30-06-2024 01:25:45982 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:46052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:25:46159 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:46166 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 251.4962ms
[30-06-2024 01:25:46209 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 497.2952ms
[30-06-2024 01:25:46204 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:46127 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:25:46200 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:25:46220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:25:46235 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:25:46253 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:46261 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:46268 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:25:46269 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:25:46280 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:25:46289 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:25:46297 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:25:46292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:25:46295 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:25:46290 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:25:46323 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:25:46325 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:25:46305 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:25:46320 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:25:46435 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("91"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:25:46472 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:25:46482 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("151"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:25:46485 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("171"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:25:46487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:25:46489 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:25:46498 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:25:46500 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 169.9384ms
[30-06-2024 01:25:46541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:25:46545 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:25:46547 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:25:46547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 205.0794ms
[30-06-2024 01:25:46551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 95.8974ms
[30-06-2024 01:25:46553 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 245.1659ms
[30-06-2024 01:25:46564 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 346.5194ms
[30-06-2024 01:25:46568 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:25:46572 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:25:46577 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:25:46584 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 383.9576ms
[30-06-2024 01:25:46610 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 483.6016ms
[30-06-2024 01:25:46661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 609.0892ms
[30-06-2024 01:26:38357 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:26:38378 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:26:38382 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:26:38380 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:26:38412 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:26:38423 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:26:38431 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:26:38439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 61.1164ms
[30-06-2024 01:26:38440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 58.8164ms
[30-06-2024 01:26:38481 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:26:38435 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:26:38437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 79.833ms
[30-06-2024 01:26:38481 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:26:38532 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:26:38532 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:26:38534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 153.4798ms
[30-06-2024 01:26:38560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:26:38588 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:26:38568 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:26:38573 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:26:38565 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:26:38591 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:26:38592 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:26:38596 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:26:38599 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:26:38602 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:26:38604 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:26:38610 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:26:38620 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:26:38631 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:26:38617 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:26:38678 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("40"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:26:38674 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:26:38692 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:26:38704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:26:38707 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:26:38721 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 84.2754ms
[30-06-2024 01:26:38724 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 100.3654ms
[30-06-2024 01:26:38725 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:26:38736 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:26:38738 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 177.6298ms
[30-06-2024 01:26:38741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 259.9763ms
[30-06-2024 01:26:38768 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("83"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:26:38769 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("54"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:26:38781 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:26:38792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:26:38793 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:26:38825 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 141.1273ms
[30-06-2024 01:26:38826 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:26:38841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 308.1672ms
[30-06-2024 01:26:38883 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 168.9046ms
[30-06-2024 01:26:38887 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:26:38890 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 409.0761ms
[30-06-2024 01:31:23899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:31:24294 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:31:23914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:31:23980 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:31:24361 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:31:24314 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:31:24337 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:31:24388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 474.915ms
[30-06-2024 01:31:24376 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:31:24471 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 491.7293ms
[30-06-2024 01:31:24420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 125.7804ms
[30-06-2024 01:31:24478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 01:31:24393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 493.8066ms
[30-06-2024 01:31:24531 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:31:24540 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 01:31:24482 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 01:31:24519 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 01:31:24656 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:31:24669 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:31:24676 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:31:24733 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 01:31:24734 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:31:24738 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:31:24740 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:31:24746 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 01:31:24747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:31:24749 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:31:24763 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:31:24750 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:31:24757 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:31:24782 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 01:31:24784 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 01:31:24882 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("92"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 01:31:24943 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("179"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 01:31:24935 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("159"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 01:31:25010 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 01:31:25067 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 01:31:25061 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:31:25066 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("46"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 01:31:25041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:31:25071 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 282.2186ms
[30-06-2024 01:31:25082 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 01:31:25074 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 299.1883ms
[30-06-2024 01:31:25105 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 01:31:25108 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 304.5934ms
[30-06-2024 01:31:25116 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 01:31:25135 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 652.9542ms
[30-06-2024 01:31:25158 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 01:31:25162 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 656.2531ms
[30-06-2024 01:31:25243 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 481.7052ms
[30-06-2024 01:31:25250 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 737.9878ms
[30-06-2024 01:31:25263 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 01:31:25274 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 795.5627ms
[30-06-2024 10:43:05037 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 10:43:06287 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 10:43:06290 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 10:43:06296 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 10:43:06299 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 10:43:06302 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 10:43:07449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 10:43:08061 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 620.8482ms
[30-06-2024 10:43:08098 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 10:43:08122 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 23.6201ms
[30-06-2024 10:43:08451 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 10:43:08904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 453.3638ms
[30-06-2024 10:43:09032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 10:43:09615 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 583.408ms
[30-06-2024 10:43:19550 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 10:43:19569 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:19573 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 23.9992ms
[30-06-2024 10:43:19582 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 10:43:19591 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:19876 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:43:19881 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 10:43:19925 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 10:43:22173 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 10:43:22176 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 10:43:22179 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 10:43:25405 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("221"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 10:43:25838 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:43:26365 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 6428.7107ms
[30-06-2024 10:43:26369 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 10:43:26390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20965 "application/json; charset=utf-8" 6807.9518ms
[30-06-2024 10:43:34331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 10:43:34341 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:34348 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 15.7463ms
[30-06-2024 10:43:34381 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 10:43:34396 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:34402 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:43:34404 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 10:43:34410 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 10:43:34610 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 10:43:34626 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:43:34637 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 220.5618ms
[30-06-2024 10:43:34639 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 10:43:34642 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20965 "application/json; charset=utf-8" 264.2374ms
[30-06-2024 10:43:36477 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:43:36481 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:43:36502 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:43:36577 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:36479 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:43:36661 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:36653 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:36710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 208.3917ms
[30-06-2024 10:43:36705 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:43:36720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 238.3777ms
[30-06-2024 10:43:36661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 190.27ms
[30-06-2024 10:43:36710 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:36721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:43:36728 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:43:36735 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:36746 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 268.9062ms
[30-06-2024 10:43:36750 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:36755 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:43:36755 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:36766 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:43:36772 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:43:36772 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:43:36772 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:43:36773 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:43:36774 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:43:36775 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:43:36777 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:43:36777 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:43:36787 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:43:36787 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:43:36788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:43:36789 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:43:37012 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("116"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:43:37027 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("124"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:43:37030 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("116"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:43:37031 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("93"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:43:37047 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:43:37052 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:43:37057 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 255.3349ms
[30-06-2024 10:43:37061 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:43:37066 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 345.1043ms
[30-06-2024 10:43:37076 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:43:37076 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:43:37092 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:43:37141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 342.9588ms
[30-06-2024 10:43:37150 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:43:37158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 464.4868ms
[30-06-2024 10:43:37141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 350.6619ms
[30-06-2024 10:43:37273 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 478.3078ms
[30-06-2024 10:43:37656 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:43:37653 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:43:37661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 933.0467ms
[30-06-2024 10:43:37664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 910.0814ms
[30-06-2024 10:50:03327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:50:03327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:50:03327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:50:03327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:50:03371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:50:03371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:50:03371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:50:03371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:50:03386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 72.3454ms
[30-06-2024 10:50:03386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 72.3869ms
[30-06-2024 10:50:03386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 72.273ms
[30-06-2024 10:50:03386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 72.4001ms
[30-06-2024 10:50:03396 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:50:03396 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:50:03396 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:50:03396 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:50:03432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:50:03432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:50:03432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:50:03432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:50:03469 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:50:03469 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:50:03469 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:50:03469 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:50:03474 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:50:03474 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:50:03475 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:50:03477 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:50:03495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:50:03495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:50:03495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:50:03495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:50:04736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("261"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:50:04742 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("250"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:50:04770 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("439"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:50:04772 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("427"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:50:04810 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:50:04835 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:50:04852 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:50:04852 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:50:04853 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:50:04860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 1356.8791ms
[30-06-2024 10:50:04869 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 1351.2728ms
[30-06-2024 10:50:04871 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:50:04871 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 1360.083ms
[30-06-2024 10:50:04888 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 1491.7896ms
[30-06-2024 10:50:04905 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:50:04875 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:50:04946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 1550.3978ms
[30-06-2024 10:50:04952 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 1555.265ms
[30-06-2024 10:50:04968 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 1452.978ms
[30-06-2024 10:50:04987 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:50:04995 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 1598.7961ms
[30-06-2024 10:51:18714 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:51:18759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:51:18716 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:51:18738 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:51:18787 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:51:18789 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:51:18799 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:51:18828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 114.1634ms
[30-06-2024 10:51:18829 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 70.4524ms
[30-06-2024 10:51:18857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 141.5654ms
[30-06-2024 10:51:18874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:51:18804 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:51:18875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:51:18875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:51:18888 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:51:18890 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 152.1918ms
[30-06-2024 10:51:18900 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:51:18896 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:51:18898 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:51:18905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:51:18906 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:51:18909 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:51:18914 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:51:18923 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:51:18920 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:51:18921 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:51:18919 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:51:18924 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:51:18930 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:51:18934 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:51:18951 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:51:18953 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:51:19146 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("189"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:51:19147 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("201"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:51:19281 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("347"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:51:19287 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("317"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:51:19329 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:51:19377 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:51:19398 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:51:19417 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:51:19564 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 614.5491ms
[30-06-2024 10:51:19616 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:51:19611 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 683.5424ms
[30-06-2024 10:51:19636 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 702.236ms
[30-06-2024 10:51:19637 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:51:19640 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 672.1613ms
[30-06-2024 10:51:19647 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:51:19648 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:51:19657 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 781.8335ms
[30-06-2024 10:51:19653 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:51:19655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 780.7725ms
[30-06-2024 10:51:19651 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 775.8135ms
[30-06-2024 10:51:19668 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 763.5578ms
[30-06-2024 10:52:32660 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:52:32660 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:52:32677 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:32696 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:32682 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:52:32715 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 55.8746ms
[30-06-2024 10:52:32717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 56.1988ms
[30-06-2024 10:52:32754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:52:32763 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:32714 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:52:32777 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:32778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 97.013ms
[30-06-2024 10:52:32754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:52:32786 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:52:32805 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:32807 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:52:32855 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:32867 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:32870 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:52:32869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 156.8297ms
[30-06-2024 10:52:32880 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:52:32882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:52:32884 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:52:32885 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:52:32894 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:52:32902 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:52:32898 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:52:32897 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:32914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:52:32920 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:52:32928 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:52:32930 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:52:32988 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("83"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:52:32990 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("59"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:52:33002 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:52:33005 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("91"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:52:33008 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:52:33010 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:52:33012 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:52:33017 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:52:33018 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 90.5602ms
[30-06-2024 10:52:33026 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:52:33023 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:52:33027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 241.8629ms
[30-06-2024 10:52:33033 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 68.2649ms
[30-06-2024 10:52:33019 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 117.7725ms
[30-06-2024 10:52:33048 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:52:33050 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:52:33052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 170.4205ms
[30-06-2024 10:52:33055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 300.993ms
[30-06-2024 10:52:33080 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 176.0593ms
[30-06-2024 10:52:33162 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:52:33163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 409.2803ms
[30-06-2024 10:52:49040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:52:49040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:52:49041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:52:49242 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:49243 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 202.5972ms
[30-06-2024 10:52:49238 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:49067 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:49040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:52:49268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:52:49311 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 271.0009ms
[30-06-2024 10:52:49316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 275.4968ms
[30-06-2024 10:52:49319 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:49353 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 312.5964ms
[30-06-2024 10:52:49334 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:49334 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:52:49367 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:52:49333 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:52:49375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:52:49379 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:49381 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:52:49383 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:49387 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:52:49397 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:52:49410 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:52:49424 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:52:49403 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:52:49443 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:52:49399 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:52:49400 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:52:49569 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:52:49572 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:52:49562 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:52:49565 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("123"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:52:49596 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:52:49606 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:52:49620 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:52:49620 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 181.8632ms
[30-06-2024 10:52:49629 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:52:49632 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 63.5377ms
[30-06-2024 10:52:49632 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:52:49636 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:52:49638 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:52:49641 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 307.0654ms
[30-06-2024 10:52:49643 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:52:49665 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 80.4935ms
[30-06-2024 10:52:49652 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("73"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:52:49650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 381.9725ms
[30-06-2024 10:52:49671 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:52:49683 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:52:49687 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 313.1628ms
[30-06-2024 10:52:49801 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 224.2548ms
[30-06-2024 10:52:49804 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:52:49806 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 472.9552ms
[30-06-2024 10:53:09229 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:53:09233 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:53:09232 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:53:09233 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:53:09253 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:53:09517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:53:09659 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:53:09711 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 478.7018ms
[30-06-2024 10:53:09703 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 472.4848ms
[30-06-2024 10:53:09761 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:53:09721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:53:09719 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:53:09722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 489.8102ms
[30-06-2024 10:53:09663 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:53:09825 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 591.9351ms
[30-06-2024 10:53:09816 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:53:09820 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:53:09812 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:53:09831 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:53:09832 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:53:09834 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:53:09834 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:53:09835 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:53:09836 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:53:09837 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:53:09843 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:53:09845 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:53:09846 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:53:09852 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:53:09848 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:53:09868 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:53:09888 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:53:09892 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:53:09902 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:53:09905 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:53:09911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:53:09918 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 51.1038ms
[30-06-2024 10:53:09906 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:53:09921 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 46.0994ms
[30-06-2024 10:53:09927 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:53:09932 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:53:09933 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:53:09935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 215.8041ms
[30-06-2024 10:53:09937 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:53:09938 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:53:09938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 179.4281ms
[30-06-2024 10:53:09947 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 91.6109ms
[30-06-2024 10:53:09953 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:53:09959 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:53:09964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 242.9737ms
[30-06-2024 10:53:09997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 84.3791ms
[30-06-2024 10:53:10004 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:53:10008 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 174.5228ms
[30-06-2024 10:54:19935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:54:19938 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:19947 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 12.7565ms
[30-06-2024 10:54:19951 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:54:19953 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:19935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:54:19967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 16.1263ms
[30-06-2024 10:54:19970 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:19996 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:54:20016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 80.5919ms
[30-06-2024 10:54:20023 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:54:20082 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:20061 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:54:20105 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:20108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 112.3121ms
[30-06-2024 10:54:20121 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:54:20267 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:54:20267 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:54:20117 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:20272 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:54:20276 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:20284 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:20286 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:54:20287 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:54:20290 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:54:20291 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:54:20291 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:54:20296 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:54:20298 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:54:20303 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:54:20305 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:54:20307 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:54:20399 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("101"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:54:20429 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("115"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:54:20430 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:54:20434 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:54:20452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:54:20455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 160.2039ms
[30-06-2024 10:54:20457 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:54:20465 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:54:20503 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:54:20529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 505.5061ms
[30-06-2024 10:54:20521 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:54:20525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 121.1228ms
[30-06-2024 10:54:20536 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 224.5614ms
[30-06-2024 10:54:20560 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:54:20558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:54:20554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:54:20563 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 502.7564ms
[30-06-2024 10:54:20570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 302.7524ms
[30-06-2024 10:54:20592 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 170.5154ms
[30-06-2024 10:54:20723 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:54:20764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 496.6498ms
[30-06-2024 10:54:36304 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:54:36310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:54:36309 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:54:36310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:54:36551 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:36570 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:36754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 449.1314ms
[30-06-2024 10:54:36792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 481.9713ms
[30-06-2024 10:54:36773 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:54:36886 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:54:36732 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:36751 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:36909 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:36913 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:36916 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 606.066ms
[30-06-2024 10:54:36918 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 608.0856ms
[30-06-2024 10:54:36921 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:54:36922 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:54:37000 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:54:37002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:54:37045 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:54:37047 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:54:37052 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:37058 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:54:37061 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:54:37065 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:54:37068 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:54:37071 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:54:37090 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:54:37102 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:54:37113 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:54:37113 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:54:37115 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:54:37115 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:54:37136 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:54:37141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:54:37147 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 72.394ms
[30-06-2024 10:54:37149 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 70.7903ms
[30-06-2024 10:54:37150 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:54:37153 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:54:37157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 384.1222ms
[30-06-2024 10:54:37158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 273.0198ms
[30-06-2024 10:54:37189 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("68"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:54:37197 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:54:37202 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("72"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:54:37214 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:54:37216 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:54:37219 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 91.8566ms
[30-06-2024 10:54:37225 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:54:37227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 227.0027ms
[30-06-2024 10:54:37241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 122.5759ms
[30-06-2024 10:54:37246 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:54:37249 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 247.1406ms
[30-06-2024 10:55:02750 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:55:02810 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:55:02751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:55:02876 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:55:02981 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:02983 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:02995 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:02997 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:02999 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 249.3824ms
[30-06-2024 10:55:03000 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 189.8774ms
[30-06-2024 10:55:03003 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 252.3753ms
[30-06-2024 10:55:03050 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:55:03006 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 136.7594ms
[30-06-2024 10:55:03020 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:55:03104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:55:03117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:55:03183 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:03211 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:03229 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:03245 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:03248 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:55:03249 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:55:03252 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:55:03254 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:55:03255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:55:03257 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:55:03259 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:55:03260 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:55:03264 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:55:03265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:55:03267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:55:03273 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:55:03344 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:55:03344 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:55:03344 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("63"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:55:03351 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:55:03356 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:55:03362 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:55:03364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 83.1813ms
[30-06-2024 10:55:03367 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 70.8007ms
[30-06-2024 10:55:03389 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:55:03387 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:55:03391 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 345.5784ms
[30-06-2024 10:55:03394 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("58"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:55:03397 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 376.8916ms
[30-06-2024 10:55:03436 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:55:03443 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 165.815ms
[30-06-2024 10:55:03454 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:55:03459 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:55:03466 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 132.5809ms
[30-06-2024 10:55:03469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 418.5409ms
[30-06-2024 10:55:03494 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:55:03546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 429.68ms
[30-06-2024 10:55:24222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:55:24232 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:55:24222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:55:24263 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:24271 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:24368 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 146.9702ms
[30-06-2024 10:55:24366 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:24381 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 148.9116ms
[30-06-2024 10:55:24393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 171.4362ms
[30-06-2024 10:55:24406 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:55:24222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:55:24390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:55:24379 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:55:24429 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:24434 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:24438 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:24442 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:24445 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 223.8147ms
[30-06-2024 10:55:24447 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:55:24447 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:55:24449 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:55:24456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:55:24466 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:55:24467 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:55:24469 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:55:24475 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:55:24477 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:55:24480 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:55:24482 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:55:24484 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:55:24646 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:55:24649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:55:31750 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7,108"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:55:31754 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7,258"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:55:31759 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:55:31764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:55:31766 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 7130.1919ms
[30-06-2024 10:55:31768 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:55:31769 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 7389.8803ms
[30-06-2024 10:55:31783 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7,294"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:55:31789 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7,129"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:55:31831 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:55:31840 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:55:31842 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:55:31849 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 7355.0845ms
[30-06-2024 10:55:31850 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 7191.5619ms
[30-06-2024 10:55:31864 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:55:31861 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 7375.2336ms
[30-06-2024 10:55:31868 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:55:31870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 7479.6327ms
[30-06-2024 10:55:31873 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:55:31875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 7419.4162ms
[30-06-2024 10:55:31885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 7479.0631ms
[30-06-2024 10:57:33677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:57:33707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:57:33932 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:33677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:57:33935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 255.8913ms
[30-06-2024 10:57:33926 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:33783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:57:33975 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:57:34155 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 478.3669ms
[30-06-2024 10:57:34161 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:34144 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:34171 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:57:34182 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 399.2655ms
[30-06-2024 10:57:34190 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 514.7117ms
[30-06-2024 10:57:34175 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:34194 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:57:34197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:57:34201 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:34225 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:57:34228 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:34232 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:34241 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:57:34244 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:57:34245 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:57:34247 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:57:34249 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:57:34251 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:57:34253 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:57:34255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:57:34265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:57:34257 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:57:34269 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:57:34333 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:57:34333 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("70"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:57:34342 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("60"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:57:34346 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("72"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:57:34351 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:57:34359 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:57:34372 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:57:34376 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:57:34379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 80.6183ms
[30-06-2024 10:57:34384 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:57:34394 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:57:34382 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 120.4315ms
[30-06-2024 10:57:34401 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 125.8555ms
[30-06-2024 10:57:34410 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 213.2342ms
[30-06-2024 10:57:34412 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:57:34414 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:57:34422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 446.9396ms
[30-06-2024 10:57:34429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 261.7327ms
[30-06-2024 10:57:34446 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 173.969ms
[30-06-2024 10:57:34453 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:57:34454 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 263.9083ms
[30-06-2024 10:57:49670 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:57:49719 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:57:49671 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:57:49675 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:57:50177 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:50128 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:50162 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:49812 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:50179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 503.8721ms
[30-06-2024 10:57:50194 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 475.9167ms
[30-06-2024 10:57:50211 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:57:50196 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 524.5754ms
[30-06-2024 10:57:50202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:57:50197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 526.2937ms
[30-06-2024 10:57:50216 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:57:50217 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:57:50228 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:50238 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:50267 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:50281 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:57:50283 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:57:50285 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:57:50292 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:57:50295 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:57:50299 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:57:50300 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:57:50302 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:57:50311 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:57:50312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:57:50314 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:57:50318 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:57:50320 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:57:50397 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:57:50397 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("38"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:57:50398 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("66"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:57:50398 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("54"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:57:50445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:57:50449 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:57:50454 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:57:50458 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:57:50460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 100.4367ms
[30-06-2024 10:57:50463 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 105.1711ms
[30-06-2024 10:57:50465 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:57:50469 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:57:50477 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 147.2667ms
[30-06-2024 10:57:50482 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:57:50479 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 262.3129ms
[30-06-2024 10:57:50472 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:57:50484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 273.5015ms
[30-06-2024 10:57:50491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 275.9438ms
[30-06-2024 10:57:50522 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 181.4552ms
[30-06-2024 10:57:50527 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:57:50529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 327.8928ms
[30-06-2024 10:58:35942 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:58:35942 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:58:36035 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:58:36005 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:58:36112 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:36132 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:36175 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 233.2522ms
[30-06-2024 10:58:36250 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 303.6626ms
[30-06-2024 10:58:36138 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:36159 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:36214 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:58:36316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 283.8945ms
[30-06-2024 10:58:36325 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:58:36318 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 313.6746ms
[30-06-2024 10:58:36326 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:36287 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:58:36327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:58:36336 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:36344 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:36348 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:36353 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:36355 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:36357 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:36358 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:36360 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:36362 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:36364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:58:36366 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:58:36369 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:58:36367 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:58:36380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:58:36393 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:58:36408 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:58:36418 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:58:36425 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:58:36428 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:58:36430 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 56.8801ms
[30-06-2024 10:58:36434 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 48.933ms
[30-06-2024 10:58:36434 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:58:36439 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:36441 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:36445 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:58:36447 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:58:36449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 234.4906ms
[30-06-2024 10:58:36451 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 127.1213ms
[30-06-2024 10:58:36460 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:58:36484 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:58:36487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 68.969ms
[30-06-2024 10:58:36489 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:58:36493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 166.4417ms
[30-06-2024 10:58:36507 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 105.9343ms
[30-06-2024 10:58:36510 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:58:36513 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 226.0809ms
[30-06-2024 10:58:43371 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:58:43374 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:58:43458 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:43463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 88.3842ms
[30-06-2024 10:58:43422 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:43371 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:58:43518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 147.7022ms
[30-06-2024 10:58:43472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:58:43375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:58:43547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:58:43936 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:43967 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:43994 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:43998 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:44000 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 629.1749ms
[30-06-2024 10:58:44011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:58:44005 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:44001 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:44002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 627.5864ms
[30-06-2024 10:58:44011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:58:44019 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:44021 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:44022 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:58:44034 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:44035 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:44037 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:58:44038 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:58:44044 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:58:44042 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:44062 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:58:44080 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:44090 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:58:44096 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:58:44100 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:58:44110 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("55"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:58:44115 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 67.2994ms
[30-06-2024 10:58:44126 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:58:44130 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:58:44132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:44138 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:58:44141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:58:44144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 597.6369ms
[30-06-2024 10:58:44158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 104.4585ms
[30-06-2024 10:58:44167 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("55"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:58:44182 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:58:44190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:58:44195 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 723.4134ms
[30-06-2024 10:58:44200 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 89.3593ms
[30-06-2024 10:58:44233 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 151.1228ms
[30-06-2024 10:58:44249 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:44251 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:58:44254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 242.6347ms
[30-06-2024 10:58:44259 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 248.2617ms
[30-06-2024 10:58:55421 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:58:55422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:58:55421 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:58:55421 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:58:55434 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:55458 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:55467 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:55721 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:55725 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 304.23ms
[30-06-2024 10:58:55726 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 304.3167ms
[30-06-2024 10:58:55729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 308.5213ms
[30-06-2024 10:58:55751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 10:58:55829 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:55833 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:55835 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:55731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 309.4102ms
[30-06-2024 10:58:55828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 10:58:55849 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:55851 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:55761 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 10:58:55759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 10:58:55852 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:55838 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:58:55880 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:55894 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 10:58:55912 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 10:58:55918 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:55952 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:58:55920 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 10:58:55956 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:58:55959 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:58:56005 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("88"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 10:58:56011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 10:58:56016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:58:56017 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("63"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 10:58:56026 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 110.5113ms
[30-06-2024 10:58:56035 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:56036 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:58:56037 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 285.4406ms
[30-06-2024 10:58:56039 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 90.4139ms
[30-06-2024 10:58:56050 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("44"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 10:58:56056 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 10:58:56061 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 10:58:56072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 245.0875ms
[30-06-2024 10:58:56130 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 126.9417ms
[30-06-2024 10:58:56132 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("112"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 10:58:56139 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 10:58:56144 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 10:58:56147 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 386.2786ms
[30-06-2024 10:58:56149 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 10:58:56157 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 137.9809ms
[30-06-2024 10:58:56160 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 10:58:56163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 403.49ms
[30-06-2024 11:00:13088 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 11:00:13104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 11:00:13130 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:13108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 11:00:13148 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:13149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 61.1677ms
[30-06-2024 11:00:13168 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 64.4301ms
[30-06-2024 11:00:13161 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:13144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 11:00:13205 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 11:00:13205 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 97.1584ms
[30-06-2024 11:00:13252 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:13228 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:13205 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 11:00:13235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 11:00:13263 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:00:13265 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 120.982ms
[30-06-2024 11:00:13275 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 11:00:13268 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:13273 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:13284 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 11:00:13289 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 11:00:13290 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:00:13913 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:13296 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:00:14051 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 11:00:14006 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 11:00:14022 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:00:14198 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 11:00:14178 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 11:00:14191 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 11:00:14199 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 11:00:14004 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("75"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 11:00:14344 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 11:00:14340 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("101"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 11:00:14347 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 420.7335ms
[30-06-2024 11:00:14348 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("64"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 11:00:14352 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 11:00:14367 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 11:00:14365 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 11:00:14354 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 11:00:14372 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 135.0957ms
[30-06-2024 11:00:14383 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 101.3257ms
[30-06-2024 11:00:14384 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 1177.9421ms
[30-06-2024 11:00:14387 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 11:00:14390 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 11:00:14404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 1169.0792ms
[30-06-2024 11:00:14407 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 1201.6494ms
[30-06-2024 11:00:14416 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("95"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 11:00:14478 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 11:00:14615 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 295.575ms
[30-06-2024 11:00:14618 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 11:00:14620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 1336.3265ms
[30-06-2024 11:00:49966 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 11:00:49982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 11:00:49986 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:49988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 11:00:50172 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:50075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 108.9284ms
[30-06-2024 11:00:50069 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:50285 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 297.1629ms
[30-06-2024 11:00:50358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 11:00:50353 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 370.2657ms
[30-06-2024 11:00:50222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 11:00:50765 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:50720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 11:00:50711 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 11:00:50830 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:50799 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:00:50829 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:50835 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:00:50837 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 11:00:50796 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:50846 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:00:50860 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 11:00:50857 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 11:00:50858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 636.7555ms
[30-06-2024 11:00:50863 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 11:00:50855 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 11:00:50907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 11:00:50949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 11:00:50952 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:00:50957 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:00:50964 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 11:00:50966 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 11:00:51124 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("153"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 11:00:51125 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("226"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 11:00:51154 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("235"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 11:00:51216 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("259"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 11:00:51264 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 11:00:51271 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 11:00:51276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 11:00:51293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 11:00:51295 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 11:00:51309 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 339.3574ms
[30-06-2024 11:00:51301 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 383.6048ms
[30-06-2024 11:00:51328 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 11:00:51316 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 11:00:51297 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 401.8073ms
[30-06-2024 11:00:51333 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 613.1052ms
[30-06-2024 11:00:51335 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 428.1766ms
[30-06-2024 11:00:51366 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 11:00:51388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 1034.0947ms
[30-06-2024 11:00:51502 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 545.9954ms
[30-06-2024 11:00:51537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 11:00:51545 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 833.9994ms
[30-06-2024 11:01:46337 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 11:01:46337 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 11:01:46341 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 11:01:46389 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:01:46367 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 11:01:46457 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 119.8764ms
[30-06-2024 11:01:46452 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:01:46455 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:01:46468 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 11:01:46499 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 161.8607ms
[30-06-2024 11:01:46500 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 159.3468ms
[30-06-2024 11:01:46512 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 11:01:46484 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:01:46565 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 197.6844ms
[30-06-2024 11:01:46561 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:01:46514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 11:01:46515 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:01:46718 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 11:01:46870 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:01:46874 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:01:46876 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:01:46934 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 11:01:46963 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 11:01:46964 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:01:46965 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 11:01:46967 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 11:01:46969 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 11:01:46970 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 11:01:46971 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 11:01:46973 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 11:01:46986 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 11:01:47018 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 11:01:47120 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("98"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 11:01:47122 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("117"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 11:01:47131 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("144"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 11:01:47131 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("64"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 11:01:47135 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 11:01:47140 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 11:01:47148 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 11:01:47154 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 11:01:47157 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 136.3461ms
[30-06-2024 11:01:47168 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 11:01:47176 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 11:01:47162 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 158.9283ms
[30-06-2024 11:01:47179 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 113.0916ms
[30-06-2024 11:01:47181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 666.7811ms
[30-06-2024 11:01:47184 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 11:01:47188 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 11:01:47202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 560.3875ms
[30-06-2024 11:01:47196 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 727.5635ms
[30-06-2024 11:01:47210 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 224.1933ms
[30-06-2024 11:01:47224 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 11:01:47226 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 714.0133ms
[30-06-2024 12:11:45570 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 12:11:46371 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 12:11:46373 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 12:11:46377 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 12:11:46378 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 12:11:46380 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 12:11:48203 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 12:11:48796 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 608.7283ms
[30-06-2024 12:11:48930 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 12:11:48930 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 12:11:48946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 16.2359ms
[30-06-2024 12:11:49067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 137.0864ms
[30-06-2024 12:11:49277 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 12:11:49746 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 469.4105ms
[30-06-2024 12:12:17262 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:12:17273 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:12:17356 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:12:17473 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:12:17471 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:12:17382 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:12:17503 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 240.5939ms
[30-06-2024 12:12:17503 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 229.8474ms
[30-06-2024 12:12:17501 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:12:17528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:12:17547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 191.363ms
[30-06-2024 12:12:17533 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:12:17528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:12:17560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:12:17570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 206.8674ms
[30-06-2024 12:12:17567 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:12:17581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:12:17581 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:12:17585 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:12:17602 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:12:17959 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:12:17959 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:12:18007 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:12:17960 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:12:18004 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:12:17959 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:12:18014 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:12:18090 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:12:18091 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:12:18114 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:12:18151 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:12:18534 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:12:22831 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 12:12:22834 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 12:12:22837 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 12:12:25265 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("220"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 12:12:25265 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("220"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 12:12:25265 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("220"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 12:12:25265 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("220"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 12:12:25328 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 12:12:25346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 12:12:25635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 7474.1948ms
[30-06-2024 12:12:25656 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:12:25676 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 8116.9544ms
[30-06-2024 12:12:25740 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:12:25740 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:12:25740 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:12:25913 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 7383.0005ms
[30-06-2024 12:12:25916 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:12:25918 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 8390.7901ms
[30-06-2024 12:12:25914 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 7412.9211ms
[30-06-2024 12:12:25937 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:12:25960 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 8432.6592ms
[30-06-2024 12:12:26024 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 7483.8901ms
[30-06-2024 12:12:26026 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:12:26027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 8446.2676ms
[30-06-2024 12:14:52084 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:14:52085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:14:52197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:14:52403 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:14:52379 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:14:52385 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:14:52405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 208.2281ms
[30-06-2024 12:14:52268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:14:52450 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 368.2953ms
[30-06-2024 12:14:52453 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 370.8578ms
[30-06-2024 12:14:52478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:14:52448 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:14:52676 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:14:52656 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:14:52474 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:14:52676 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:14:52679 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 422.2245ms
[30-06-2024 12:14:52683 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:14:52690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:14:52692 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:14:52692 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:14:52694 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:14:52696 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:14:52703 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:14:52706 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:14:52707 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:14:52709 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:14:52717 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:14:52714 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:14:52716 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:14:52712 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:14:52719 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:14:53118 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("245"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 12:14:53119 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("248"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 12:14:53120 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("250"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 12:14:53126 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("255"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 12:14:53158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:14:53164 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:14:53169 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:14:53176 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 12:14:53180 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 445.154ms
[30-06-2024 12:14:53202 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:14:53191 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 461.9215ms
[30-06-2024 12:14:53202 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 12:14:53209 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 520.7279ms
[30-06-2024 12:14:53210 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:14:53228 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 502.8283ms
[30-06-2024 12:14:53271 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:14:53267 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 802.7983ms
[30-06-2024 12:14:53257 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 525.512ms
[30-06-2024 12:14:53273 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 794.5303ms
[30-06-2024 12:14:53326 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:14:53339 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 890.9217ms
[30-06-2024 12:15:16582 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:15:16582 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:15:16592 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:15:16608 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:15:16620 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:16637 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:16640 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:16653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 71.4974ms
[30-06-2024 12:15:16657 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 64.606ms
[30-06-2024 12:15:16643 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:16650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 67.4626ms
[30-06-2024 12:15:16674 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:15:16671 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:15:16701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 97.7921ms
[30-06-2024 12:15:16713 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:16671 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:15:16718 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:15:16720 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:16727 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:15:16733 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:16739 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:16741 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:15:16742 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:15:16745 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:15:16751 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:15:16751 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:15:16753 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:15:16759 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:15:16756 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:15:16753 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:15:16794 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:15:16799 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:15:16881 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("100"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 12:15:16911 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("61"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 12:15:16899 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("134"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 12:15:16912 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 12:15:16894 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("72"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 12:15:16927 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 12:15:16945 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:15:16949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:15:17140 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:15:17158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 320.1429ms
[30-06-2024 12:15:17187 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 366.9038ms
[30-06-2024 12:15:17267 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:15:17223 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:15:17172 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 389.8806ms
[30-06-2024 12:15:17296 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 536.746ms
[30-06-2024 12:15:17298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 581.7549ms
[30-06-2024 12:15:17388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 716.2235ms
[30-06-2024 12:15:17389 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:15:17411 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:15:17613 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 942.2322ms
[30-06-2024 12:15:17616 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 942.5176ms
[30-06-2024 12:15:35869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:15:35869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:15:35996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:35870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:15:35998 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 129.0588ms
[30-06-2024 12:15:35989 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:35870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:15:36020 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:15:36126 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:36133 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:15:36022 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:36103 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 233.958ms
[30-06-2024 12:15:37485 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:15:37642 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 1772.6875ms
[30-06-2024 12:15:36423 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:15:36106 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:37667 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:15:37742 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:15:37753 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:37752 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 1882.6793ms
[30-06-2024 12:15:37758 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:15:37762 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:37781 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:15:37796 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:15:37797 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:15:37798 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:15:37812 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:15:37817 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:15:37819 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:15:37822 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:15:37847 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:15:37866 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("84"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 12:15:37867 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:15:37878 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 12:15:37884 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 12:15:37887 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 108.0271ms
[30-06-2024 12:15:37888 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 12:15:37889 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:15:37901 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 12:15:37902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 1882.4167ms
[30-06-2024 12:15:37903 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:15:37916 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:15:37919 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 65.2511ms
[30-06-2024 12:15:37924 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:15:37934 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("50"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 12:15:38008 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 1664.9534ms
[30-06-2024 12:15:38029 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:15:38041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 160.3188ms
[30-06-2024 12:15:38071 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:15:38069 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 187.0863ms
[30-06-2024 12:15:38072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 405.4738ms
[30-06-2024 12:15:38113 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:15:38123 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 365.0986ms
[30-06-2024 12:16:49305 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:16:49388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:16:49477 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:16:49587 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:16:49768 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:16:49742 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:16:49757 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:16:49710 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:16:49786 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 198.7441ms
[30-06-2024 12:16:49787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 398.6282ms
[30-06-2024 12:16:49794 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 318.3827ms
[30-06-2024 12:16:49798 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 492.5396ms
[30-06-2024 12:16:49937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:16:49937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:16:49937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:16:49944 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:16:50235 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:16:50236 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:16:50236 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:16:50236 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:16:50261 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:16:50258 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:16:50266 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:16:50254 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:16:50263 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:16:50260 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:16:50269 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:16:50269 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:16:50282 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:16:50272 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:16:50270 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:16:50292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:16:50401 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("119"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 12:16:50457 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("133"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 12:16:50749 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("456"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 12:16:50764 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("419"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 12:16:51095 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:16:51097 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:16:51100 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 12:16:51108 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:16:51109 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 834.9655ms
[30-06-2024 12:16:51111 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 790.0009ms
[30-06-2024 12:16:51113 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 12:16:51119 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:16:51155 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 864.9948ms
[30-06-2024 12:16:51121 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:16:51170 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 1233.0117ms
[30-06-2024 12:16:51172 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:16:51182 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 1237.7361ms
[30-06-2024 12:16:51218 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 1279.1264ms
[30-06-2024 12:16:51239 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 896.2177ms
[30-06-2024 12:16:51245 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:16:51248 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 1310.916ms
[30-06-2024 12:17:07854 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:17:07856 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:17:07856 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:17:07856 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:17:07983 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:17:07988 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:17:07992 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:17:07998 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:17:08000 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 146.5266ms
[30-06-2024 12:17:08041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:17:08002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 145.7637ms
[30-06-2024 12:17:08015 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 155.7997ms
[30-06-2024 12:17:08011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 154.7293ms
[30-06-2024 12:17:08014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:17:08060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:17:08032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:17:08088 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:17:08177 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:17:08266 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:17:08270 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:17:08271 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:17:08275 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:17:08281 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:17:08293 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:17:08294 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:17:08300 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:17:08304 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:17:08305 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:17:08307 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:17:08316 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:17:08318 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:17:08319 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:17:08446 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("96"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 12:17:08620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("280"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 12:17:08624 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("297"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 12:17:08624 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("290"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 12:17:08667 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 12:17:08687 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:17:08684 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:17:08678 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:17:08688 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 12:17:08696 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 348.6508ms
[30-06-2024 12:17:08699 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:17:08689 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 364.0532ms
[30-06-2024 12:17:08691 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 368.7544ms
[30-06-2024 12:17:08734 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:17:08736 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 694.6953ms
[30-06-2024 12:17:08731 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:17:08715 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 684.574ms
[30-06-2024 12:17:08745 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 731.2744ms
[30-06-2024 12:17:08965 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 628.9677ms
[30-06-2024 12:17:08989 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:17:08991 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 931.7762ms
[30-06-2024 12:18:35010 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:18:35040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:18:35082 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:18:35081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:18:35104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 91.9012ms
[30-06-2024 12:18:35160 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:18:35100 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:18:35115 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:18:35193 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 111.6598ms
[30-06-2024 12:18:35222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:18:35195 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 155.037ms
[30-06-2024 12:18:35223 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:18:35223 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:18:35270 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:18:35287 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 172.3313ms
[30-06-2024 12:18:35228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:18:35306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:18:35311 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:18:35314 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:18:35325 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:18:35330 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:18:35332 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:18:35359 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:18:35353 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:18:35356 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:18:35335 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:18:35363 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:18:35364 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:18:35408 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:18:35520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:18:35532 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:18:35527 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:18:35593 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 12:18:35594 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("53"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 12:18:35668 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("140"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 12:18:35679 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:18:35689 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:18:35708 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 12:18:35713 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 159.617ms
[30-06-2024 12:18:35719 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 180.6673ms
[30-06-2024 12:18:35720 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 12:18:35728 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:18:35805 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:18:35807 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 281.5448ms
[30-06-2024 12:18:35814 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2262 "application/json; charset=utf-8" 585.2351ms
[30-06-2024 12:18:35815 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 593.3794ms
[30-06-2024 12:18:35821 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:18:35874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 651.6793ms
[30-06-2024 12:18:35973 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("424"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 12:18:35983 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:18:36135 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 587.9715ms
[30-06-2024 12:18:36152 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:18:36155 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 31590 "application/json; charset=utf-8" 848.9403ms
[30-06-2024 12:18:59910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[30-06-2024 12:18:59925 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:18:59927 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 17.1121ms
[30-06-2024 12:18:59937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 2
[30-06-2024 12:18:59943 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:18:59948 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:18:59949 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 12:19:00014 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:19:00241 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SELLING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 12:19:00270 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME]
FROM [APPROVAL_SELLING] AS [a]
WHERE [a].[BOOK_FOR_SELLING_ID] = @__bookForSaleId_0"
[30-06-2024 12:19:00765 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("73"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SELLING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [SELLINGS] ([BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[30-06-2024 12:19:00848 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.String"'.
[30-06-2024 12:19:00851 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 832.3037ms
[30-06-2024 12:19:00853 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 12:19:00855 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 200 null "text/plain; charset=utf-8" 917.4872ms
[30-06-2024 12:26:28037 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 12:26:28807 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 12:26:28812 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 12:26:28840 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 12:26:28842 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 12:26:28844 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 12:26:30491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 12:26:31198 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 722.6666ms
[30-06-2024 12:26:31433 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 12:26:31433 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 12:26:31505 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 72.4298ms
[30-06-2024 12:26:31736 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 302.8966ms
[30-06-2024 12:26:31895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 12:26:32392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 496.6259ms
[30-06-2024 12:27:40204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 12:27:40242 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:27:40245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 48.8588ms
[30-06-2024 12:27:40270 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 12:27:40283 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:27:40579 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:27:40584 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 12:27:40631 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 12:27:42451 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 12:27:42454 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 12:27:42455 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 12:27:44118 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("92"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 12:27:44464 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:27:44720 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 4080.9957ms
[30-06-2024 12:27:44724 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 12:27:44739 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20965 "application/json; charset=utf-8" 4469.7858ms
[30-06-2024 12:27:49179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:27:49180 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:27:49187 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:27:49206 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:27:49209 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 22.9154ms
[30-06-2024 12:27:49179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:27:49200 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:27:49190 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:27:49225 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:27:49228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 48.0025ms
[30-06-2024 12:27:49245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:27:49231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 51.8821ms
[30-06-2024 12:27:49228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:27:49245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:27:49232 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 52.7567ms
[30-06-2024 12:27:49268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:27:49277 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:27:49289 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:27:49290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:27:49298 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:27:49316 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:27:49316 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:27:49316 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:27:49316 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:27:49317 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:27:49322 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:27:49324 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:27:49325 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:27:49337 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:27:49337 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:27:49337 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:27:49339 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:27:49593 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("69"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 12:27:49593 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("69"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 12:27:49594 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("68"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 12:27:49595 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("73"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 12:27:49610 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 12:27:49614 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 12:27:49619 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 260.7669ms
[30-06-2024 12:27:49623 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:27:49627 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 404.8694ms
[30-06-2024 12:27:49645 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:27:49645 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:27:49657 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:27:49687 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 345.8841ms
[30-06-2024 12:27:49693 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:27:49688 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 340.5325ms
[30-06-2024 12:27:49696 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 427.8633ms
[30-06-2024 12:27:49698 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 355.2059ms
[30-06-2024 12:27:49705 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:27:49713 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:27:49717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3099 "application/json; charset=utf-8" 471.9483ms
[30-06-2024 12:27:49722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 11639 "application/json; charset=utf-8" 477.6486ms
[30-06-2024 12:28:01650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 12:28:01663 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:01665 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 15.4482ms
[30-06-2024 12:28:01680 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 12:28:01689 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:01694 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:28:01696 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 12:28:01698 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 12:28:01779 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 12:28:01795 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:28:01806 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 100.0237ms
[30-06-2024 12:28:01810 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 12:28:01814 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20965 "application/json; charset=utf-8" 134.8423ms
[30-06-2024 12:28:15613 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:28:15613 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:28:15614 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:28:15644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:28:15659 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:15664 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:15670 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:15675 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:15676 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 62.4187ms
[30-06-2024 12:28:15703 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 12:28:15677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 64.0787ms
[30-06-2024 12:28:15698 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 12:28:15683 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 72.4373ms
[30-06-2024 12:28:15689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 12:28:15685 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 40.6751ms
[30-06-2024 12:28:15701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 12:28:15718 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:15725 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:15736 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:15745 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:15751 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:28:15751 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:28:15751 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:28:15752 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:28:15753 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:28:15754 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:28:15755 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:28:15756 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:28:15758 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:28:15759 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:28:15761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:28:15765 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 12:28:15819 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 12:28:15825 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:28:15826 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("40"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 12:28:15832 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 44.8105ms
[30-06-2024 12:28:15832 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 12:28:15836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:28:15837 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 12:28:15839 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 12:28:15845 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:28:15850 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 80.5819ms
[30-06-2024 12:28:15852 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 12:28:15855 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3099 "application/json; charset=utf-8" 157.1492ms
[30-06-2024 12:28:15864 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 62.6731ms
[30-06-2024 12:28:15870 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 12:28:15872 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 12:28:15882 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 12:28:15885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 11639 "application/json; charset=utf-8" 198.8473ms
[30-06-2024 12:28:15888 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 94.9927ms
[30-06-2024 12:28:15893 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 191.6626ms
[30-06-2024 12:28:15945 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 12:28:15955 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 253.2358ms
[30-06-2024 12:28:20272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - null null
[30-06-2024 12:28:20276 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:20281 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - 204 null null 8.8055ms
[30-06-2024 12:28:20286 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - "application/json" 2
[30-06-2024 12:28:20291 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:20293 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:28:20295 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RejectSale (BooksApiApp)"'
[30-06-2024 12:28:20313 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RejectSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RejectSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 12:28:20410 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SELLING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 12:28:20427 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME]
FROM [APPROVAL_SELLING] AS [a]
WHERE [a].[BOOK_FOR_SELLING_ID] = @__bookForSaleId_0"
[30-06-2024 12:28:20640 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SELLING]
OUTPUT 1
WHERE [ID] = @p0;
UPDATE [BOOK_FOR_SELLING] SET [IS_AVAILABLE] = @p1
OUTPUT 1
WHERE [ID] = @p2;"
[30-06-2024 12:28:20682 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 12:28:20692 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RejectSale (BooksApiApp)" in 376.1252ms
[30-06-2024 12:28:20694 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RejectSale (BooksApiApp)"'
[30-06-2024 12:28:20696 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - 200 34 "application/json; charset=utf-8" 409.4457ms
[30-06-2024 12:28:29324 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 12:28:29331 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:29338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 13.182ms
[30-06-2024 12:28:29356 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 12:28:29372 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:28:29374 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:28:29375 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 12:28:29377 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 12:28:29412 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 12:28:29427 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:28:29440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 59.9819ms
[30-06-2024 12:28:29443 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 12:28:29446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 21547 "application/json; charset=utf-8" 89.5779ms
[30-06-2024 12:29:16652 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 12:29:16734 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:29:16736 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 84.1064ms
[30-06-2024 12:29:16800 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 12:29:16816 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:29:16818 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:29:16820 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 12:29:16843 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 12:29:16884 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 12:29:16895 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:29:16913 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 62.8762ms
[30-06-2024 12:29:16914 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 12:29:16916 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 21547 "application/json; charset=utf-8" 118.0043ms
[30-06-2024 12:30:05690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 12:30:05693 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:30:05703 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 8.3696ms
[30-06-2024 12:30:05763 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 12:30:05792 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 12:30:05811 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 12:30:05819 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 12:30:05820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 12:30:05866 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 12:30:05975 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 12:30:06102 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 280.4251ms
[30-06-2024 12:30:06115 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 12:30:06120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 21547 "application/json; charset=utf-8" 379.1516ms
[30-06-2024 13:31:41900 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 13:31:42771 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 13:31:42775 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 13:31:42780 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 13:31:42781 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 13:31:42783 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 13:31:45117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 13:31:46623 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1561.6933ms
[30-06-2024 13:31:46910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 13:31:46910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 13:31:47048 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 138.3933ms
[30-06-2024 13:31:47379 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 469.8082ms
[30-06-2024 13:31:47567 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 13:31:48246 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 680.0534ms
[30-06-2024 13:44:07044 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 13:44:07906 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 13:44:07909 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 13:44:07916 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 13:44:07919 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 13:44:07922 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 13:44:10906 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 13:44:11849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 959.555ms
[30-06-2024 13:44:12359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 13:44:12359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 13:44:12397 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 38.7825ms
[30-06-2024 13:44:14799 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 2440.8537ms
[30-06-2024 13:44:15011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 13:44:15531 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 520.3657ms
[30-06-2024 13:54:43204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 13:54:43380 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 13:54:43389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 229.1858ms
[30-06-2024 13:54:43405 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 13:54:43446 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 13:54:44140 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 13:54:44176 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 13:54:44368 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 13:54:48639 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 13:54:48649 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 13:54:48653 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 13:54:48656 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 13:54:51747 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("270"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 13:54:52334 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 13:54:52756 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 8366.207ms
[30-06-2024 13:54:52761 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 13:54:52789 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 21547 "application/json; charset=utf-8" 9385.4444ms
[30-06-2024 14:06:03662 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:06:03663 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:06:03667 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:06:03667 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:06:03668 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:06:03772 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:03772 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:03773 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:03773 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:03772 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:03779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 156.3108ms
[30-06-2024 14:06:03779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 186.5498ms
[30-06-2024 14:06:03779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 156.3244ms
[30-06-2024 14:06:03780 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 158.4843ms
[30-06-2024 14:06:03779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 186.0988ms
[30-06-2024 14:06:03807 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:06:03797 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:06:03800 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:06:03796 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:06:03797 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:06:03848 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:03848 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:03849 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:03849 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:03851 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:03933 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:06:03933 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:06:03933 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:06:03933 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:06:03933 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:06:03935 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:06:03935 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:06:03937 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:06:03938 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:06:03939 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:06:03997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:06:03997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 14:06:03997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:06:03997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:06:03997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:06:04860 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("462"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[Author], [b].[BookCategory], [b].[BookId], [b].[BuyerId], [b].[ConditionOfBook], [b].[Description], [b].[PaymentMethod], [b].[Price], [b].[SellerId], [b].[Title], [b].[TypeOfTransaction]
FROM [BooksReadyForTrading] AS [b]
WHERE [b].[BuyerId] = @__userId_0"
[30-06-2024 14:06:04903 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("531"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 14:06:04903 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("531"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 14:06:04903 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("531"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 14:06:04903 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("522"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 14:06:04910 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 14:06:04929 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 14:06:04942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 931.983ms
[30-06-2024 14:06:04945 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:06:04948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 1140.1623ms
[30-06-2024 14:06:04994 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:06:05001 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:06:05001 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:06:05022 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4acfe899-de40-49fa-8cb4-1ee693dc1fd4
Error Number:208,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4acfe899-de40-49fa-8cb4-1ee693dc1fd4
Error Number:208,State:1,Class:16
[30-06-2024 14:06:05300 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 1298.8068ms
[30-06-2024 14:06:05302 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 1288.8833ms
[30-06-2024 14:06:05301 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 1294.212ms
[30-06-2024 14:06:05495 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:06:05496 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:06:05496 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:06:05499 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 1701.4028ms
[30-06-2024 14:06:05501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2626 "application/json; charset=utf-8" 1703.9231ms
[30-06-2024 14:06:05510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3099 "application/json; charset=utf-8" 1712.792ms
[30-06-2024 14:06:05609 +03:00 BooksApiApp.Services.UserService ] "Invalid object name 'BooksReadyForTrading'.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25"
[30-06-2024 14:06:06172 +03:00 BooksApiApp.Controllers.BookReadyForTradingController ] An error occurred while retrieving books ready for trading.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25
   at BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\BookReadyForTradingController.cs:line 39
ClientConnectionId:4acfe899-de40-49fa-8cb4-1ee693dc1fd4
Error Number:208,State:1,Class:16
[30-06-2024 14:06:06279 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 2276.1113ms
[30-06-2024 14:06:06287 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:06:06605 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 500 null "application/json" 2809.736ms
[30-06-2024 14:06:15938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[30-06-2024 14:06:15943 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:15944 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 6.396ms
[30-06-2024 14:06:15950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 2
[30-06-2024 14:06:15954 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:06:15965 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:06:15966 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 14:06:15994 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:06:16171 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SELLING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 14:06:16194 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME]
FROM [APPROVAL_SELLING] AS [a]
WHERE [a].[BOOK_FOR_SELLING_ID] = @__bookForSaleId_0"
[30-06-2024 14:25:46559 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 14:25:47176 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 14:25:47180 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 14:25:47185 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 14:25:47186 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 14:25:47188 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 14:25:48785 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 14:25:49322 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 14:25:49328 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 553.6264ms
[30-06-2024 14:25:49342 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 20.3966ms
[30-06-2024 14:25:49757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 14:25:49865 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 108.0215ms
[30-06-2024 14:25:50046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 14:25:50435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 389.9035ms
[30-06-2024 14:26:03094 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:26:03108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:26:03115 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:26:03094 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:26:03104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:26:03141 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:26:03141 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:26:03141 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:26:03144 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:26:03151 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:26:03154 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 38.7133ms
[30-06-2024 14:26:03165 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 61.8773ms
[30-06-2024 14:26:03166 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 71.516ms
[30-06-2024 14:26:03169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 80.7197ms
[30-06-2024 14:26:03171 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 74.515ms
[30-06-2024 14:26:03276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:26:03276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:26:03276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:26:03277 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:26:03277 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:26:03290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:26:03290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:26:03295 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:26:03299 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:26:03304 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:26:03591 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:26:03591 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:26:03591 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:26:03591 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:26:03591 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:26:03598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:26:03598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:26:03598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:26:03598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:26:03598 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:26:03649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:26:03649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 14:26:03649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:26:03649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:26:03649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:26:05525 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:26:05530 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:26:05533 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:26:05542 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:26:07793 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("198"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 14:26:07793 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("190"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[Author], [b].[BookCategory], [b].[BookId], [b].[BuyerId], [b].[ConditionOfBook], [b].[Description], [b].[PaymentMethod], [b].[Price], [b].[SellerId], [b].[Title], [b].[TypeOfTransaction]
FROM [BooksReadyForTrading] AS [b]
WHERE [b].[BuyerId] = @__userId_0"
[30-06-2024 14:26:07794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("198"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 14:26:07794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("198"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 14:26:07794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("198"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 14:26:07850 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 14:26:07872 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 14:26:07880 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c967496e-ea57-4ba6-8bbc-7aca791feb7a
Error Number:208,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c967496e-ea57-4ba6-8bbc-7aca791feb7a
Error Number:208,State:1,Class:16
[30-06-2024 14:26:08293 +03:00 BooksApiApp.Services.UserService ] "Invalid object name 'BooksReadyForTrading'.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25"
[30-06-2024 14:26:08485 +03:00 BooksApiApp.Controllers.BookReadyForTradingController ] An error occurred while retrieving books ready for trading.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25
   at BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\BookReadyForTradingController.cs:line 39
ClientConnectionId:c967496e-ea57-4ba6-8bbc-7aca791feb7a
Error Number:208,State:1,Class:16
[30-06-2024 14:26:08747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 5077.1883ms
[30-06-2024 14:26:08747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 5083.729ms
[30-06-2024 14:26:08761 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:26:08764 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:26:09085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 5808.9472ms
[30-06-2024 14:26:09085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 500 null "application/json" 5807.5087ms
[30-06-2024 14:26:09086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:26:09086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:26:09086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:26:09250 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 5596.8468ms
[30-06-2024 14:26:09253 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:26:09250 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 5592.6001ms
[30-06-2024 14:26:09250 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 5588.332ms
[30-06-2024 14:26:09259 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2626 "application/json; charset=utf-8" 5982.7179ms
[30-06-2024 14:26:09263 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:26:09268 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:26:09282 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3099 "application/json; charset=utf-8" 6005.9108ms
[30-06-2024 14:26:09302 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 6025.7207ms
[30-06-2024 14:27:22848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:27:22848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:27:22873 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:27:22848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:27:22974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:27:23050 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:23052 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:23081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 236.9094ms
[30-06-2024 14:27:23098 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 239.7883ms
[30-06-2024 14:27:23066 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:23072 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:23078 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:23102 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:27:23142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:27:23142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:27:23128 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 255.2814ms
[30-06-2024 14:27:23130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 281.5813ms
[30-06-2024 14:27:23131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 157.0413ms
[30-06-2024 14:27:23102 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:27:23143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:27:23145 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:23150 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:23156 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:23177 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:23182 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:23195 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:27:23195 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:27:23195 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:27:23198 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:27:23199 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:27:23200 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:27:23207 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:27:23208 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:27:23211 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:27:23212 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:27:23216 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:27:23218 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:27:23220 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:27:23223 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:27:23225 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 14:27:23399 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("25"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[Author], [b].[BookCategory], [b].[BookId], [b].[BuyerId], [b].[ConditionOfBook], [b].[Description], [b].[PaymentMethod], [b].[Price], [b].[SellerId], [b].[Title], [b].[TypeOfTransaction]
FROM [BooksReadyForTrading] AS [b]
WHERE [b].[BuyerId] = @__userId_0"
[30-06-2024 14:27:23409 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:9cc095f8-db29-4fc8-9800-9398949bdc17
Error Number:208,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:9cc095f8-db29-4fc8-9800-9398949bdc17
Error Number:208,State:1,Class:16
[30-06-2024 14:27:23419 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("45"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 14:27:23518 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("95"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 14:27:23424 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("47"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 14:27:23469 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("95"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 14:27:23600 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:27:23601 +03:00 BooksApiApp.Services.UserService ] "Invalid object name 'BooksReadyForTrading'.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25"
[30-06-2024 14:27:23605 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:27:23610 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 14:27:23617 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 388.3212ms
[30-06-2024 14:27:23616 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:27:23810 +03:00 BooksApiApp.Controllers.BookReadyForTradingController ] An error occurred while retrieving books ready for trading.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25
   at BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\BookReadyForTradingController.cs:line 39
ClientConnectionId:9cc095f8-db29-4fc8-9800-9398949bdc17
Error Number:208,State:1,Class:16
[30-06-2024 14:27:23811 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 570.0314ms
[30-06-2024 14:27:23816 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 14:27:23924 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:27:23826 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:27:23830 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 597.7925ms
[30-06-2024 14:27:23926 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 682.2112ms
[30-06-2024 14:27:23928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 692.1664ms
[30-06-2024 14:27:23932 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2626 "application/json; charset=utf-8" 829.5479ms
[30-06-2024 14:27:23940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 837.7238ms
[30-06-2024 14:27:23942 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:27:23945 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:27:23948 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:27:23967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3099 "application/json; charset=utf-8" 825.6172ms
[30-06-2024 14:27:24112 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 500 null "application/json" 968.9335ms
[30-06-2024 14:27:24112 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 970.4636ms
[30-06-2024 14:27:38890 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[30-06-2024 14:27:38893 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:38895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 5.5739ms
[30-06-2024 14:27:38900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 2
[30-06-2024 14:27:38905 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:27:38907 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:27:38909 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 14:27:38928 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:27:39034 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SELLING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 14:27:39054 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME]
FROM [APPROVAL_SELLING] AS [a]
WHERE [a].[BOOK_FOR_SELLING_ID] = @__bookForSaleId_0"
[30-06-2024 14:38:46353 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 14:38:46922 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 14:38:46924 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 14:38:46928 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 14:38:46931 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 14:38:46932 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 14:38:47669 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 14:38:48226 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 565.4618ms
[30-06-2024 14:38:48317 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 14:38:48317 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 14:38:48341 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 25.1618ms
[30-06-2024 14:38:48404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 88.7424ms
[30-06-2024 14:38:48569 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 14:38:48942 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 373.5432ms
[30-06-2024 14:38:54689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:38:54693 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:38:54690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:38:54689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:38:54690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:38:54739 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:38:54739 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:38:54739 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:38:54740 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:38:54754 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:38:54755 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 65.878ms
[30-06-2024 14:38:54756 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 66.5915ms
[30-06-2024 14:38:54759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 67.8459ms
[30-06-2024 14:38:54760 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 70.8599ms
[30-06-2024 14:38:54761 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 72.3343ms
[30-06-2024 14:38:54838 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:38:54839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:38:54839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:38:54839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:38:54839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:38:54845 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:38:54846 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:38:54852 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:38:54853 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:38:54857 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:38:55190 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:38:55190 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:38:55190 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:38:55190 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:38:55190 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:38:55195 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:38:55200 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:38:55201 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:38:55212 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:38:55222 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:38:55278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:38:55278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:38:55278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:38:55278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:38:55278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 14:38:56931 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:38:56933 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:38:56935 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:38:56937 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:38:58513 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("120"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 14:38:58513 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("120"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 14:38:58513 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("116"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[Author], [b].[BookCategory], [b].[BookId], [b].[BuyerId], [b].[ConditionOfBook], [b].[Description], [b].[PaymentMethod], [b].[Price], [b].[SellerId], [b].[Title], [b].[TypeOfTransaction]
FROM [BooksReadyForTrading] AS [b]
WHERE [b].[BuyerId] = @__userId_0"
[30-06-2024 14:38:58513 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("120"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 14:38:58513 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("120"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 14:38:58551 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 14:38:58572 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 14:38:58580 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a60654ae-5fe2-43f8-bf9a-3578a9af2ee5
Error Number:208,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a60654ae-5fe2-43f8-bf9a-3578a9af2ee5
Error Number:208,State:1,Class:16
[30-06-2024 14:38:58831 +03:00 BooksApiApp.Services.UserService ] "Invalid object name 'BooksReadyForTrading'.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25"
[30-06-2024 14:38:58955 +03:00 BooksApiApp.Controllers.BookReadyForTradingController ] An error occurred while retrieving books ready for trading.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25
   at BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\BookReadyForTradingController.cs:line 39
ClientConnectionId:a60654ae-5fe2-43f8-bf9a-3578a9af2ee5
Error Number:208,State:1,Class:16
[30-06-2024 14:38:59038 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 3739.7373ms
[30-06-2024 14:38:59043 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:38:59219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 500 null "application/json" 4380.7701ms
[30-06-2024 14:38:59230 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 3939.8849ms
[30-06-2024 14:38:59232 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:38:59235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 4397.265ms
[30-06-2024 14:38:59307 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:38:59308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:38:59308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:38:59406 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 4121.5734ms
[30-06-2024 14:38:59406 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 4118.4438ms
[30-06-2024 14:38:59406 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 4124.7475ms
[30-06-2024 14:38:59408 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:38:59411 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:38:59412 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:38:59414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2626 "application/json; charset=utf-8" 4574.9388ms
[30-06-2024 14:38:59416 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 4576.6028ms
[30-06-2024 14:38:59418 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3099 "application/json; charset=utf-8" 4578.8388ms
[30-06-2024 14:39:11624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[30-06-2024 14:39:11629 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:39:11631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 7.3844ms
[30-06-2024 14:39:11638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 2
[30-06-2024 14:39:11642 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:39:11648 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:39:11650 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 14:39:11668 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:39:11891 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 14:39:11927 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SELLING_ID] = @__bookForSaleId_0"
[30-06-2024 14:39:12343 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (DbType = Int32), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SELLING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BooksReadyForTrading] ([Author], [BookCategory], [BookId], [BuyerId], [ConditionOfBook], [Description], [PaymentMethod], [Price], [SellerId], [Title], [TypeOfTransaction])
OUTPUT INSERTED.[Id]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[30-06-2024 14:39:12389 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3d5bba1d-83c4-49b9-a443-9291b3c1f849
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3d5bba1d-83c4-49b9-a443-9291b3c1f849
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[30-06-2024 14:39:12575 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 138"
[30-06-2024 14:39:12706 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while approving the sale.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3d5bba1d-83c4-49b9-a443-9291b3c1f849
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 138
   at BooksApiApp.Controllers.ApprovalSaleController.ApproveSale(Int32 bookId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 151
[30-06-2024 14:39:12720 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[30-06-2024 14:39:12722 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 1051.6854ms
[30-06-2024 14:39:12724 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 14:39:12727 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 500 null "text/plain; charset=utf-8" 1089.2224ms
[30-06-2024 14:43:05117 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - null null
[30-06-2024 14:43:05326 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:05337 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - 204 null null 281.2353ms
[30-06-2024 14:43:05352 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - "application/json" 2
[30-06-2024 14:43:05363 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:05390 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:43:05395 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RejectSale (BooksApiApp)"'
[30-06-2024 14:43:05487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RejectSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RejectSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:43:05683 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("74"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 14:43:05721 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SELLING_ID] = @__bookForSaleId_0"
[30-06-2024 14:43:05830 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SELLING]
OUTPUT 1
WHERE [ID] = @p0;
UPDATE [BOOK_FOR_SELLING] SET [IS_AVAILABLE] = @p1
OUTPUT 1
WHERE [ID] = @p2;"
[30-06-2024 14:43:05909 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 14:43:05961 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RejectSale (BooksApiApp)" in 471.2652ms
[30-06-2024 14:43:05964 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RejectSale (BooksApiApp)"'
[30-06-2024 14:43:05968 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - 200 34 "application/json; charset=utf-8" 615.7453ms
[30-06-2024 14:43:17046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:43:17053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:43:17046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:43:17086 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:43:17178 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:43:17304 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:17305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:17313 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:17325 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 269.3892ms
[30-06-2024 14:43:17338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 292.8096ms
[30-06-2024 14:43:17318 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:17325 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 277.5644ms
[30-06-2024 14:43:17360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 307.0408ms
[30-06-2024 14:43:17320 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:17343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:43:17351 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:43:17350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:43:17370 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:43:17383 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 205.6009ms
[30-06-2024 14:43:17401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:43:17429 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:17430 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:17430 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:17432 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:17430 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:43:17443 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:43:17444 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:43:17444 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:43:17450 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:43:17450 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:43:17450 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:43:17451 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:43:17452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:43:17452 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:43:17453 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:43:17453 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:43:17455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:43:17459 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:43:17464 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 14:43:17460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:43:17622 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("125"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 14:43:17628 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 14:43:17689 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 14:43:17702 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("108"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[Author], [b].[BookCategory], [b].[BookId], [b].[BuyerId], [b].[ConditionOfBook], [b].[Description], [b].[PaymentMethod], [b].[Price], [b].[SellerId], [b].[Title], [b].[TypeOfTransaction]
FROM [BooksReadyForTrading] AS [b]
WHERE [b].[BuyerId] = @__userId_0"
[30-06-2024 14:43:17702 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 14:43:17786 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3d5bba1d-83c4-49b9-a443-9291b3c1f849
Error Number:208,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3d5bba1d-83c4-49b9-a443-9291b3c1f849
Error Number:208,State:1,Class:16
[30-06-2024 14:43:17790 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 333.6232ms
[30-06-2024 14:43:17824 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:43:18018 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:43:17911 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("348"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 14:43:17918 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("417"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 14:43:18042 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 699.2361ms
[30-06-2024 14:43:18063 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:43:18072 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 14:43:18086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 14:43:18568 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 1091.7558ms
[30-06-2024 14:43:18576 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:43:18581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 1181.0078ms
[30-06-2024 14:43:18920 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 1389.5631ms
[30-06-2024 14:43:18929 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 1425.684ms
[30-06-2024 14:43:18932 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:43:19012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:43:19017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 853 "application/json; charset=utf-8" 1665.5431ms
[30-06-2024 14:43:19019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3099 "application/json; charset=utf-8" 1668.3385ms
[30-06-2024 14:43:19024 +03:00 BooksApiApp.Services.UserService ] "Invalid object name 'BooksReadyForTrading'.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25"
[30-06-2024 14:43:19235 +03:00 BooksApiApp.Controllers.BookReadyForTradingController ] An error occurred while retrieving books ready for trading.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25
   at BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\BookReadyForTradingController.cs:line 39
ClientConnectionId:3d5bba1d-83c4-49b9-a443-9291b3c1f849
Error Number:208,State:1,Class:16
[30-06-2024 14:43:19398 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 1877.9767ms
[30-06-2024 14:43:19416 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:43:19589 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 500 null "application/json" 2220.2859ms
[30-06-2024 14:49:26701 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 14:49:27945 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 14:49:27949 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 14:49:27969 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 14:49:27973 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 14:49:27976 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 14:49:29232 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 14:49:30396 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1206.5447ms
[30-06-2024 14:49:31163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 14:49:31163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 14:49:31202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 39.5016ms
[30-06-2024 14:49:31362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 200.1314ms
[30-06-2024 14:49:31608 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 14:49:32281 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 673.9748ms
[30-06-2024 14:51:33259 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 14:51:33290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:33296 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 37.1966ms
[30-06-2024 14:51:33314 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 60
[30-06-2024 14:51:33335 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:33479 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:51:33487 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 14:51:33551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 14:51:35672 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:51:35675 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:51:35678 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:51:35681 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 14:51:37521 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("135"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 14:51:39469 +03:00 BooksApiApp.Services.UserService ] {Message}User: "tdhfdf" found and returned
[30-06-2024 14:51:39556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 14:51:39634 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 6069.1263ms
[30-06-2024 14:51:39641 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 14:51:39674 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 580 "application/json; charset=utf-8" 6360.9816ms
[30-06-2024 14:51:39726 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:51:39741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:51:39748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:51:39754 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:39756 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:51:39765 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 24.4774ms
[30-06-2024 14:51:39743 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:39763 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:39789 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:51:39827 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:39832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 106.2996ms
[30-06-2024 14:51:39833 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 84.9107ms
[30-06-2024 14:51:39843 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 88.08ms
[30-06-2024 14:51:39842 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:39817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 14:51:39840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 14:51:39859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 82.1977ms
[30-06-2024 14:51:39863 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:39841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 14:51:39850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 14:51:39866 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 14:51:39867 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:39877 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:39881 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:39884 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 14:51:39991 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:51:39991 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:51:39991 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:51:39991 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:51:39991 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:51:39993 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:51:39998 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:51:40000 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:51:40001 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:51:40003 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:51:40016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:51:40016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 14:51:40016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:51:40019 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:51:40023 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 14:51:40217 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("43"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[Id], [b].[Author], [b].[BookCategory], [b].[BookId], [b].[BuyerId], [b].[ConditionOfBook], [b].[Description], [b].[PaymentMethod], [b].[Price], [b].[SellerId], [b].[Title], [b].[TypeOfTransaction]
FROM [BooksReadyForTrading] AS [b]
WHERE [b].[BuyerId] = @__userId_0"
[30-06-2024 14:51:40255 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:21531200-e775-4b23-b70b-069b111998b6
Error Number:208,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:21531200-e775-4b23-b70b-069b111998b6
Error Number:208,State:1,Class:16
[30-06-2024 14:51:40549 +03:00 BooksApiApp.Services.UserService ] "Invalid object name 'BooksReadyForTrading'.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25"
[30-06-2024 14:51:40683 +03:00 BooksApiApp.Controllers.BookReadyForTradingController ] An error occurred while retrieving books ready for trading.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.BookReadyForTradingRepository.GetBooksReadyForTradingByUserAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\BookReadyForTradingRepository.cs:line 14
   at BooksApiApp.Services.BookReadyForTradingService.GetBooksReadyForTradingAsync(Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 25
   at BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\BookReadyForTradingController.cs:line 39
ClientConnectionId:21531200-e775-4b23-b70b-069b111998b6
Error Number:208,State:1,Class:16
[30-06-2024 14:51:40799 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 773.6514ms
[30-06-2024 14:51:40807 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 14:51:40973 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("161"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 14:51:40973 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("187"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SELLINGS] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 14:51:41028 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 500 null "application/json" 1161.8683ms
[30-06-2024 14:51:41182 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 14:51:41193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:51:41193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:51:41197 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 24
[30-06-2024 14:51:41200 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("91"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 14:51:41204 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 14:51:41213 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 1175.752ms
[30-06-2024 14:51:41254 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 14:51:41267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 1218.5484ms
[30-06-2024 14:51:41267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 1247.6585ms
[30-06-2024 14:51:41272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 1422.7628ms
[30-06-2024 14:51:41275 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 14:51:41281 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 14:51:41297 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 14:51:41299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 880 "application/json; charset=utf-8" 1482.1221ms
[30-06-2024 14:51:41301 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 920 "application/json; charset=utf-8" 1462.0724ms
[30-06-2024 14:51:41322 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 1278.2284ms
[30-06-2024 14:51:41333 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 14:51:41347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2673 "application/json; charset=utf-8" 1506.7165ms
[30-06-2024 14:54:21627 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json-patch+json" 1
[30-06-2024 14:54:21637 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[30-06-2024 14:54:21640 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[30-06-2024 14:54:21649 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 14:54:21652 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 14:54:21673 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 14:54:21781 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 14:54:21810 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SELLING_ID] = @__bookForSaleId_0"
[30-06-2024 14:54:22251 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (DbType = Int32), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SELLING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BooksReadyForTrading] ([Author], [BookCategory], [BookId], [BuyerId], [ConditionOfBook], [Description], [PaymentMethod], [Price], [SellerId], [Title], [TypeOfTransaction])
OUTPUT INSERTED.[Id]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[30-06-2024 14:54:22303 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff94c4cd-80e9-4222-bac9-61a9a36094fd
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff94c4cd-80e9-4222-bac9-61a9a36094fd
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[30-06-2024 14:54:22563 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 138"
[30-06-2024 14:54:22788 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while approving the sale.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff94c4cd-80e9-4222-bac9-61a9a36094fd
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 138
   at BooksApiApp.Controllers.ApprovalSaleController.ApproveSale(Int32 bookId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 151
[30-06-2024 14:54:22823 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[30-06-2024 14:54:22828 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 1151.2808ms
[30-06-2024 14:54:22837 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 14:54:22840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 500 null "text/plain; charset=utf-8" 1216.4347ms
[30-06-2024 14:59:49316 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 14:59:49949 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 14:59:49961 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 14:59:49966 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 14:59:49968 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 14:59:49970 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 14:59:51884 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 14:59:52496 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 625.2794ms
[30-06-2024 14:59:52607 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 14:59:52607 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 14:59:52622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 14.9053ms
[30-06-2024 14:59:52722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 115.707ms
[30-06-2024 14:59:52889 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 14:59:53404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 515.6843ms
[30-06-2024 15:00:05522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json-patch+json" 1
[30-06-2024 15:00:05548 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[30-06-2024 15:00:05550 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[30-06-2024 15:00:05823 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 15:00:05831 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 15:00:05892 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 15:00:08605 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:00:08611 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:00:08616 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:00:08621 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:00:10880 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("165"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 15:00:11209 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SELLING_ID] = @__bookForSaleId_0"
[30-06-2024 15:00:11769 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (DbType = Int32), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SELLING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BooksReadyForTrading] ([Author], [BookCategory], [BookId], [BuyerId], [ConditionOfBook], [Description], [PaymentMethod], [Price], [SellerId], [Title], [TypeOfTransaction])
OUTPUT INSERTED.[Id]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[30-06-2024 15:00:11853 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:45af023a-4d25-4e34-a59f-738ad555774b
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:45af023a-4d25-4e34-a59f-738ad555774b
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[30-06-2024 15:00:12191 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 138"
[30-06-2024 15:00:12386 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while approving the sale.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:45af023a-4d25-4e34-a59f-738ad555774b
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 138
   at BooksApiApp.Controllers.ApprovalSaleController.ApproveSale(Int32 bookId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 151
[30-06-2024 15:00:12427 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[30-06-2024 15:00:12457 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 6542.3436ms
[30-06-2024 15:00:12476 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 15:00:12500 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 500 null "text/plain; charset=utf-8" 6979.0293ms
[30-06-2024 15:00:38961 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json-patch+json" 1
[30-06-2024 15:00:39008 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[30-06-2024 15:00:39015 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[30-06-2024 15:00:39030 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 15:00:39033 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 15:00:39037 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 15:00:41039 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 15:00:41185 +03:00 BooksApiApp.Services.UserService ] "Book was not found""   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 107"
[30-06-2024 15:00:41334 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while approving the sale.
BooksApiApp.Services.Exceptions.BookNotFoundException: Book was not found
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 107
   at BooksApiApp.Controllers.ApprovalSaleController.ApproveSale(Int32 bookId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 151
[30-06-2024 15:00:41341 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[30-06-2024 15:00:41345 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 2297.6782ms
[30-06-2024 15:00:41350 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 15:00:41353 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 500 null "text/plain; charset=utf-8" 2395.473ms
[30-06-2024 15:06:50967 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 15:06:51663 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 15:06:51667 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 15:06:51672 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 15:06:51673 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 15:06:51675 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 15:06:52889 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 15:06:53436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 556.9874ms
[30-06-2024 15:06:53454 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 15:06:53469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 14.862ms
[30-06-2024 15:06:53551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 15:06:53664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 114.3774ms
[30-06-2024 15:06:53857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 15:06:54284 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 427.0471ms
[30-06-2024 15:07:48514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json-patch+json" 1
[30-06-2024 15:07:48533 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[30-06-2024 15:07:48535 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[30-06-2024 15:07:48786 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 15:07:48792 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 15:07:48853 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 15:07:50799 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:07:50801 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:07:50805 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:07:50808 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:07:53210 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("219"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 15:07:53476 +03:00 BooksApiApp.Services.UserService ] "Book was not found""   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 107"
[30-06-2024 15:07:53666 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while approving the sale.
BooksApiApp.Services.Exceptions.BookNotFoundException: Book was not found
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 107
   at BooksApiApp.Controllers.ApprovalSaleController.ApproveSale(Int32 bookId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 151
[30-06-2024 15:07:53687 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[30-06-2024 15:07:53701 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 4837.6459ms
[30-06-2024 15:07:53706 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 15:07:53735 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 500 null "text/plain; charset=utf-8" 5221.0397ms
[30-06-2024 15:13:01019 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 15:13:02487 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 15:13:02505 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 15:13:02514 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 15:13:02520 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 15:13:02524 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 15:13:04050 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 15:13:04948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 919.5061ms
[30-06-2024 15:13:05104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 15:13:05104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 15:13:05202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 97.6671ms
[30-06-2024 15:13:05430 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 325.9065ms
[30-06-2024 15:13:05630 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 15:13:06425 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 795.7796ms
[30-06-2024 15:13:26010 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json-patch+json" 1
[30-06-2024 15:13:26049 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[30-06-2024 15:13:26052 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[30-06-2024 15:13:26503 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 15:13:26513 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 15:13:26599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 15:13:28199 +03:00 BooksApiApp.Services.UserService ] Attempting to approve sale for BookId: 7, SellerId: 24
[30-06-2024 15:13:31324 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:13:31343 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:13:31351 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:13:31357 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:13:34927 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("353"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 15:13:35031 +03:00 BooksApiApp.Services.UserService ] BookForSale not found for BookId: 7, SellerId: 24
[30-06-2024 15:13:35338 +03:00 BooksApiApp.Services.UserService ] "Book was not found""   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 110"
[30-06-2024 15:13:35534 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while approving the sale.
BooksApiApp.Services.Exceptions.BookNotFoundException: Book was not found
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 110
   at BooksApiApp.Controllers.ApprovalSaleController.ApproveSale(Int32 bookId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 151
[30-06-2024 15:13:35563 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[30-06-2024 15:13:35587 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 8968.0662ms
[30-06-2024 15:13:35591 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 15:13:35648 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 500 null "text/plain; charset=utf-8" 9654.6227ms
[30-06-2024 15:14:19119 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 15:14:19835 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 15:14:19840 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 15:14:19846 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 15:14:19848 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 15:14:19850 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 15:14:21034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 15:14:21724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 702.6489ms
[30-06-2024 15:14:21911 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 15:14:21911 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 15:14:21940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 28.965ms
[30-06-2024 15:14:22070 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 158.659ms
[30-06-2024 15:14:22263 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 15:14:22827 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 564.6119ms
[30-06-2024 15:28:07493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json-patch+json" 1
[30-06-2024 15:28:07553 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[30-06-2024 15:28:07572 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[30-06-2024 15:28:08059 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 15:28:08076 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 15:28:08217 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 15:28:09547 +03:00 BooksApiApp.Services.UserService ] Attempting to approve sale for BookId: 6, SellerId: 24
[30-06-2024 15:28:11440 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:28:11446 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:28:11450 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:28:11455 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:28:14553 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("255"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 15:28:15013 +03:00 BooksApiApp.Services.UserService ] BookForSale found for BookId: 6, SellerId: 24
[30-06-2024 15:28:15102 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SELLING_ID] = @__bookForSaleId_0"
[30-06-2024 15:28:15174 +03:00 BooksApiApp.Services.UserService ] ApprovalSale found for BookForSaleId: 6
[30-06-2024 15:28:15181 +03:00 BooksApiApp.Services.UserService ] Creating BookReadyForTrading entry for BookId: 6, SellerId: 24
[30-06-2024 15:28:15929 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (DbType = Int32), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SELLING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BooksReadyForTrading] ([Author], [BookCategory], [BookId], [BuyerId], [ConditionOfBook], [Description], [PaymentMethod], [Price], [SellerId], [Title], [TypeOfTransaction])
OUTPUT INSERTED.[Id]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[30-06-2024 15:28:16060 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6eb4ffe0-0b4a-45ae-9111-9a18f7eb4838
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6eb4ffe0-0b4a-45ae-9111-9a18f7eb4838
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[30-06-2024 15:28:16504 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 149"
[30-06-2024 15:28:16855 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while approving the sale.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6eb4ffe0-0b4a-45ae-9111-9a18f7eb4838
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 149
   at BooksApiApp.Controllers.ApprovalSaleController.ApproveSale(Int32 bookId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 151
[30-06-2024 15:28:16916 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[30-06-2024 15:28:16945 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 8701.3444ms
[30-06-2024 15:28:16952 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 15:28:17002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 500 null "text/plain; charset=utf-8" 9511.6327ms
[30-06-2024 15:45:37492 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:45:37567 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:45:37568 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:45:37568 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:45:38025 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:45:38026 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:45:38026 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:45:38026 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:46:43571 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:46:43676 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:46:43677 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:46:43679 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:46:44709 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[30-06-2024 15:46:44777 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[30-06-2024 15:46:44795 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[30-06-2024 15:46:44806 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[30-06-2024 15:46:44868 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
[30-06-2024 15:46:44912 +03:00 Microsoft.EntityFrameworkCore.Migrations ] Applying migration '"20240630124539_AddBookReadyForTradingTable"'.
[30-06-2024 15:46:45197 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [ADMIN] DROP CONSTRAINT [FK_ADMIN_USER_ID];"
[30-06-2024 15:56:15788 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:56:15898 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:56:15899 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:56:15899 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:56:17497 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("52"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[30-06-2024 15:56:17578 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[30-06-2024 15:56:17609 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[30-06-2024 15:56:17617 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[30-06-2024 15:56:18037 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("375"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
[30-06-2024 15:56:18097 +03:00 Microsoft.EntityFrameworkCore.Migrations ] Applying migration '"20240630124539_AddBookReadyForTradingTable"'.
[30-06-2024 15:56:18374 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [ADMIN] DROP CONSTRAINT [FK_ADMIN_USER_ID];"
[30-06-2024 15:58:55663 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:58:55749 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:58:55750 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:58:55750 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:58:56258 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:58:56258 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:58:56259 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:58:56259 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:58:58183 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[30-06-2024 15:58:58236 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[30-06-2024 15:58:58282 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
[30-06-2024 15:59:44312 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:59:44404 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:59:44405 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:59:44405 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:59:45064 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:59:45065 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:59:45065 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 15:59:45066 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 16:00:25083 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 16:00:25186 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 16:00:25187 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 16:00:25187 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 16:00:26835 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[30-06-2024 16:00:26905 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[30-06-2024 16:00:26917 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[30-06-2024 16:00:26931 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[30-06-2024 16:00:27026 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
[30-06-2024 16:00:27076 +03:00 Microsoft.EntityFrameworkCore.Migrations ] Applying migration '"20240630125947_AddBookReadyForTradingTable"'.
[30-06-2024 16:00:27391 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [ADMIN] DROP CONSTRAINT [FK_ADMIN_USER_ID];"
[30-06-2024 16:10:35329 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 16:10:36299 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 16:10:36302 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 16:10:36307 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 16:10:36310 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 16:10:36312 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 16:10:38083 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 16:10:38836 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 766.7647ms
[30-06-2024 16:10:38982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 16:10:38982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 16:10:39013 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 31.1947ms
[30-06-2024 16:10:39141 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 162.3674ms
[30-06-2024 16:10:39399 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 16:10:40033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 635.1956ms
[30-06-2024 16:10:54025 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json-patch+json" 1
[30-06-2024 16:10:54061 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[30-06-2024 16:10:54064 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[30-06-2024 16:10:54504 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 16:10:54512 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 16:10:54610 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 16:10:56776 +03:00 BooksApiApp.Services.UserService ] Attempting to approve sale for BookId: 6, SellerId: 24
[30-06-2024 16:10:58696 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 16:10:58702 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 16:10:58706 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 16:10:58709 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 16:11:02524 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("409"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SELLING] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 16:11:03075 +03:00 BooksApiApp.Services.UserService ] BookForSale found for BookId: 6, SellerId: 24
[30-06-2024 16:11:03159 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SELLING] AS [a]
INNER JOIN [BOOK_FOR_SELLING] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SELLING_ID] = @__bookForSaleId_0"
[30-06-2024 16:11:03223 +03:00 BooksApiApp.Services.UserService ] ApprovalSale found for BookForSaleId: 6
[30-06-2024 16:11:03237 +03:00 BooksApiApp.Services.UserService ] Creating BookReadyForTrading entry for BookId: 6, SellerId: 24
[30-06-2024 16:11:04118 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (DbType = Int32), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SELLING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BooksReadyForTrading] ([Author], [BookCategory], [BookId], [BuyerId], [ConditionOfBook], [Description], [PaymentMethod], [Price], [SellerId], [Title], [TypeOfTransaction])
OUTPUT INSERTED.[Id]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[30-06-2024 16:11:04228 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4d1cc311-9419-4fe2-babf-16fee191e757
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4d1cc311-9419-4fe2-babf-16fee191e757
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[30-06-2024 16:11:04679 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 149"
[30-06-2024 16:11:04970 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while approving the sale.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'BooksReadyForTrading'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreResults(Boolean& moreResults)
   at Microsoft.Data.SqlClient.SqlDataReader.TryNextResult(Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.NextResultAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4d1cc311-9419-4fe2-babf-16fee191e757
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.ApproveSaleAsync(Int32 bookId, Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 149
   at BooksApiApp.Controllers.ApprovalSaleController.ApproveSale(Int32 bookId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 151
[30-06-2024 16:11:05005 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[30-06-2024 16:11:05021 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 10397.0958ms
[30-06-2024 16:11:05024 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 16:11:05041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 500 null "text/plain; charset=utf-8" 11016.7825ms
[30-06-2024 17:17:55998 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 17:17:56923 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 17:17:56927 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 17:17:56932 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 17:17:56934 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 17:17:56936 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 17:18:00760 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 17:18:01768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1022.3885ms
[30-06-2024 17:18:02061 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 17:18:02130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 17:18:02214 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 152.9321ms
[30-06-2024 17:18:02417 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 287.5026ms
[30-06-2024 17:18:02688 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 17:18:03460 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 771.4451ms
[30-06-2024 17:20:30488 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 17:20:30572 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:30577 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 96.5213ms
[30-06-2024 17:20:30604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 17:20:30622 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:30875 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:20:30885 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 17:20:31022 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 17:20:33570 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:20:33576 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:20:33579 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:20:33585 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:20:35756 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("297"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:20:37657 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 17:20:37746 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 17:20:37811 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 6776.8125ms
[30-06-2024 17:20:37814 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 17:20:37834 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 7235.0605ms
[30-06-2024 17:20:37907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 17:20:37920 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:37923 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 17:20:37924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 16.8565ms
[30-06-2024 17:20:37936 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:37940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 17:20:37945 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 17:20:37975 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:20:37942 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 17:20:37941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 18.2252ms
[30-06-2024 17:20:37996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:37981 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 17:20:38021 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:38023 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:38038 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:38051 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 111.0956ms
[30-06-2024 17:20:38061 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 86.3761ms
[30-06-2024 17:20:38098 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:20:38059 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 113.8608ms
[30-06-2024 17:20:38057 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:38081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 17:20:38082 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 17:20:38123 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:38162 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:38170 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:20:38303 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:20:38304 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:20:38304 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:20:38304 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:20:38335 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 17:20:38329 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 17:20:38331 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:20:38334 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 17:20:38304 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:20:38352 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:20:38352 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 17:20:38361 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 17:20:38364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 17:20:38367 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 17:20:38392 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:20:38653 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("69"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 17:20:38736 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 17:20:38761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 376.9358ms
[30-06-2024 17:20:38770 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:20:38778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 686.0485ms
[30-06-2024 17:20:38967 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("47"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 17:20:38969 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("152"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 17:20:39168 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("214"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 17:20:39180 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("33"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 17:20:39198 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:20:39198 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:20:39271 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1f8f4a81-3a9d-4afc-bf3c-278be618178e
Error Number:207,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1f8f4a81-3a9d-4afc-bf3c-278be618178e
Error Number:207,State:1,Class:16
[30-06-2024 17:20:39271 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:51974425-972e-4ca8-b787-1b040ab7c385
Error Number:207,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:51974425-972e-4ca8-b787-1b040ab7c385
Error Number:207,State:1,Class:16
[30-06-2024 17:20:39327 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 958.0897ms
[30-06-2024 17:20:39326 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 928.5794ms
[30-06-2024 17:20:39904 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 17:20:40050 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 17:20:40145 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 2168.9471ms
[30-06-2024 17:20:40151 +03:00 BooksApiApp.Services.UserService ] "Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.ApprovalSaleRepository.GetBooksThatUserAsksForApproveAsync(Int32 buyerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\ApprovalSaleRepository.cs:line 26
   at BooksApiApp.Services.ApprovalSaleService.GetBooksForNeedApprovalAsync(Int32 buyerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 81"
[30-06-2024 17:20:40152 +03:00 BooksApiApp.Services.UserService ] "Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.ApprovalSaleRepository.GetApprovalSalesBySellerIdAsync(Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\ApprovalSaleRepository.cs:line 15
   at BooksApiApp.Services.ApprovalSaleService.GetApprovalSalesByUserAsync(Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 58"
[30-06-2024 17:20:40155 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 904 "application/json; charset=utf-8" 2213.3816ms
[30-06-2024 17:20:40569 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while retrieving books sold by user.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.ApprovalSaleRepository.GetBooksThatUserAsksForApproveAsync(Int32 buyerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\ApprovalSaleRepository.cs:line 26
   at BooksApiApp.Services.ApprovalSaleService.GetBooksForNeedApprovalAsync(Int32 buyerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 81
   at BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 121
ClientConnectionId:1f8f4a81-3a9d-4afc-bf3c-278be618178e
Error Number:207,State:1,Class:16
[30-06-2024 17:20:40666 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while retrieving books sold by user.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.ApprovalSaleRepository.GetApprovalSalesBySellerIdAsync(Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\ApprovalSaleRepository.cs:line 15
   at BooksApiApp.Services.ApprovalSaleService.GetApprovalSalesByUserAsync(Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 58
   at BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 85
ClientConnectionId:51974425-972e-4ca8-b787-1b040ab7c385
Error Number:207,State:1,Class:16
[30-06-2024 17:20:40837 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 2471.5469ms
[30-06-2024 17:20:40949 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 17:20:40951 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 2546.3015ms
[30-06-2024 17:20:41181 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 17:20:41192 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 500 null "application/json" 3110.1535ms
[30-06-2024 17:20:41387 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 500 null "application/json" 3313.9308ms
[30-06-2024 17:21:22281 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[30-06-2024 17:21:22301 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:21:22303 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 22.7805ms
[30-06-2024 17:21:22347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 200
[30-06-2024 17:21:22376 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:21:22379 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:21:22381 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[30-06-2024 17:21:22401 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 17:21:22510 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[USERNAME] = @__username_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:21:22515 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[30-06-2024 17:21:22546 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[PHONE_NUMBER] = @__phoneNumber_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:21:22552 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[30-06-2024 17:21:22639 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\UserController.cs:line 83
[30-06-2024 17:21:22705 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 298.0399ms
[30-06-2024 17:21:22708 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[30-06-2024 17:21:22828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 481.8695ms
[30-06-2024 17:21:30394 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[30-06-2024 17:21:30400 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:21:30402 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 12.8676ms
[30-06-2024 17:21:30410 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 203
[30-06-2024 17:21:30421 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:21:30423 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:21:30426 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[30-06-2024 17:21:30428 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 17:21:30443 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[30-06-2024 17:21:30499 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 67.241ms
[30-06-2024 17:21:30504 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[30-06-2024 17:21:30506 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 97.0623ms
[30-06-2024 17:21:38543 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[30-06-2024 17:21:38549 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:21:38554 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 10.9865ms
[30-06-2024 17:21:38579 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 198
[30-06-2024 17:21:38600 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:21:38609 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:21:38613 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[30-06-2024 17:21:38616 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 17:21:38657 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[USERNAME] = @__username_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:21:38664 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[30-06-2024 17:21:38678 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[PHONE_NUMBER] = @__phoneNumber_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:21:38684 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69846985 not found or invalid credentials provided"
[30-06-2024 17:21:38703 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[USERNAME] = @__username_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:21:39796 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("50"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (Size = 10), @p7='?' (Size = 512), @p8='?' (Size = 13), @p9='?' (DbType = Int32), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [IS_DELETED], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USER_ROLE], [USERNAME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);"
[30-06-2024 17:21:39855 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[30-06-2024 17:21:39865 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[30-06-2024 17:21:39920 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 1299.078ms
[30-06-2024 17:21:39927 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[30-06-2024 17:21:39929 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 303 "application/json; charset=utf-8" 1350.4613ms
[30-06-2024 17:23:52526 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[30-06-2024 17:23:52629 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:23:52633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 139.007ms
[30-06-2024 17:23:52641 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 160
[30-06-2024 17:23:52648 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:23:52655 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:23:52658 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[30-06-2024 17:23:52662 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 17:23:52961 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("235"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[USERNAME] = @__username_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:23:53050 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[30-06-2024 17:23:53125 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[PHONE_NUMBER] = @__phoneNumber_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:23:53129 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 85693 not found or invalid credentials provided"
[30-06-2024 17:23:53153 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[USERNAME] = @__username_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:23:53426 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (Size = 10), @p7='?' (Size = 512), @p8='?' (Size = 13), @p9='?' (DbType = Int32), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [IS_DELETED], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USER_ROLE], [USERNAME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);"
[30-06-2024 17:23:53430 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[30-06-2024 17:23:53435 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[30-06-2024 17:23:53441 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 776.9193ms
[30-06-2024 17:23:53443 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[30-06-2024 17:23:53445 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 265 "application/json; charset=utf-8" 805.1401ms
[30-06-2024 17:24:03394 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 17:24:03415 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:03418 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 24.6118ms
[30-06-2024 17:24:03424 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[30-06-2024 17:24:03434 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:03436 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:24:03438 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 17:24:03441 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 17:24:03485 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:24:03770 +03:00 BooksApiApp.Services.UserService ] {Message}User: "pepa" found and returned
[30-06-2024 17:24:03789 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 17:24:03793 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 347.6293ms
[30-06-2024 17:24:03794 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 17:24:03798 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 565 "application/json; charset=utf-8" 374.3662ms
[30-06-2024 17:24:03887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 17:24:03893 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 17:24:03898 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:03902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 17:24:03910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 23.0559ms
[30-06-2024 17:24:03908 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:03934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 17:24:04000 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 17:24:03987 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 93.4656ms
[30-06-2024 17:24:03972 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:03919 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 17:24:04038 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:04039 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:04039 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 137.3425ms
[30-06-2024 17:24:03949 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:24:04048 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 17:24:04049 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:04067 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:04072 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:24:04072 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:24:04094 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 17:24:04096 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 17:24:04074 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 154.8115ms
[30-06-2024 17:24:04087 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 135.9322ms
[30-06-2024 17:24:04072 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:04098 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:24:04099 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 17:24:04104 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:04106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 17:24:04120 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:24:04126 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:04128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 17:24:04132 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:24:04136 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 17:24:04171 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 17:24:04140 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:24:04179 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:24:04183 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:24:04184 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:24:04357 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 17:24:04366 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("216"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 17:24:04366 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("192"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 17:24:04388 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:24:04414 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:24:04414 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 280.067ms
[30-06-2024 17:24:04424 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("64"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 17:24:04418 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 263.5067ms
[30-06-2024 17:24:04442 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 17:24:04426 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("217"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SELLING_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SELLING_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 17:24:04448 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 448.3927ms
[30-06-2024 17:24:04488 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1f8f4a81-3a9d-4afc-bf3c-278be618178e
Error Number:207,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1f8f4a81-3a9d-4afc-bf3c-278be618178e
Error Number:207,State:1,Class:16
[30-06-2024 17:24:04430 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 17:24:04498 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:51974425-972e-4ca8-b787-1b040ab7c385
Error Number:207,State:1,Class:16"
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:51974425-972e-4ca8-b787-1b040ab7c385
Error Number:207,State:1,Class:16
[30-06-2024 17:24:04500 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 17:24:04525 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 591.4613ms
[30-06-2024 17:24:04943 +03:00 BooksApiApp.Services.UserService ] "Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.ApprovalSaleRepository.GetBooksThatUserAsksForApproveAsync(Int32 buyerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\ApprovalSaleRepository.cs:line 26
   at BooksApiApp.Services.ApprovalSaleService.GetBooksForNeedApprovalAsync(Int32 buyerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 81"
[30-06-2024 17:24:05029 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 17:24:05301 +03:00 BooksApiApp.Services.UserService ] "Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.ApprovalSaleRepository.GetApprovalSalesBySellerIdAsync(Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\ApprovalSaleRepository.cs:line 15
   at BooksApiApp.Services.ApprovalSaleService.GetApprovalSalesByUserAsync(Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 58"
[30-06-2024 17:24:05561 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 1196.768ms
[30-06-2024 17:24:05769 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:24:05775 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 1677.4713ms
[30-06-2024 17:24:05912 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while retrieving books sold by user.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.ApprovalSaleRepository.GetBooksThatUserAsksForApproveAsync(Int32 buyerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\ApprovalSaleRepository.cs:line 26
   at BooksApiApp.Services.ApprovalSaleService.GetBooksForNeedApprovalAsync(Int32 buyerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 81
   at BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 121
ClientConnectionId:1f8f4a81-3a9d-4afc-bf3c-278be618178e
Error Number:207,State:1,Class:16
[30-06-2024 17:24:06460 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while retrieving books sold by user.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.ApprovalSaleRepository.GetApprovalSalesBySellerIdAsync(Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\ApprovalSaleRepository.cs:line 15
   at BooksApiApp.Services.ApprovalSaleService.GetApprovalSalesByUserAsync(Int32 sellerId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 58
   at BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 85
ClientConnectionId:51974425-972e-4ca8-b787-1b040ab7c385
Error Number:207,State:1,Class:16
[30-06-2024 17:24:06466 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:24:06917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 2562.6171ms
[30-06-2024 17:24:07041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 2852.7621ms
[30-06-2024 17:24:07052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 17:24:07053 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:07055 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 17:24:07274 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 807.7006ms
[30-06-2024 17:24:07347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:24:07275 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 500 null "application/json" 3187.4336ms
[30-06-2024 17:24:07588 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 500 null "application/json" 3540.6163ms
[30-06-2024 17:24:07660 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:07674 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:24:07677 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:24:07709 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 17:24:08144 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("315"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 17:24:08772 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:24:08936 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 1222.725ms
[30-06-2024 17:24:08941 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:24:08946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 22125 "application/json; charset=utf-8" 1598.6629ms
[30-06-2024 17:24:14138 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:24:14147 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:14153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 15.6903ms
[30-06-2024 17:24:14161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:24:14168 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:14170 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:24:14172 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:24:14174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 17:24:14225 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 17:24:14261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:24:14306 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 127.4621ms
[30-06-2024 17:24:14311 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:24:14314 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 22125 "application/json; charset=utf-8" 153.8539ms
[30-06-2024 17:24:16192 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 17:24:16204 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:16207 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 15.7983ms
[30-06-2024 17:24:16218 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 35
[30-06-2024 17:24:16224 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:24:16228 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:24:16230 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 17:24:16244 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:24:16386 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 17:24:16582 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("18"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SELLING_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[30-06-2024 17:24:16649 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b9ccc77e-1fbd-44a4-b31b-a1a2ea6c6aaf
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b9ccc77e-1fbd-44a4-b31b-a1a2ea6c6aaf
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[30-06-2024 17:24:16901 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 42"
[30-06-2024 17:24:17123 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while processing the request
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b9ccc77e-1fbd-44a4-b31b-a1a2ea6c6aaf
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 42
   at BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase(PurchaseRequestDTO request) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 45
[30-06-2024 17:24:17313 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 1061.0889ms
[30-06-2024 17:24:17317 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 17:24:17566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 500 null "application/json" 1347.6369ms
[30-06-2024 17:25:03070 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:25:03086 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:25:03090 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 20.8128ms
[30-06-2024 17:25:03100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:25:03127 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:25:03130 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:25:03131 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:25:03134 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 17:25:03184 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 17:25:03203 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:25:03229 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 84.386ms
[30-06-2024 17:25:03234 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:25:03238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 22125 "application/json; charset=utf-8" 137.929ms
[30-06-2024 17:25:09327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:25:09341 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:25:09343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 16.1976ms
[30-06-2024 17:25:09361 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:25:09370 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:25:09375 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:25:09377 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:25:09382 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 17:25:09424 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 17:25:09466 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:25:09489 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 99.0481ms
[30-06-2024 17:25:09494 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:25:09497 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 22125 "application/json; charset=utf-8" 137.3738ms
[30-06-2024 17:25:10581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 17:25:10594 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:25:10598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 17.1352ms
[30-06-2024 17:25:10611 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 35
[30-06-2024 17:25:10690 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:25:10727 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:25:10768 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 17:25:10776 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:25:10834 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("38"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 17:25:10893 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SELLING_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[30-06-2024 17:25:10914 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b9ccc77e-1fbd-44a4-b31b-a1a2ea6c6aaf
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b9ccc77e-1fbd-44a4-b31b-a1a2ea6c6aaf
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[30-06-2024 17:25:11144 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 42"
[30-06-2024 17:25:11371 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while processing the request
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b9ccc77e-1fbd-44a4-b31b-a1a2ea6c6aaf
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 42
   at BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase(PurchaseRequestDTO request) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 45
[30-06-2024 17:25:11550 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 759.289ms
[30-06-2024 17:25:11558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 17:25:11783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 500 null "application/json" 1171.9137ms
[30-06-2024 17:25:44811 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:25:45058 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:25:45072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 260.8078ms
[30-06-2024 17:25:45128 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:25:45139 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:25:45140 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:25:45142 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:25:45145 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 17:25:45193 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 17:25:45210 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:25:45249 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 101.0481ms
[30-06-2024 17:25:45282 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:25:45285 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 22125 "application/json; charset=utf-8" 161.5426ms
[30-06-2024 17:29:01268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json-patch+json" 41
[30-06-2024 17:29:01284 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[30-06-2024 17:29:01289 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[30-06-2024 17:29:01293 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:29:01295 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 17:29:01298 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:29:01354 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 17:29:01372 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SELLING_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[30-06-2024 17:29:01385 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:70897e27-681d-44e1-985a-03c476679ed4
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:70897e27-681d-44e1-985a-03c476679ed4
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[30-06-2024 17:29:01602 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 42"
[30-06-2024 17:29:01801 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while processing the request
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'BOOK_FOR_SELLING_ID'.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:70897e27-681d-44e1-985a-03c476679ed4
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Repositories\UnitOfWork.cs:line 33
   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 42
   at BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase(PurchaseRequestDTO request) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 45
[30-06-2024 17:29:01910 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 607.8259ms
[30-06-2024 17:29:01914 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 17:29:02067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 500 null "application/json" 798.883ms
[30-06-2024 17:47:28663 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 17:47:29527 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 17:47:29529 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 17:47:29535 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 17:47:29537 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 17:47:29538 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 17:47:33588 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 17:47:34267 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 691.6215ms
[30-06-2024 17:47:34431 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 17:47:34437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 17:47:34489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 58.2184ms
[30-06-2024 17:47:34677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 241.459ms
[30-06-2024 17:47:35017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 17:47:35646 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 629.8512ms
[30-06-2024 17:47:55516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:47:55632 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:47:55678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 161.4545ms
[30-06-2024 17:47:55696 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:47:55723 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:47:56193 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:47:56204 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:47:56294 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 17:47:59464 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:47:59479 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:47:59481 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:47:59484 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:48:02403 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("427"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 17:48:02889 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:48:03256 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 6944.8582ms
[30-06-2024 17:48:03260 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:48:03293 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 22125 "application/json; charset=utf-8" 7597.0281ms
[30-06-2024 17:48:05779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:48:05802 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:48:05805 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 26.3344ms
[30-06-2024 17:48:05817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:48:05837 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:48:05846 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:48:05850 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:48:05854 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 17:48:06040 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("50"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 17:48:06061 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:48:06072 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 214.4477ms
[30-06-2024 17:48:06074 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:48:06077 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 22125 "application/json; charset=utf-8" 259.863ms
[30-06-2024 17:48:08188 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 17:48:08197 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:48:08199 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 10.5839ms
[30-06-2024 17:48:08206 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 34
[30-06-2024 17:48:08213 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:48:08234 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:48:08237 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 17:48:08272 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:48:08584 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("65"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 17:48:09228 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("105"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SALE_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[30-06-2024 17:48:09300 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 17:48:09313 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 1030.2558ms
[30-06-2024 17:48:09315 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 17:48:09318 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 200 41 "application/json; charset=utf-8" 1112.0603ms
[30-06-2024 17:48:39889 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:48:39929 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:48:39931 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 42.0903ms
[30-06-2024 17:48:39946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 17:48:39958 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:48:39962 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:48:39968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:48:39971 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 17:48:40508 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("529"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 17:48:40526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:48:40557 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 581.1985ms
[30-06-2024 17:48:40560 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 17:48:40563 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 21516 "application/json; charset=utf-8" 617.0372ms
[30-06-2024 17:49:09149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 17:49:09177 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:09178 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 30.0051ms
[30-06-2024 17:49:09186 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 61
[30-06-2024 17:49:09202 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:09216 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:49:09217 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 17:49:09233 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 17:49:09548 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:49:10785 +03:00 BooksApiApp.Services.UserService ] {Message}User: "ytjiyjh" found and returned
[30-06-2024 17:49:10841 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 17:49:10847 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 1605.6846ms
[30-06-2024 17:49:10852 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 17:49:10854 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 584 "application/json; charset=utf-8" 1668.0203ms
[30-06-2024 17:49:10974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 17:49:10977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 17:49:10990 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:10986 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 17:49:10995 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 17:49:11002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 28.4291ms
[30-06-2024 17:49:10999 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:11113 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:11098 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 17:49:11131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:49:11208 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:11155 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:11201 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 17:49:11181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 204.0919ms
[30-06-2024 17:49:11213 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 218.849ms
[30-06-2024 17:49:11183 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 197.018ms
[30-06-2024 17:49:11197 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:11211 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 79.9053ms
[30-06-2024 17:49:12025 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:49:11201 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 17:49:12025 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 17:49:12043 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:12070 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:49:12100 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:12110 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:12113 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:12117 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:49:12119 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 17:49:12123 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:49:12124 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:49:12126 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:49:12127 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 17:49:12135 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 17:49:12130 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:49:12132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 17:49:12144 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 17:49:12133 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 17:49:12149 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 17:49:12151 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:49:12159 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:49:12244 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("69"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 17:49:12408 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("72"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 17:49:12432 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 17:49:12408 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("78"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 17:49:12629 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("110"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 17:49:12629 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("198"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 17:49:12635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 481.8562ms
[30-06-2024 17:49:12674 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:49:12684 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 659.2977ms
[30-06-2024 17:49:12682 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:49:12651 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 23
[30-06-2024 17:49:12711 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 17:49:12690 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:49:12689 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:49:12736 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 571.3081ms
[30-06-2024 17:49:12818 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 660.2111ms
[30-06-2024 17:49:12847 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 17:49:12823 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 674.1776ms
[30-06-2024 17:49:12823 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 683.9007ms
[30-06-2024 17:49:12819 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 17:49:12849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2827 "application/json; charset=utf-8" 1647.7113ms
[30-06-2024 17:49:12853 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 17:49:12862 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 17:49:12865 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 840.0233ms
[30-06-2024 17:49:12900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 968 "application/json; charset=utf-8" 1698.9371ms
[30-06-2024 17:49:12902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 910 "application/json; charset=utf-8" 1804.4593ms
[30-06-2024 17:49:20744 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[30-06-2024 17:49:20750 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:20752 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 8.8399ms
[30-06-2024 17:49:20758 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 1
[30-06-2024 17:49:20778 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:49:20783 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:49:20785 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 17:49:20796 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:49:20806 +03:00 BooksApiApp.Services.UserService ] Attempting to approve sale for BookId: 5, SellerId: 23
[30-06-2024 17:49:20851 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 17:49:20858 +03:00 BooksApiApp.Services.UserService ] BookForSale found for BookId: 5, SellerId: 23
[30-06-2024 17:49:20886 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SALE_ID] = @__bookForSaleId_0"
[30-06-2024 17:49:20897 +03:00 BooksApiApp.Services.UserService ] ApprovalSale found for BookForSaleId: 5
[30-06-2024 17:49:20905 +03:00 BooksApiApp.Services.UserService ] Creating BookReadyForTrading entry for BookId: 5, SellerId: 23
[30-06-2024 17:49:21120 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("85"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SALE]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BOOK_READY_FOR_TRADING] ([AUTHOR], [BOOK_CATEGORY], [BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [DESCRIPTION], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TITLE], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[30-06-2024 17:49:21146 +03:00 BooksApiApp.Services.UserService ] Approved sale for BookId: 5, SellerId: 23
[30-06-2024 17:49:21149 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 17:49:21151 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 351.6655ms
[30-06-2024 17:49:21153 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 17:49:21156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 200 33 "application/json; charset=utf-8" 397.5722ms
[30-06-2024 17:50:52456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 17:50:52462 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:52467 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 12.6318ms
[30-06-2024 17:50:52478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[30-06-2024 17:50:52483 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:52489 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:50:52491 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 17:50:52494 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 17:50:52558 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 17:50:52764 +03:00 BooksApiApp.Services.UserService ] {Message}User: "pepa" found and returned
[30-06-2024 17:50:52785 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 17:50:52788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 288.1518ms
[30-06-2024 17:50:52790 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 17:50:52793 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 565 "application/json; charset=utf-8" 315.0332ms
[30-06-2024 17:50:52867 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 17:50:52894 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 17:50:52925 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:52937 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:52934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 17:50:52874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 17:50:52941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 46.1596ms
[30-06-2024 17:50:52940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 72.4821ms
[30-06-2024 17:50:52947 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:52937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:50:52971 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 39.7537ms
[30-06-2024 17:50:52978 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 17:50:52986 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 17:50:52957 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:52979 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:52977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 17:50:53014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 140.4164ms
[30-06-2024 17:50:53014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 76.5916ms
[30-06-2024 17:50:53019 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:53026 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:53018 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:53034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 17:50:53036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:50:53045 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:50:53047 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:53048 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:50:53048 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:50:53052 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:50:53053 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 17:50:53054 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:50:53055 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 17:50:53056 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 17:50:53058 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:50:53060 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 17:50:53061 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 17:50:53063 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:50:53065 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:50:53071 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 17:50:53066 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:50:53094 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 17:50:53281 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("181"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 17:50:53290 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("129"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 17:50:53310 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("235"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 17:50:53326 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:50:53326 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:50:53338 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 269.4712ms
[30-06-2024 17:50:53338 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 245.5879ms
[30-06-2024 17:50:53340 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 17:50:53341 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 17:50:53343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 366.2161ms
[30-06-2024 17:50:53347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 313.0342ms
[30-06-2024 17:50:53351 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 17:50:53422 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("340"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 17:50:53427 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("332"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 17:50:53440 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 17:50:53443 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 17:50:53445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 17:50:53444 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 17:50:53449 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 367.3864ms
[30-06-2024 17:50:53451 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 376.7637ms
[30-06-2024 17:50:53454 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 17:50:53467 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 17:50:53475 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 497.0003ms
[30-06-2024 17:50:53478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 491.7496ms
[30-06-2024 17:50:53556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 455.5149ms
[30-06-2024 17:50:53564 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:50:53567 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 251 "application/json; charset=utf-8" 531.1326ms
[30-06-2024 17:52:15277 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:52:15285 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:52:15288 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:52:15290 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 17:52:15316 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 17:52:15322 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 17:52:15325 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 31.355ms
[30-06-2024 17:52:15329 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:52:15332 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 251 "application/json; charset=utf-8" 55.7274ms
[30-06-2024 17:54:56834 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 17:54:57426 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 17:54:57427 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 17:54:57431 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 17:54:57433 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 17:54:57434 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 17:54:59187 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 17:54:59729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 549.096ms
[30-06-2024 17:54:59748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 17:54:59799 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 50.924ms
[30-06-2024 17:55:00253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 17:55:00603 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 349.9575ms
[30-06-2024 17:55:01065 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 17:55:01566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 511.791ms
[30-06-2024 17:55:11044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 17:55:11044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 17:55:11044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 17:55:11211 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:55:11072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:55:11044 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 17:55:11216 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:55:11237 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 195.4937ms
[30-06-2024 17:55:11226 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:55:11244 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:55:11255 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:55:11285 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 240.7966ms
[30-06-2024 17:55:11301 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 17:55:11299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 255.3807ms
[30-06-2024 17:55:11344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 272.091ms
[30-06-2024 17:55:11394 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 350.6875ms
[30-06-2024 17:55:11276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 17:55:11408 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:55:11411 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 17:55:11413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 17:55:11418 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:55:11494 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:55:11494 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:55:11558 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:55:11602 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 17:55:12118 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:55:12118 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:55:12118 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:55:12118 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:55:12130 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 17:55:12127 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 17:55:12127 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 17:55:12128 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:55:12118 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:55:12190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 17:55:12190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 17:55:12190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:55:12190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 17:55:12193 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 17:55:12234 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 17:55:15014 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:55:15037 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:55:15054 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:55:15075 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 17:55:18235 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("491"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 17:55:18235 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("502"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 17:55:18235 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("502"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 17:55:18235 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("502"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 17:55:18235 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("502"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 17:55:18361 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 17:55:18361 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 17:55:18425 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:55:18427 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:55:18452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 17:55:18428 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 17:55:18934 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:55:19137 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 6917.8403ms
[30-06-2024 17:55:19137 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 6909.8784ms
[30-06-2024 17:55:19194 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 6987.9186ms
[30-06-2024 17:55:19292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 7094.866ms
[30-06-2024 17:55:19194 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 6955.5041ms
[30-06-2024 17:55:19365 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 17:55:19365 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 17:55:19366 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 17:55:19370 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:55:19405 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 17:55:19439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 8028.1111ms
[30-06-2024 17:55:19439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 8141.0389ms
[30-06-2024 17:55:19440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 239 "application/json; charset=utf-8" 8032.8645ms
[30-06-2024 17:55:19440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 8027.3403ms
[30-06-2024 17:55:19443 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 8167.1179ms
[30-06-2024 17:56:06323 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 17:56:06342 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 17:56:06344 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:56:06347 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 17:56:06571 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 17:56:06584 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 17:56:06591 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 238.3594ms
[30-06-2024 17:56:06595 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 17:56:06598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 239 "application/json; charset=utf-8" 276.1969ms
[30-06-2024 18:11:17229 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 18:11:18020 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 18:11:18021 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 18:11:18025 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 18:11:18027 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 18:11:18028 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 18:11:19564 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 18:11:20688 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1138.8432ms
[30-06-2024 18:11:20690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 18:11:20736 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 18:11:20832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 141.3776ms
[30-06-2024 18:11:21061 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 325.041ms
[30-06-2024 18:11:21702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 18:11:22108 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 405.8227ms
[30-06-2024 18:11:48801 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:11:49068 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:11:49075 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:11:49125 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:11:50896 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:11:50899 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:11:50903 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:11:50906 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:11:52703 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("180"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:11:52920 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:11:53163 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 4029.4161ms
[30-06-2024 18:11:53167 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:11:53189 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 239 "application/json; charset=utf-8" 4387.8286ms
[30-06-2024 18:22:55271 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 18:22:55818 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 18:22:55819 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 18:22:55822 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 18:22:55823 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 18:22:55824 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 18:22:57085 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 18:22:57834 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 761.0485ms
[30-06-2024 18:22:57887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 18:22:57887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 18:22:57904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 17.2615ms
[30-06-2024 18:22:58034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 146.7206ms
[30-06-2024 18:22:58219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 18:22:58721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 501.7726ms
[30-06-2024 18:23:22519 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:23:22784 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:23:22790 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:23:22839 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:23:24586 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:23:24589 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:23:24592 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:23:24595 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:23:27185 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("140"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:23:27471 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:23:27729 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 4880.7645ms
[30-06-2024 18:23:27732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:23:27750 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 239 "application/json; charset=utf-8" 5231.6722ms
[30-06-2024 18:26:25225 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 18:26:25897 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 18:26:25899 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 18:26:25905 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 18:26:25910 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 18:26:25913 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 18:26:27312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 18:26:27885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 585.9332ms
[30-06-2024 18:26:27951 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 18:26:27969 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 18.3367ms
[30-06-2024 18:26:28021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 18:26:28401 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 379.5491ms
[30-06-2024 18:26:28613 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 18:26:29097 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 483.8351ms
[30-06-2024 18:26:37827 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:26:38080 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:26:38085 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:26:38131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:26:39765 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:26:39768 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:26:39771 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:26:39774 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 18:26:42028 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("252"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:26:42401 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:26:42670 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 4527.9161ms
[30-06-2024 18:26:42674 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:26:42694 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 4867.945ms
[30-06-2024 18:26:53068 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:26:53068 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:26:53108 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:26:53069 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:26:53068 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:26:53071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:26:53188 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 119.515ms
[30-06-2024 18:26:53182 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:26:53192 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:26:53201 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:26:53211 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:26:53269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:26:53264 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 195.931ms
[30-06-2024 18:26:53266 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 197.083ms
[30-06-2024 18:26:53268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 199.8566ms
[30-06-2024 18:26:53258 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:26:53273 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:26:53286 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:26:53273 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:26:53309 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 237.8373ms
[30-06-2024 18:26:53276 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:26:53313 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:26:53314 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:26:53327 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:26:53331 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:26:53341 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:26:53343 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:26:53343 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:26:53345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:26:53346 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:26:53348 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:26:53348 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:26:53349 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:26:53352 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:26:53353 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:26:53362 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:26:53364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:26:53366 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:26:53366 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:26:53368 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:26:53663 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("121"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:26:53722 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:26:53727 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 349.9345ms
[30-06-2024 18:26:53742 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:26:53744 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 431.8379ms
[30-06-2024 18:26:53783 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("49"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:26:53794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("109"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:26:53819 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:26:53820 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("98"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:26:53822 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("100"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:26:53824 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:26:53828 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 459.6467ms
[30-06-2024 18:26:53831 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:26:53842 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:26:53846 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 476.0865ms
[30-06-2024 18:26:53853 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:26:53856 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:26:53864 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:26:53869 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:26:53874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 605.4925ms
[30-06-2024 18:26:53883 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 484.2427ms
[30-06-2024 18:26:53898 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 487.9366ms
[30-06-2024 18:26:53913 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 640.6509ms
[30-06-2024 18:26:53933 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:26:53935 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:26:53948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 739.4897ms
[30-06-2024 18:26:53951 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 677.4704ms
[30-06-2024 18:28:44064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:28:44064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:28:44064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:28:44064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:28:44064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:28:44516 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:28:44518 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:28:44518 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:28:44522 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:28:44533 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:28:44552 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 485.9857ms
[30-06-2024 18:28:44552 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 483.6523ms
[30-06-2024 18:28:44575 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:28:44572 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 530.9947ms
[30-06-2024 18:28:44570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:28:44572 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 524.2678ms
[30-06-2024 18:28:44570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:28:44570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:28:44552 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 511.519ms
[30-06-2024 18:28:44825 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:28:44864 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:28:44967 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:28:45221 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:28:45246 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:28:45302 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:28:45564 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:28:45565 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:28:45570 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:28:45572 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:28:45584 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:28:45602 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:28:45610 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:28:45616 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:28:45632 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:28:45737 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:28:45812 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:28:45812 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:28:45812 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:28:45827 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:28:45847 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:28:51560 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4,961"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:28:51562 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2,192"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:28:51569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5,016"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:28:51569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5,002"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:28:51569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5,011"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:28:51711 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:28:51782 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:28:51808 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:28:51810 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:28:51821 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:28:51823 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:28:51883 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 6034.3626ms
[30-06-2024 18:28:51924 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:28:51967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 6138.6132ms
[30-06-2024 18:28:51973 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:28:51986 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 6141.8104ms
[30-06-2024 18:28:51987 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 5975.7104ms
[30-06-2024 18:28:52059 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:28:51989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 7203.323ms
[30-06-2024 18:28:52052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:28:51988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 7413.1588ms
[30-06-2024 18:28:52063 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 7493.4198ms
[30-06-2024 18:28:52095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 7529.6513ms
[30-06-2024 18:28:52183 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:28:52195 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 6369.4101ms
[30-06-2024 18:28:52219 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:28:52233 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 7667.6119ms
[30-06-2024 18:29:48956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:29:48956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:29:48956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:29:48956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:29:48984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:29:49043 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:29:49137 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:29:49043 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:29:49142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 157.3018ms
[30-06-2024 18:29:49139 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 191.3726ms
[30-06-2024 18:29:49142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 189.3452ms
[30-06-2024 18:29:49095 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:29:49107 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:29:49170 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:29:49219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 267.0468ms
[30-06-2024 18:29:49224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 276.9274ms
[30-06-2024 18:29:49199 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:29:49189 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:29:49238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:29:49250 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:29:49290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:29:49290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:29:49290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:29:49290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:29:49293 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:29:49322 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:29:49321 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:29:49322 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:29:49325 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:29:49325 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:29:49328 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:29:49328 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:29:49328 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:29:49335 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:29:49335 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:29:49336 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:29:49337 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:29:49340 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:29:49356 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:29:49358 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:29:49443 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("49"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:29:49450 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("27"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:29:49451 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:29:49453 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("61"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:29:49456 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:29:49458 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:29:49459 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("56"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:29:49460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 91.1535ms
[30-06-2024 18:29:49465 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:29:49472 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:29:49476 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 114.5513ms
[30-06-2024 18:29:49484 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:29:49484 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:29:49486 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:29:49487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:29:49489 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:29:49494 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 255.7042ms
[30-06-2024 18:29:49503 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 149.2524ms
[30-06-2024 18:29:49506 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 158.6345ms
[30-06-2024 18:29:49509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 163.9371ms
[30-06-2024 18:29:49509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 338.7821ms
[30-06-2024 18:29:49518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:29:49521 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:29:49524 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:29:49540 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 351.2648ms
[30-06-2024 18:29:49551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 300.9612ms
[30-06-2024 18:29:49556 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 355.8558ms
[30-06-2024 18:30:38642 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:30:38675 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:30:38665 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:30:38737 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:30:38735 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:30:38759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 116.7869ms
[30-06-2024 18:30:38719 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:30:38776 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:30:38757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 82.4954ms
[30-06-2024 18:30:38751 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:30:38800 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 135.8165ms
[30-06-2024 18:30:38778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:30:38677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:30:38782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:30:38879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:30:38782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:30:38811 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:30:38863 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:30:38876 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:30:38778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 59.9431ms
[30-06-2024 18:30:38894 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:30:38905 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:30:38945 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:30:38907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 230.4628ms
[30-06-2024 18:30:38881 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:30:38890 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:30:38922 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:30:38949 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:30:38950 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:30:38959 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:30:38961 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:30:38970 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:30:38974 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:30:38977 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:30:38979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:30:38982 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:30:39102 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:30:38987 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:30:39106 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("75"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:30:39106 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("66"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:30:39109 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:30:39121 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:30:39123 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:30:39158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:30:39163 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:30:39163 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:30:39186 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 156.577ms
[30-06-2024 18:30:39166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 88.2598ms
[30-06-2024 18:30:39230 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:30:39233 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:30:39237 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 458.5366ms
[30-06-2024 18:30:39238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 459.8756ms
[30-06-2024 18:30:39240 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 207.2509ms
[30-06-2024 18:30:39324 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:30:39343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 532.9917ms
[30-06-2024 18:30:39372 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("260"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:30:39380 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("192"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:30:39387 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:30:39409 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:30:39416 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:30:39413 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:30:39424 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 259.3926ms
[30-06-2024 18:30:39428 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 317.7549ms
[30-06-2024 18:30:39445 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:30:39440 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:30:39449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 667.53ms
[30-06-2024 18:30:39463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 552.36ms
[30-06-2024 18:33:31100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:33:31146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:33:31288 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:33:31148 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:33:31410 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:33:31408 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 311.1023ms
[30-06-2024 18:33:31406 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:33:31412 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 264.2627ms
[30-06-2024 18:33:31146 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:33:31157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:33:31429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:33:31430 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 335.558ms
[30-06-2024 18:33:31443 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:33:31437 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:33:31440 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:33:31432 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:33:31467 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:33:31469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 322.3744ms
[30-06-2024 18:33:31470 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:33:31630 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:33:31631 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:33:31474 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:33:31510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:33:31481 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:33:31470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 313.1788ms
[30-06-2024 18:33:31640 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:33:31514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:33:31664 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:33:31655 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:33:31660 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:33:31654 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:33:31675 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:33:31676 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:33:31677 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:33:31682 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:33:31684 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:33:31691 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:33:31687 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:33:31710 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:33:31713 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:33:31868 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("221"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:33:31892 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:33:31909 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("175"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:33:31909 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 272.1622ms
[30-06-2024 18:33:31910 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("218"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:33:31910 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("107"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:33:31918 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:33:31930 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:33:31934 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:33:31938 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:33:31941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 512.2251ms
[30-06-2024 18:33:31942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:33:31944 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 167.6324ms
[30-06-2024 18:33:31951 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 236.9967ms
[30-06-2024 18:33:31951 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 261.2203ms
[30-06-2024 18:33:31952 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:33:31957 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:33:31959 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:33:31983 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 468.6718ms
[30-06-2024 18:33:31992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 525.6799ms
[30-06-2024 18:33:31998 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 565.8849ms
[30-06-2024 18:33:32123 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("210"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:33:32144 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:33:32146 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:33:32148 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 267.4076ms
[30-06-2024 18:33:32150 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:33:32152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 641.7611ms
[30-06-2024 18:35:13653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:35:13679 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:35:13678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:35:13668 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:35:13658 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:35:13764 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:35:13778 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:35:13783 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:35:13787 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:35:13796 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:35:13800 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 149.9706ms
[30-06-2024 18:35:13801 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 121.9428ms
[30-06-2024 18:35:13842 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:35:13849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:35:13849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:35:13802 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 124.9932ms
[30-06-2024 18:35:13806 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 138.9554ms
[30-06-2024 18:35:13808 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 157.5998ms
[30-06-2024 18:35:13882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:35:13899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:35:13932 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:35:13932 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:35:13938 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:35:13998 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:35:14002 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:35:14015 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:35:14016 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:35:14024 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:35:14031 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:35:14037 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:35:14038 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:35:14049 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:35:14044 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:35:14048 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:35:14042 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:35:14060 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:35:14063 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:35:14065 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:35:14066 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:35:14084 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:35:14243 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("145"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:35:14244 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("145"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:35:14244 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("139"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:35:14244 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("145"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:35:14257 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:35:14252 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:35:14278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:35:14279 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:35:14279 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:35:14281 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:35:14290 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 195.1178ms
[30-06-2024 18:35:14291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 216.1347ms
[30-06-2024 18:35:14291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 235.0976ms
[30-06-2024 18:35:14292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 210.5511ms
[30-06-2024 18:35:14295 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:35:14298 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:35:14301 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:35:14302 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:35:14304 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:35:14308 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 459.5153ms
[30-06-2024 18:35:14312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 470.5148ms
[30-06-2024 18:35:14322 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:35:14327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 478.5366ms
[30-06-2024 18:35:14330 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 448.2759ms
[30-06-2024 18:35:14361 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 260.1617ms
[30-06-2024 18:35:14377 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:35:14379 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 479.8204ms
[30-06-2024 18:37:59104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:37:59105 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:37:59107 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:37:59292 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:37:59317 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:37:59576 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:37:59582 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:37:59585 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:37:59605 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 501.7313ms
[30-06-2024 18:37:59635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 529.9837ms
[30-06-2024 18:37:59636 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 529.144ms
[30-06-2024 18:37:59593 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:37:59761 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 468.9634ms
[30-06-2024 18:37:59602 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:37:59631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:37:59687 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:37:59689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:37:59778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:37:59843 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:37:59843 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:37:59846 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:37:59847 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 530.7737ms
[30-06-2024 18:37:59851 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:37:59980 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:37:59998 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:37:59998 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:37:59998 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:37:59998 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:38:00000 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:38:00007 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:38:00008 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:38:00009 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:38:00009 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:38:00010 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:38:00018 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:38:00021 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:38:00021 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:38:00029 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:38:00029 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:38:00029 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:38:00414 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("316"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:38:00416 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("322"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:38:00513 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("420"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:38:00512 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("419"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:38:00514 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("421"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:38:00538 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:38:00546 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:38:00547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:38:00547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:38:00547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:38:00549 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:38:00550 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:38:00577 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 524.4388ms
[30-06-2024 18:38:00578 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 508.1492ms
[30-06-2024 18:38:00580 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 551.2175ms
[30-06-2024 18:38:00591 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 546.5513ms
[30-06-2024 18:38:00607 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:38:00609 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:38:00611 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:38:00614 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:38:00618 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 848.2021ms
[30-06-2024 18:38:00619 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 930.3689ms
[30-06-2024 18:38:00624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 644.3805ms
[30-06-2024 18:38:00626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 996.4458ms
[30-06-2024 18:38:00627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 595.4982ms
[30-06-2024 18:38:00686 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:38:00694 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 1006.5127ms
[30-06-2024 18:39:16999 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:39:16999 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:39:17112 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:17064 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:17184 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 185.0142ms
[30-06-2024 18:39:17645 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:39:17228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 229.0558ms
[30-06-2024 18:39:17002 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:39:17033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:39:17073 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:39:17220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:39:17691 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:18231 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:18243 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:18300 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:18308 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:18311 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 1309.2024ms
[30-06-2024 18:39:18313 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 1283.7177ms
[30-06-2024 18:39:18314 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 1241.0166ms
[30-06-2024 18:39:18440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:39:18972 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:18447 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:39:18460 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:39:18319 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:39:18317 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:39:19088 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:39:19097 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:19161 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:19162 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:39:19166 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:39:19255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:39:19173 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:39:19171 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:39:19221 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:39:19222 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:39:19282 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:39:19321 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:39:19295 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:39:19334 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:39:19293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:39:19347 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("46"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:39:19358 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("95"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:39:19364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:39:19371 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:39:19374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 74.4423ms
[30-06-2024 18:39:19379 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:39:19379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 117.3182ms
[30-06-2024 18:39:19382 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 2161.5771ms
[30-06-2024 18:39:19385 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:39:19398 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("46"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:39:19402 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 1755.0395ms
[30-06-2024 18:39:19405 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("78"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:39:19475 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:39:19435 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:39:19405 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("63"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:39:19479 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:39:19483 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 133.5636ms
[30-06-2024 18:39:19525 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:39:19522 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 196.8686ms
[30-06-2024 18:39:19514 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:39:19531 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 1092.4826ms
[30-06-2024 18:39:19537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:39:19541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:39:19556 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 1108.24ms
[30-06-2024 18:39:19559 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 218.1097ms
[30-06-2024 18:39:19589 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:39:19592 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 1131.9797ms
[30-06-2024 18:39:23185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:39:23185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:39:23213 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:23185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:39:23186 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:39:23185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:39:23217 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:39:23228 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:39:23220 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:23225 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:23227 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:23241 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:39:23242 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:39:23245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:39:23239 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:39:23218 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:23236 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:39:23336 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 150.7991ms
[30-06-2024 18:39:23392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:39:23362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:39:23237 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 51.7672ms
[30-06-2024 18:39:23333 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:39:23417 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("153"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:39:23436 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:23439 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:39:23444 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("50"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:39:23453 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:39:23459 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:39:23462 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:39:23467 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:39:23463 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:39:23487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:39:23489 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:39:23493 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 122.7327ms
[30-06-2024 18:39:23495 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:39:23504 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 244.0905ms
[30-06-2024 18:39:23509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:39:23511 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:39:23532 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 346.1733ms
[30-06-2024 18:39:23525 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:39:23520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:39:23523 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("52"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:39:23545 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 359.81ms
[30-06-2024 18:39:23569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:39:23603 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:39:23601 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:39:23587 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:39:23610 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 81.0212ms
[30-06-2024 18:39:23617 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:39:23620 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:39:23623 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:39:23627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 57.0895ms
[30-06-2024 18:39:23634 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 164.913ms
[30-06-2024 18:39:23635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 243.8612ms
[30-06-2024 18:39:23640 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:39:23643 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:39:23654 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 292.4314ms
[30-06-2024 18:39:23656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 470.5119ms
[30-06-2024 18:40:14430 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:40:14446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:40:14581 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:14498 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:40:14587 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:40:14597 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:14608 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:40:14696 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:14591 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:14687 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:14690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 194.8291ms
[30-06-2024 18:40:14595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 164.7726ms
[30-06-2024 18:40:14700 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 254.7602ms
[30-06-2024 18:40:14704 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 116.3831ms
[30-06-2024 18:40:14699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 91.3356ms
[30-06-2024 18:40:15087 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:40:15099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:40:15099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:40:15100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:40:15100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:40:15113 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:15122 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:15127 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:15132 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:15136 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:15138 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:40:15142 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:40:15146 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:40:15146 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:40:15146 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:40:15150 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:40:15153 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:40:15155 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:40:15157 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:40:15158 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:40:15160 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:40:15161 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:40:15169 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:40:15175 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:40:15174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:40:16244 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1,053"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:40:16261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:40:16262 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1,079"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:40:16276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 1087.8015ms
[30-06-2024 18:40:16306 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:40:16311 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("994"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:40:16351 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:40:16378 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 1201.4551ms
[30-06-2024 18:40:16400 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1,030"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:40:16452 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1,122"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:40:16455 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:40:16456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 1357.428ms
[30-06-2024 18:40:16497 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:40:16527 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:40:16528 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:40:16539 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:40:16569 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 1481.6354ms
[30-06-2024 18:40:16589 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 1275.0493ms
[30-06-2024 18:40:16644 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:40:16704 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:40:16724 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 1407.0384ms
[30-06-2024 18:40:16725 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 1378.6347ms
[30-06-2024 18:40:16817 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:40:16819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 1719.7287ms
[30-06-2024 18:40:16779 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 1679.9497ms
[30-06-2024 18:40:16809 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:40:16921 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 1820.877ms
[30-06-2024 18:40:43704 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:40:43716 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:40:43717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:40:44057 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:44060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 343.5066ms
[30-06-2024 18:40:44052 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:44125 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 409.6433ms
[30-06-2024 18:40:43736 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:40:43995 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:44150 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 447.535ms
[30-06-2024 18:40:44147 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:43741 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:40:44181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:40:44290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:44297 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:40:44090 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:40:44239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:40:44279 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:44217 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 481.6022ms
[30-06-2024 18:40:44328 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 587.0023ms
[30-06-2024 18:40:44300 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:40:44338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:40:44137 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:40:44316 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:44321 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:44442 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:40:44445 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:44495 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:40:44505 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:40:44505 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:40:44511 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:40:44523 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:40:44522 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:40:44666 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("137"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:40:44669 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:40:44672 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:40:44675 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:40:44678 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:40:44685 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:40:44694 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:40:44700 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:40:44707 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 197.7073ms
[30-06-2024 18:40:44688 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:40:44732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:40:44741 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:40:44782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 599.5805ms
[30-06-2024 18:40:44785 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("67"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:40:44786 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("54"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:40:44794 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:40:44797 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("43"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:40:44806 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:40:44812 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:40:44814 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 116.1924ms
[30-06-2024 18:40:44820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:40:44821 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:40:44823 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:40:44825 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:40:44827 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 110.7586ms
[30-06-2024 18:40:44830 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 100.8242ms
[30-06-2024 18:40:44833 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 79.8432ms
[30-06-2024 18:40:44835 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 595.2312ms
[30-06-2024 18:40:44837 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:40:44840 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:40:44844 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:40:44852 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 513.6964ms
[30-06-2024 18:40:44854 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 717.4412ms
[30-06-2024 18:40:44860 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 770.5027ms
[30-06-2024 18:41:09344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:41:09365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:41:09344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:41:09521 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:09469 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:09426 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:41:10392 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:10382 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 1017.9801ms
[30-06-2024 18:41:10377 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:10384 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 1041.6252ms
[30-06-2024 18:41:10444 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:41:10425 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 1080.7672ms
[30-06-2024 18:41:10393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 971.5632ms
[30-06-2024 18:41:09468 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:41:10393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:41:10395 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:41:10612 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:10517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:10585 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:10594 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:10630 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:41:10615 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:41:10625 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:41:10626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 1157.6045ms
[30-06-2024 18:41:10632 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:41:10406 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:41:10640 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:41:10641 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:41:10668 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:41:10656 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:41:10648 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:41:10674 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:10751 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:41:10744 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:41:10660 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:10760 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:41:10796 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("120"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:41:10806 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:41:10808 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:41:10848 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("70"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:41:10808 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("125"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:41:10909 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:41:10911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:41:10898 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:41:10862 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:41:10888 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:41:10916 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 236.7279ms
[30-06-2024 18:41:10952 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:41:10931 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 257.7356ms
[30-06-2024 18:41:10984 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:41:11026 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 632.9596ms
[30-06-2024 18:41:10958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 565.4692ms
[30-06-2024 18:41:10978 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("95"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:41:11093 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:41:11097 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:41:10941 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:41:10926 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 149.5297ms
[30-06-2024 18:41:11103 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 222.43ms
[30-06-2024 18:41:11179 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:41:11186 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:41:11192 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 748.6004ms
[30-06-2024 18:41:11197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 557.3247ms
[30-06-2024 18:41:11270 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("89"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:41:11275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:41:11281 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 109.4182ms
[30-06-2024 18:41:11283 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:41:11285 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 879.3916ms
[30-06-2024 18:41:36708 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:41:36708 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:41:36922 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:41:37285 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:37245 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:37068 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:41:37353 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 645.1711ms
[30-06-2024 18:41:37350 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:37353 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 645.7444ms
[30-06-2024 18:41:37400 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:37285 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:41:37444 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 18:41:37422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 499.3862ms
[30-06-2024 18:41:37439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 18:41:37434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 366.176ms
[30-06-2024 18:41:37461 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 18:41:37393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 18:41:37527 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:37494 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:37506 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:37538 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:41:37529 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:41:37543 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:41:37531 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:41:37522 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:37491 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:37569 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:41:37570 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:41:37650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 368.3081ms
[30-06-2024 18:41:37672 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:41:37682 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:41:37661 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:41:37684 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 18:41:37766 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:41:37683 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 18:41:37781 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 18:41:37785 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 18:41:37792 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 18:41:37871 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("64"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 18:41:37896 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:41:37901 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:41:37903 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 18:41:37913 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 187.7367ms
[30-06-2024 18:41:37930 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 18:41:37935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 496.1768ms
[30-06-2024 18:41:37953 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("160"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 18:41:37954 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("142"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 18:41:37978 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:41:37969 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 18:41:37987 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 197.0444ms
[30-06-2024 18:41:37982 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 173.3088ms
[30-06-2024 18:41:38006 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 18:41:38003 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 18:41:37956 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("206"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 18:41:38014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 553.3398ms
[30-06-2024 18:41:38030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 637.0902ms
[30-06-2024 18:41:38036 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("118"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 18:41:38065 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:41:38117 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 18:41:38122 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:41:38124 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 18:41:38141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 421.8993ms
[30-06-2024 18:41:38141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 224.3186ms
[30-06-2024 18:41:38221 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 18:41:38222 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 18:41:38231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 786.6364ms
[30-06-2024 18:41:38234 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 561.653ms
[30-06-2024 18:58:50433 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 18:58:52032 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 18:58:52146 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 18:58:52277 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 18:58:52281 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 18:58:52286 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 18:58:53018 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 18:58:53752 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 749.8755ms
[30-06-2024 18:58:54291 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 18:58:54291 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 18:58:54343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 51.1884ms
[30-06-2024 18:58:54449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 157.9449ms
[30-06-2024 18:58:54629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 18:58:55067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 438.4784ms
[30-06-2024 19:01:47235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:01:47235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:01:47235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:01:47235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:01:47235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:01:47456 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:01:47456 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:01:47456 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:01:47456 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:01:47456 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:01:47483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 356.0672ms
[30-06-2024 19:01:47484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 356.4732ms
[30-06-2024 19:01:47483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 355.8928ms
[30-06-2024 19:01:47483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 356.2939ms
[30-06-2024 19:01:47483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 355.8604ms
[30-06-2024 19:01:47500 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:01:47500 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:01:47501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:01:47501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:01:47501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:01:47557 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:01:47557 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:01:47557 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:01:47557 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:01:47558 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:01:48114 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:01:48114 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:01:48114 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:01:48114 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:01:48114 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:01:48121 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:01:48121 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:01:48121 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:01:48121 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:01:48123 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:01:48218 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:01:48218 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 19:01:48219 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:01:48219 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:01:48221 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:01:50853 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:01:50856 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:01:50858 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:01:50861 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:01:53646 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("415"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 19:01:53646 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("347"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 19:01:53647 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("407"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 19:01:53647 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("369"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 19:01:53647 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("415"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 19:01:53713 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 19:01:53713 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 19:01:53736 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:01:53736 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:01:53761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:01:53762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:01:54006 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 5755.2591ms
[30-06-2024 19:01:54006 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 5766.0112ms
[30-06-2024 19:01:54020 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:01:54023 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:01:54043 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 5819.2206ms
[30-06-2024 19:01:54043 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 5804.8898ms
[30-06-2024 19:01:54047 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:01:54047 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 6546.4915ms
[30-06-2024 19:01:54059 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 6559.537ms
[30-06-2024 19:01:54060 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:01:54062 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:01:54089 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 6587.9993ms
[30-06-2024 19:01:54090 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 6590.2524ms
[30-06-2024 19:01:54112 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 5880.6881ms
[30-06-2024 19:01:54120 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:01:54122 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 6623.2921ms
[30-06-2024 19:03:04298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:03:04298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:03:04298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:03:04336 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:03:04358 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:04362 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:04355 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:04373 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:04388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 89.6515ms
[30-06-2024 19:03:04389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 90.4793ms
[30-06-2024 19:03:04390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 93.3294ms
[30-06-2024 19:03:04391 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 57.641ms
[30-06-2024 19:03:04406 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:03:04397 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:03:04410 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:03:04424 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:03:04427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:03:04455 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:04467 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:04538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 141.8864ms
[30-06-2024 19:03:04530 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:04539 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:04498 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:04517 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:04544 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:03:04548 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:04549 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:03:04551 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:04552 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:04559 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:04560 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:03:04562 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:03:04563 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:03:04564 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:03:04566 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:04568 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:03:04574 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:03:04575 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:03:04577 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:03:04634 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 19:03:04826 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("79"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 19:03:04826 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("79"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 19:03:04826 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("79"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 19:03:04830 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:03:04832 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:03:04838 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 19:03:04841 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 269.4635ms
[30-06-2024 19:03:04842 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 216.6848ms
[30-06-2024 19:03:04844 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:03:04853 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 251.7207ms
[30-06-2024 19:03:04848 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:03:04846 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:03:04859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 452.7115ms
[30-06-2024 19:03:04858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 433.6548ms
[30-06-2024 19:03:04856 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:03:04867 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("120"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 19:03:04874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 446.5024ms
[30-06-2024 19:03:04874 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("127"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 19:03:04879 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:03:04896 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 19:03:04898 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 220.8276ms
[30-06-2024 19:03:04900 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:03:04901 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:03:04905 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 291.2835ms
[30-06-2024 19:03:04907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 363.2939ms
[30-06-2024 19:03:04910 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:03:04917 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 507.4736ms
[30-06-2024 19:03:44244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:03:44252 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:03:44662 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:45102 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 859.4967ms
[30-06-2024 19:03:45096 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:44593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:03:45201 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 949.9623ms
[30-06-2024 19:03:44676 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:03:44852 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:03:45174 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:03:45235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:03:45319 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:45259 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:45263 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:45429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 584.157ms
[30-06-2024 19:03:45431 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:45821 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:03:45237 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:45415 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 739.1623ms
[30-06-2024 19:03:45270 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:45444 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:03:45837 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:03:45435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:03:45838 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 1246.7449ms
[30-06-2024 19:03:45878 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:45896 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:03:45913 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:45930 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:45942 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:45957 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:45943 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:45958 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:03:45959 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:45961 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:03:45962 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:03:45972 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:03:45973 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:03:45976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 19:03:45987 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:03:45979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:03:46070 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("62"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 19:03:46078 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("135"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 19:03:46081 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("94"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 19:03:46106 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("89"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 19:03:46107 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:03:46110 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("69"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 19:03:46111 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 19:03:46120 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:03:46124 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:03:46127 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 125.6336ms
[30-06-2024 19:03:46130 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 19:03:46135 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:03:46138 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 153.0357ms
[30-06-2024 19:03:46165 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:03:46153 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:03:46154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:03:46158 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 237.499ms
[30-06-2024 19:03:46146 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 141.6023ms
[30-06-2024 19:03:46198 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:03:46171 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 865 "application/json; charset=utf-8" 735.3557ms
[30-06-2024 19:03:46174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 154.4391ms
[30-06-2024 19:03:46382 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:03:46384 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 946.6295ms
[30-06-2024 19:03:46168 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 995.8181ms
[30-06-2024 19:03:46213 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 316.2966ms
[30-06-2024 19:03:46180 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:03:46474 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 1243.4108ms
[30-06-2024 19:03:52204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[30-06-2024 19:03:52209 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:52212 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 8.0616ms
[30-06-2024 19:03:52215 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 12
[30-06-2024 19:03:52222 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:03:52225 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:03:52227 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 19:03:52285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 19:03:52391 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[30-06-2024 19:03:52474 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 186.2161ms
[30-06-2024 19:03:52478 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 19:03:52481 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 400 296 "application/problem+json; charset=utf-8" 266.1581ms
[30-06-2024 19:06:35820 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 19:07:19689 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 19:07:19786 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 19:07:19798 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 19:07:19802 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 19:07:19815 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 19:07:27302 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 19:07:28388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1103.5913ms
[30-06-2024 19:07:28812 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 19:07:28812 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 19:07:28847 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 34.5779ms
[30-06-2024 19:07:29246 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 434.2344ms
[30-06-2024 19:07:29442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 19:07:30451 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 1016.8419ms
[30-06-2024 19:09:11979 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json-patch+json" 1
[30-06-2024 19:09:12144 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[30-06-2024 19:09:12147 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[30-06-2024 19:09:12758 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:09:12770 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 19:09:12960 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 19:09:15963 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:09:15967 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:09:15970 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:09:15972 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:09:18498 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("309"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__buyerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[BUYER_ID] = @__buyerId_1"
[30-06-2024 19:09:19441 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("99"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BOOK_READY_FOR_TRADING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [SALE] ([BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[30-06-2024 19:09:19551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 19:09:19704 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 6730.1667ms
[30-06-2024 19:09:19711 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 19:09:19735 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 200 40 "application/json; charset=utf-8" 7778.8106ms
[30-06-2024 19:12:02203 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:12:02203 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:12:02204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:12:02203 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:12:02246 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:12:02246 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:12:02253 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:12:02213 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:12:02273 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:12:02279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 83.4493ms
[30-06-2024 19:12:02279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 78.5641ms
[30-06-2024 19:12:02280 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 83.7992ms
[30-06-2024 19:12:02280 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 85.096ms
[30-06-2024 19:12:02279 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:12:02299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:12:02299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:12:02345 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 131.7238ms
[30-06-2024 19:12:02299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:12:02315 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:12:02358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:12:02367 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:12:02367 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:12:02374 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:12:02377 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:12:02382 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:12:02396 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:12:02396 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:12:02396 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:12:02396 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:12:02396 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:12:02398 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:12:02398 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:12:02401 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:12:02403 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:12:02404 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:12:02421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:12:02421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:12:02421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 19:12:02421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:12:02421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:12:02833 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 19:12:02834 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("58"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 19:12:02850 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 19:12:02875 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("39"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 19:12:02880 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 19:12:02900 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:12:02906 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:12:02910 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 19:12:02912 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 474.352ms
[30-06-2024 19:12:02914 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("39"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 19:12:02918 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 489.3486ms
[30-06-2024 19:12:02923 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:12:02928 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 56
[30-06-2024 19:12:02930 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:12:02933 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 634.4547ms
[30-06-2024 19:12:02934 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:12:02935 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 510.9641ms
[30-06-2024 19:12:02940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 582.9837ms
[30-06-2024 19:12:02945 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 515.4158ms
[30-06-2024 19:12:02957 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:12:02967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:12:02976 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 660.5641ms
[30-06-2024 19:12:03003 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:12:03061 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 763.4108ms
[30-06-2024 19:12:03157 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 730.0316ms
[30-06-2024 19:12:03162 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:12:03164 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1015 "application/json; charset=utf-8" 864.7196ms
[30-06-2024 19:36:10089 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 19:36:10772 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 19:36:10774 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 19:36:10777 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 19:36:10779 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 19:36:10781 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 19:36:11088 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 19:36:11188 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:11218 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 143.6022ms
[30-06-2024 19:36:11236 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 19:36:11255 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:11675 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:11682 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 19:36:11827 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 19:36:11953 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 19:36:12878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 930.5552ms
[30-06-2024 19:36:12939 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 19:36:12939 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 19:36:12962 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 23.5579ms
[30-06-2024 19:36:13072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 133.2218ms
[30-06-2024 19:36:13281 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 19:36:13887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 605.8798ms
[30-06-2024 19:36:15122 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:36:15137 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:36:15147 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:36:15156 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:36:17637 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("240"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 19:36:18801 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 19:36:18861 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 19:36:18916 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 6962.4806ms
[30-06-2024 19:36:18919 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 19:36:18939 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 7702.9554ms
[30-06-2024 19:36:18995 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:36:19007 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:36:19008 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:19013 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:36:19015 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:19019 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:19021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:36:19035 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:36:19036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 23.0441ms
[30-06-2024 19:36:19022 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 20.8996ms
[30-06-2024 19:36:19035 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:36:19021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:36:19072 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:19074 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:19015 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 20.4298ms
[30-06-2024 19:36:19061 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:36:19118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 97.498ms
[30-06-2024 19:36:19102 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:19116 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:19166 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:36:19197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 163.9567ms
[30-06-2024 19:36:19208 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:19170 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:19219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:36:19240 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:19293 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:19293 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:19293 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:19294 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:19294 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:19295 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:36:19297 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:36:19299 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:36:19300 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:36:19301 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:36:19315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:36:19315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:36:19315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:36:19323 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:36:19328 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 19:36:19774 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("133"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 19:36:19774 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("88"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 19:36:19774 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 19:36:19852 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("120"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 19:36:19913 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("62"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 19:36:19966 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 19:36:19973 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 19:36:19982 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 19:36:19986 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:36:19987 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:36:19991 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 654.7695ms
[30-06-2024 19:36:19995 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 672.1929ms
[30-06-2024 19:36:19996 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 656.7101ms
[30-06-2024 19:36:19997 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:36:19999 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:36:20001 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:36:20004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 943.3737ms
[30-06-2024 19:36:20006 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 839.667ms
[30-06-2024 19:36:20009 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 800.5661ms
[30-06-2024 19:36:20030 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:36:20030 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:36:20115 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 781.8094ms
[30-06-2024 19:36:20116 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 789.5353ms
[30-06-2024 19:36:20118 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:36:20123 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:36:20125 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 904 "application/json; charset=utf-8" 1104.9252ms
[30-06-2024 19:36:20131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 1097.8514ms
[30-06-2024 19:36:25081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:36:25134 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:25136 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 55.4233ms
[30-06-2024 19:36:25145 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:36:25152 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:25154 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:25157 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:36:25165 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 19:36:25310 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("59"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 19:36:25421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:36:25486 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 315.3351ms
[30-06-2024 19:36:25490 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:36:25493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 21516 "application/json; charset=utf-8" 348.882ms
[30-06-2024 19:36:30704 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:36:30709 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:30710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 7.9142ms
[30-06-2024 19:36:30714 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:36:30721 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:30723 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:30724 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:36:30726 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 19:36:30755 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 19:36:30772 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:36:30788 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 59.23ms
[30-06-2024 19:36:30790 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:36:30792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 21516 "application/json; charset=utf-8" 78.3542ms
[30-06-2024 19:36:33296 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 19:36:33305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:33306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 10.7669ms
[30-06-2024 19:36:33310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 33
[30-06-2024 19:36:33322 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:33327 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:33330 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 19:36:33344 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:36:33451 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 19:36:33951 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("68"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SALE_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[30-06-2024 19:36:34020 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 19:36:34024 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 674.9805ms
[30-06-2024 19:36:34028 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 19:36:34035 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 200 41 "application/json; charset=utf-8" 725.0194ms
[30-06-2024 19:36:36750 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:36:36754 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:36757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 9.3591ms
[30-06-2024 19:36:36766 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:36:36771 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:36773 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:36774 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:36:36776 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 19:36:36834 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 19:36:36849 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:36:36862 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 81.6283ms
[30-06-2024 19:36:36868 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:36:36874 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20966 "application/json; charset=utf-8" 108.7512ms
[30-06-2024 19:36:52306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:36:52306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:36:52307 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:36:52312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:36:52314 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:52309 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:52316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:36:52318 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:52321 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:52327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:36:52341 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 34.3556ms
[30-06-2024 19:36:52342 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 30.8732ms
[30-06-2024 19:36:52322 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 17.3668ms
[30-06-2024 19:36:52330 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:52327 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:36:52346 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:36:52347 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:52365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:36:52362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 45.771ms
[30-06-2024 19:36:52323 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 18.3695ms
[30-06-2024 19:36:52346 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:36:52367 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:52370 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:52372 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:52374 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:52385 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:36:52386 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:52387 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:52387 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:36:52389 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:52390 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:36:52390 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:36:52392 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:36:52393 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:36:52395 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:36:52396 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:36:52400 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:36:52405 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 19:36:52398 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:36:52408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:36:52554 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("135"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 19:36:52555 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("126"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 19:36:52554 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("146"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 19:36:52593 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A transport-level error has occurred when receiving results from the server. (provider: Session Provider, error: 19 - Physical connection is not usable)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3283a8d8-1b50-4900-b8ad-e9987ce79c04
Error Number:-1,State:0,Class:20"
Microsoft.Data.SqlClient.SqlException (0x80131904): A transport-level error has occurred when receiving results from the server. (provider: Session Provider, error: 19 - Physical connection is not usable)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3283a8d8-1b50-4900-b8ad-e9987ce79c04
Error Number:-1,State:0,Class:20
[30-06-2024 19:37:13034 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 19:37:13414 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 19:37:13417 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 19:37:13420 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 19:37:13422 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 19:37:13423 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 19:37:14395 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 19:37:14958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 574.781ms
[30-06-2024 19:37:15030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 19:37:15030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 19:37:15056 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 25.5101ms
[30-06-2024 19:37:15185 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 155.3534ms
[30-06-2024 19:37:15413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 19:37:15824 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 412.3558ms
[30-06-2024 19:46:24063 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 19:46:24671 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 19:46:24681 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 19:46:24686 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 19:46:24689 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 19:46:24690 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 19:46:25816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 19:46:26279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 475.9376ms
[30-06-2024 19:46:26312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 19:46:26321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 19:46:26340 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 27.475ms
[30-06-2024 19:46:26445 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 123.3533ms
[30-06-2024 19:46:26626 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 19:46:26977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 351.5767ms
[30-06-2024 19:55:47241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:55:47241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:55:47241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:55:47241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:55:47650 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:55:47651 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:55:47651 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:55:47651 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:55:47672 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 477.5883ms
[30-06-2024 19:55:47672 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 477.5867ms
[30-06-2024 19:55:47672 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 477.6843ms
[30-06-2024 19:55:47672 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 477.5463ms
[30-06-2024 19:55:48606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:55:48607 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:55:48608 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:55:48608 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:55:48641 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:55:48641 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:55:48641 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:55:48641 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:55:49034 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:55:49034 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:55:49034 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:55:49034 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:55:49041 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:55:49041 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:55:49041 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:55:49041 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:55:49130 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:55:49130 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:55:49130 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 19:55:49130 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:55:50712 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:55:50715 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:55:50718 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:55:50720 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 19:55:52847 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("226"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 19:55:52847 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("222"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 19:55:52847 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("226"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 19:55:52847 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("178"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 19:55:52902 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 19:55:52923 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:55:52964 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 19:55:53111 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 3968.0087ms
[30-06-2024 19:55:53115 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:55:53136 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 4529.5482ms
[30-06-2024 19:55:53144 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 4002.921ms
[30-06-2024 19:55:53172 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:55:53174 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:55:53176 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:55:53184 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 4577.9495ms
[30-06-2024 19:55:53263 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 4125.0284ms
[30-06-2024 19:55:53263 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 4117.3773ms
[30-06-2024 19:55:53267 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:55:53269 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:55:53272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 4666.1124ms
[30-06-2024 19:55:53276 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 4670.3149ms
[30-06-2024 19:56:06016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 19:56:06022 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:06024 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 8.4568ms
[30-06-2024 19:56:06030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 19:56:06036 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:06042 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:56:06043 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 19:56:06065 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 19:56:06329 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 19:56:06846 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 19:56:06895 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 19:56:06901 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 833.4742ms
[30-06-2024 19:56:06903 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 19:56:06906 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 877.1203ms
[30-06-2024 19:56:06929 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:56:06941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:56:06941 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:56:06937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:56:06943 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:56:06946 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:06950 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:06954 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:06957 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:06961 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:06962 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 33.1394ms
[30-06-2024 19:56:06964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 22.3732ms
[30-06-2024 19:56:06967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 28.5364ms
[30-06-2024 19:56:06965 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 23.6936ms
[30-06-2024 19:56:06971 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 19:56:06966 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 29.2974ms
[30-06-2024 19:56:06971 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 19:56:06972 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 19:56:06973 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 19:56:06979 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 19:56:06994 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:07001 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:07004 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:07007 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:07011 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:07015 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:56:07015 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:56:07015 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:56:07015 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:56:07016 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:56:07017 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:56:07018 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:56:07019 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:56:07020 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:56:07021 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:56:07024 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 19:56:07026 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:56:07027 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:56:07028 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 19:56:07028 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:56:07081 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("44"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 19:56:07090 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("52"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 19:56:07085 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("40"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 19:56:07085 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 19:56:07096 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 19:56:07099 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:56:07110 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:56:07112 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 19:56:07115 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 84.1596ms
[30-06-2024 19:56:07119 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 85.7581ms
[30-06-2024 19:56:07122 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 19:56:07122 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 85.9336ms
[30-06-2024 19:56:07124 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 19:56:07127 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 19:56:07129 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 82.6351ms
[30-06-2024 19:56:07131 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 19:56:07133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 160.7427ms
[30-06-2024 19:56:07132 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 19:56:07134 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 163.0166ms
[30-06-2024 19:56:07136 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 19:56:07137 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 163.7922ms
[30-06-2024 19:56:07156 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:56:07158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 179.1021ms
[30-06-2024 19:56:07165 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 123.9828ms
[30-06-2024 19:56:07170 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 19:56:07172 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 904 "application/json; charset=utf-8" 201.0496ms
[30-06-2024 19:56:10504 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:56:10513 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:10515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 11.3278ms
[30-06-2024 19:56:10519 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:56:10530 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:10532 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:56:10533 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:56:10543 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 19:56:10619 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 19:56:10658 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:56:10688 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 141.3925ms
[30-06-2024 19:56:10690 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:56:10692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20966 "application/json; charset=utf-8" 173.0859ms
[30-06-2024 19:56:16282 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:56:16290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:16291 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 10.0507ms
[30-06-2024 19:56:16294 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:56:16300 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:16301 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:56:16303 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:56:16305 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 19:56:16331 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 19:56:16341 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:56:16353 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 45.4305ms
[30-06-2024 19:56:16356 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:56:16357 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20966 "application/json; charset=utf-8" 63.3441ms
[30-06-2024 19:56:18266 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 19:56:18269 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:18271 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 5.1506ms
[30-06-2024 19:56:18274 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 34
[30-06-2024 19:56:18281 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:56:18283 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:56:18284 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 19:56:18294 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 19:56:18357 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 19:56:18589 +03:00 BooksApiApp.Services.UserService ] "You cannot purchase your own book.""   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 34"
[30-06-2024 19:56:18703 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while processing the request
System.InvalidOperationException: You cannot purchase your own book.
   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 34
   at BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase(PurchaseRequestDTO request) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 45
[30-06-2024 19:56:18773 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 476.9464ms
[30-06-2024 19:56:18778 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 19:56:18954 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 500 null "application/json" 680.4999ms
[30-06-2024 19:57:54403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:57:54417 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:57:54419 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 15.3951ms
[30-06-2024 19:57:54422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 19:57:54426 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 19:57:54428 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 19:57:54429 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:57:54431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 19:57:54620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("131"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 19:57:54633 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 19:57:54651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 218.0148ms
[30-06-2024 19:57:54654 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 19:57:54656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20966 "application/json; charset=utf-8" 233.7681ms
[30-06-2024 20:02:57436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:02:57712 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:02:57726 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 365.0434ms
[30-06-2024 20:02:57738 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:02:57875 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:02:57882 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:02:57886 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:02:57896 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 20:02:58088 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("54"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 20:02:58103 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:02:58121 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 222.1586ms
[30-06-2024 20:02:58123 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:02:58125 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20966 "application/json; charset=utf-8" 386.5563ms
[30-06-2024 20:04:11010 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:04:11018 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:04:11019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 9.9244ms
[30-06-2024 20:04:11025 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:04:11038 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:04:11039 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:04:11041 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:04:11043 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 20:04:11294 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("246"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 20:04:11300 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:04:11307 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 261.0408ms
[30-06-2024 20:04:11317 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:04:11319 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20966 "application/json; charset=utf-8" 296.3767ms
[30-06-2024 20:04:13157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 20:04:13161 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:04:13163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 6.5597ms
[30-06-2024 20:04:13166 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 34
[30-06-2024 20:04:13176 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:04:13180 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:04:13182 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 20:04:13183 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:04:13245 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 20:04:13313 +03:00 BooksApiApp.Services.UserService ] "You cannot purchase your own book.""   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 34"
[30-06-2024 20:04:13401 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while processing the request
System.InvalidOperationException: You cannot purchase your own book.
   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 34
   at BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase(PurchaseRequestDTO request) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 45
[30-06-2024 20:04:13460 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 273.1579ms
[30-06-2024 20:04:13464 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 20:04:13563 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 500 null "application/json" 397.7448ms
[30-06-2024 20:10:57359 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 20:10:57840 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 20:10:57842 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 20:10:57845 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 20:10:57847 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 20:10:57848 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 20:10:58814 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 20:10:59304 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 501.9436ms
[30-06-2024 20:10:59328 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 20:10:59328 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 20:10:59347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 19.1034ms
[30-06-2024 20:10:59422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 94.7583ms
[30-06-2024 20:10:59561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 20:10:59905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 345.4026ms
[30-06-2024 20:11:24846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:11:24846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:11:24851 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:11:24862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:11:24853 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:11:24901 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:24901 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:24901 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:24903 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:24910 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:24915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 66.2693ms
[30-06-2024 20:11:24915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 69.1464ms
[30-06-2024 20:11:24917 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 74.6357ms
[30-06-2024 20:11:24928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:11:24918 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 64.3322ms
[30-06-2024 20:11:24921 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 67.4121ms
[30-06-2024 20:11:24924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:11:24926 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:11:24924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:11:24933 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:11:24946 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:24960 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:24962 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:24965 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:24972 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:25215 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:11:25215 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:11:25215 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:11:25215 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:11:25215 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:11:25221 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:11:25221 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:11:25221 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:11:25221 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:11:25222 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:11:25267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:11:25267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:11:25267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:11:25267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:11:25267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:11:26734 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:11:26736 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:11:26738 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:11:26740 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:11:28370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("187"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:11:28370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("187"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:11:28370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("187"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:11:28370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("187"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:11:28370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("187"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:11:28427 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:11:28440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:11:28482 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:11:28588 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 3302.6115ms
[30-06-2024 20:11:28619 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 3345.7551ms
[30-06-2024 20:11:28637 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:11:28638 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:11:28638 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:11:28642 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:11:28647 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:11:28691 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 3767.5043ms
[30-06-2024 20:11:28696 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 3767.77ms
[30-06-2024 20:11:28724 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 3443.1596ms
[30-06-2024 20:11:28724 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 3453.3248ms
[30-06-2024 20:11:28724 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 3448.5201ms
[30-06-2024 20:11:28727 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:11:28730 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:11:28732 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:11:28733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 904 "application/json; charset=utf-8" 3809.0795ms
[30-06-2024 20:11:28737 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 3803.8571ms
[30-06-2024 20:11:28738 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 3812.6452ms
[30-06-2024 20:11:31052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:11:31059 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:31060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 10.9845ms
[30-06-2024 20:11:31064 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:11:31071 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:31076 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:11:31077 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:11:31087 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 20:11:31258 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 20:11:31285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:11:31319 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 230.3234ms
[30-06-2024 20:11:31321 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:11:31322 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20966 "application/json; charset=utf-8" 258.5621ms
[30-06-2024 20:11:40029 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:11:40036 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:40038 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 8.8108ms
[30-06-2024 20:11:40041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:11:40047 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:40049 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:11:40053 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:11:40058 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 20:11:40123 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("50"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 20:11:40145 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:11:40159 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 96.0337ms
[30-06-2024 20:11:40165 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:11:40168 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20966 "application/json; charset=utf-8" 126.8464ms
[30-06-2024 20:11:41281 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 20:11:41289 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:41291 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 10.6496ms
[30-06-2024 20:11:41295 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 34
[30-06-2024 20:11:41306 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:41312 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:11:41315 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 20:11:41346 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:11:41618 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 20:11:42022 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("61"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SALE_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[30-06-2024 20:11:42103 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:11:42106 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 753.7216ms
[30-06-2024 20:11:42108 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 20:11:42110 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 200 41 "application/json; charset=utf-8" 815.2855ms
[30-06-2024 20:11:44759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:11:44763 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:11:44767 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:11:44769 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:11:44771 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 20:11:56209 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11,433"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 20:11:56222 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:11:56228 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 11453.4258ms
[30-06-2024 20:11:56231 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:11:56233 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20408 "application/json; charset=utf-8" 11475.0959ms
[30-06-2024 20:13:13144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:13:13144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:13:13148 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:13:13380 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:13371 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:13:13403 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:13406 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:13407 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 263.579ms
[30-06-2024 20:13:13422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 277.4219ms
[30-06-2024 20:13:13423 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 274.8237ms
[30-06-2024 20:13:13421 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:13380 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:13:13439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 69.0594ms
[30-06-2024 20:13:13410 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:13:13426 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:13:13426 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:13:13442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:13:13442 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:13449 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:13451 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:13458 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:13459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 78.7466ms
[30-06-2024 20:13:13461 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:13470 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:13463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:13:13463 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:13464 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:13454 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:13471 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:13:13475 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:13476 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:13477 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:13:13482 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:13487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:13:13483 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:13:13478 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:13490 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:13:13498 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:13:13500 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:13:13505 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:13:13508 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:13:13514 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:13:13522 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:13:13522 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:13526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:13530 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:13531 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 50.7471ms
[30-06-2024 20:13:13535 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 39.318ms
[30-06-2024 20:13:13541 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:13543 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 50.6576ms
[30-06-2024 20:13:13543 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:13:13544 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:13545 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:13:13547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 904 "application/json; charset=utf-8" 136.3147ms
[30-06-2024 20:13:13549 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:13:13555 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:13:13557 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 130.9335ms
[30-06-2024 20:13:13565 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:13:13572 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 9130 "application/json; charset=utf-8" 130.35ms
[30-06-2024 20:13:13578 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:13:13590 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 77.3802ms
[30-06-2024 20:13:13597 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 88.8824ms
[30-06-2024 20:13:13599 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:13:13600 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:13:13604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 141.305ms
[30-06-2024 20:13:13602 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 175.8399ms
[30-06-2024 20:13:32461 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 20:13:32468 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:32470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 8.8183ms
[30-06-2024 20:13:32475 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[30-06-2024 20:13:32485 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:32486 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:32488 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 20:13:32496 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 20:13:33076 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("546"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 20:13:33488 +03:00 BooksApiApp.Services.UserService ] {Message}User: "dfas" found and returned
[30-06-2024 20:13:33530 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 20:13:33535 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 1036.7306ms
[30-06-2024 20:13:33538 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 20:13:33540 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 583 "application/json; charset=utf-8" 1064.9359ms
[30-06-2024 20:13:33581 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:13:33586 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:33588 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:13:33589 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 8.5069ms
[30-06-2024 20:13:33597 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:13:33597 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:13:33645 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:33606 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:13:33611 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:13:33647 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 50.0447ms
[30-06-2024 20:13:33658 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:13:33666 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:33631 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:33591 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:33649 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:33696 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:33697 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 85.9175ms
[30-06-2024 20:13:33715 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:13:33715 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:33700 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:33714 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 126.168ms
[30-06-2024 20:13:33713 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 110.9476ms
[30-06-2024 20:13:33720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:13:33720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:13:33741 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:33725 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:13:33726 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:33739 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:33724 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:33743 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:33744 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:13:33745 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:13:33748 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:33747 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:33760 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:13:33762 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:33749 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:13:33767 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:13:33772 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:13:33773 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:13:33787 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:13:33798 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:13:33810 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:13:33812 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:33815 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:33816 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:13:33821 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:13:33823 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 64.3471ms
[30-06-2024 20:13:33824 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 69.3232ms
[30-06-2024 20:13:33828 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:33829 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 51.8662ms
[30-06-2024 20:13:33833 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:33837 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:13:33839 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 45.5463ms
[30-06-2024 20:13:33854 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:33840 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:13:33843 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1810 "application/json; charset=utf-8" 248.1643ms
[30-06-2024 20:13:33848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2852 "application/json; charset=utf-8" 190.9237ms
[30-06-2024 20:13:33840 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("40"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:13:33859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2397 "application/json; charset=utf-8" 138.9989ms
[30-06-2024 20:13:33863 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 147.871ms
[30-06-2024 20:13:33942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:33953 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 158.5496ms
[30-06-2024 20:13:33956 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:13:33958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2833 "application/json; charset=utf-8" 238.9081ms
[30-06-2024 20:13:41629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[30-06-2024 20:13:41632 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:41634 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 5.3415ms
[30-06-2024 20:13:41636 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 1
[30-06-2024 20:13:41641 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:41643 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:41644 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 20:13:41650 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:13:41657 +03:00 BooksApiApp.Services.UserService ] Attempting to approve sale for BookId: 6, SellerId: 21
[30-06-2024 20:13:41689 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 20:13:41694 +03:00 BooksApiApp.Services.UserService ] BookForSale found for BookId: 6, SellerId: 21
[30-06-2024 20:13:41709 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SALE_ID] = @__bookForSaleId_0"
[30-06-2024 20:13:41713 +03:00 BooksApiApp.Services.UserService ] ApprovalSale found for BookForSaleId: 20
[30-06-2024 20:13:41715 +03:00 BooksApiApp.Services.UserService ] Creating BookReadyForTrading entry for BookId: 6, SellerId: 21
[30-06-2024 20:13:41797 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SALE]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BOOK_READY_FOR_TRADING] ([AUTHOR], [BOOK_CATEGORY], [BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [DESCRIPTION], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TITLE], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[30-06-2024 20:13:41812 +03:00 BooksApiApp.Services.UserService ] Approved sale for BookId: 6, SellerId: 21
[30-06-2024 20:13:41814 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:13:41816 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 163.0501ms
[30-06-2024 20:13:41817 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 20:13:41819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 200 33 "application/json; charset=utf-8" 183.5555ms
[30-06-2024 20:13:52341 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 20:13:52347 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 9.473ms
[30-06-2024 20:13:52354 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 20:13:52363 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52365 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:52372 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 20:13:52375 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 20:13:52394 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 20:13:52606 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 20:13:52609 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 20:13:52612 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 232.4639ms
[30-06-2024 20:13:52614 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 20:13:52615 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 261.955ms
[30-06-2024 20:13:52670 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:13:52675 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52677 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 7.6305ms
[30-06-2024 20:13:52680 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:13:52681 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:13:52689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:13:52694 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52690 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52696 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:13:52707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:13:52702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 22.5296ms
[30-06-2024 20:13:52699 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52706 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:13:52711 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52701 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:52707 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52718 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 29.534ms
[30-06-2024 20:13:52726 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:52733 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:13:52727 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:52721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:13:52728 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 32.5804ms
[30-06-2024 20:13:52724 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52755 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:52759 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52773 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:13:52761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:13:52775 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:52765 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52788 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:13:52775 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:13:52771 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 65.8163ms
[30-06-2024 20:13:52795 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:52796 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:13:52800 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:13:52802 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:13:52813 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:13:52804 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:13:52824 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:52828 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:52830 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:13:52832 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:13:52841 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 62.6686ms
[30-06-2024 20:13:52843 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 58.4718ms
[30-06-2024 20:13:52849 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:13:52855 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:52855 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:13:52858 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:13:52860 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:13:52862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 155.8814ms
[30-06-2024 20:13:52878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 904 "application/json; charset=utf-8" 196.9707ms
[30-06-2024 20:13:52876 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:52889 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("39"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:13:52931 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 114.8481ms
[30-06-2024 20:13:52937 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:13:52939 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:13:52942 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:13:52955 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:13:52958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 224.1162ms
[30-06-2024 20:13:52958 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:13:52963 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 115.2997ms
[30-06-2024 20:13:52989 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:13:52992 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 98.6446ms
[30-06-2024 20:13:52999 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 278.4578ms
[30-06-2024 20:13:53004 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:13:53027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 897 "application/json; charset=utf-8" 252.8651ms
[30-06-2024 20:14:01107 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[30-06-2024 20:14:01113 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:14:01116 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 10.0278ms
[30-06-2024 20:14:01119 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 12
[30-06-2024 20:14:01130 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:14:01133 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:14:01135 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:14:01148 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:14:01178 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[30-06-2024 20:14:01231 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 77.8157ms
[30-06-2024 20:14:01234 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:14:01237 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 400 296 "application/problem+json; charset=utf-8" 118.7736ms
[30-06-2024 20:27:31830 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 20:27:32652 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 20:27:32658 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 20:27:32664 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 20:27:32667 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 20:27:32669 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 20:27:34079 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 20:27:34799 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 737.9497ms
[30-06-2024 20:27:35360 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 20:27:35361 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 20:27:35416 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 45.0419ms
[30-06-2024 20:27:35519 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 159.8657ms
[30-06-2024 20:27:35737 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 20:27:36258 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 521.6047ms
[30-06-2024 20:31:11977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 20:31:12046 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:12052 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 84.0895ms
[30-06-2024 20:31:12058 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 20:31:12068 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:12394 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:31:12400 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 20:31:12493 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 20:31:14197 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:31:14200 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:31:14202 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:31:14204 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:31:15695 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("103"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 20:31:17228 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 20:31:17280 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 20:31:17332 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 4831.4446ms
[30-06-2024 20:31:17336 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 20:31:17351 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 5294.2006ms
[30-06-2024 20:31:17392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:31:17393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:31:17400 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:31:17420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:31:17398 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:17426 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:17437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:31:17447 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:17442 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:17446 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 53.9289ms
[30-06-2024 20:31:17471 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 50.8738ms
[30-06-2024 20:31:17474 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 74.1509ms
[30-06-2024 20:31:17449 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 56.1211ms
[30-06-2024 20:31:17462 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:17452 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:31:17479 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:31:17493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 56.0054ms
[30-06-2024 20:31:17463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:31:17477 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:31:17496 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:31:17502 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:17502 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:17507 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:17509 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:17514 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:31:17527 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:31:17527 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:31:17527 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:31:17527 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:31:17527 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:31:17528 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:31:17529 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:31:17530 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:31:17531 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:31:17532 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:31:17540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:31:17540 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:31:17542 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:31:17543 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:31:17547 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:31:17855 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:31:17855 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:31:17855 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:31:17899 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("55"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:31:17956 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("90"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:31:17965 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:31:17971 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:31:17973 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 420.6166ms
[30-06-2024 20:31:17974 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:31:17976 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 498.1509ms
[30-06-2024 20:31:18021 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:31:18021 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:31:18021 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:31:18064 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:31:18097 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 553.4733ms
[30-06-2024 20:31:18101 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:31:18102 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 897 "application/json; charset=utf-8" 606.3398ms
[30-06-2024 20:31:18114 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 555.0906ms
[30-06-2024 20:31:18114 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 567.651ms
[30-06-2024 20:31:18114 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 564.5148ms
[30-06-2024 20:31:18116 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:31:18117 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:31:18120 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:31:18122 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 647.2734ms
[30-06-2024 20:31:18124 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 904 "application/json; charset=utf-8" 671.3794ms
[30-06-2024 20:31:18125 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 662.3458ms
[30-06-2024 20:31:30095 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json-patch+json" 1
[30-06-2024 20:31:30101 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[30-06-2024 20:31:30104 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[30-06-2024 20:31:30109 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:31:30111 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:31:30122 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:31:30172 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__buyerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[BUYER_ID] = @__buyerId_1"
[30-06-2024 20:31:30477 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BOOK_READY_FOR_TRADING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [SALE] ([BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[30-06-2024 20:31:30533 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:31:30543 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 417.9057ms
[30-06-2024 20:31:30544 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:31:30546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 200 40 "application/json; charset=utf-8" 451.3488ms
[30-06-2024 20:32:19395 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:32:19396 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:32:19472 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:19398 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:32:19518 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:19518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 120.711ms
[30-06-2024 20:32:19437 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:32:19499 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:19501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 105.2539ms
[30-06-2024 20:32:19455 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:32:19547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:32:19548 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:19549 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 152.972ms
[30-06-2024 20:32:19583 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:32:19599 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:32:19569 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 132.1003ms
[30-06-2024 20:32:19564 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:19567 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:19635 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:19639 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:19645 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 190.443ms
[30-06-2024 20:32:19589 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:32:19650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:32:19654 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:32:19661 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:32:19663 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:32:19670 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:19677 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:19678 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:32:19687 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:32:19699 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:32:19701 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:32:19702 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:32:19709 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:32:19715 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:32:19720 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:32:19729 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:32:19721 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:32:19867 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:32:19863 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:32:19868 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:32:19882 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("62"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:32:19916 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:32:19940 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 110.8334ms
[30-06-2024 20:32:19921 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("51"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:32:19921 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:32:19937 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:32:19819 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("62"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:32:19943 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:32:19949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:32:19967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:32:19967 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:32:19971 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:32:19972 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 373.2984ms
[30-06-2024 20:32:19977 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 109.1362ms
[30-06-2024 20:32:19979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 96.6724ms
[30-06-2024 20:32:19979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 160.6693ms
[30-06-2024 20:32:19982 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 235.3422ms
[30-06-2024 20:32:19988 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:32:19995 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:32:19997 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:32:20002 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:32:20004 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 414.968ms
[30-06-2024 20:32:20008 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 359.0398ms
[30-06-2024 20:32:20010 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 427.441ms
[30-06-2024 20:32:20012 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1838 "application/json; charset=utf-8" 465.7293ms
[30-06-2024 20:32:23544 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:32:23692 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:23706 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 154.6647ms
[30-06-2024 20:32:23716 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:32:23739 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:23755 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:32:23756 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:32:23764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 20:32:23885 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("61"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 20:32:23932 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:32:23986 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 216.5129ms
[30-06-2024 20:32:23991 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:32:23995 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20408 "application/json; charset=utf-8" 278.3589ms
[30-06-2024 20:32:27538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:32:27545 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:32:27547 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:32:27550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:32:27552 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 20:32:27574 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 20:32:27585 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:32:27592 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 37.3423ms
[30-06-2024 20:32:27594 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:32:27596 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 20408 "application/json; charset=utf-8" 57.3168ms
[30-06-2024 20:34:57685 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 20:34:57712 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:34:57714 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 29.7662ms
[30-06-2024 20:34:57807 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 33
[30-06-2024 20:34:57823 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:34:57826 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:34:57828 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 20:34:57840 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:34:57901 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 20:34:57984 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SALE_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[30-06-2024 20:34:58004 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:34:58007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 163.8068ms
[30-06-2024 20:34:58012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 20:34:58015 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 200 41 "application/json; charset=utf-8" 207.6732ms
[30-06-2024 20:35:02699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:35:02735 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:02737 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 41.3682ms
[30-06-2024 20:35:02742 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:35:02755 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:02757 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:02759 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:35:02762 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 20:35:02789 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 20:35:02799 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:35:02807 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 42.0054ms
[30-06-2024 20:35:02814 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:35:02816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 74.4094ms
[30-06-2024 20:35:12666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 20:35:12671 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:12673 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 8.13ms
[30-06-2024 20:35:12676 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 57
[30-06-2024 20:35:12684 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:12686 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:12688 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 20:35:12690 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 20:35:12707 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 20:35:13119 +03:00 BooksApiApp.Services.UserService ] {Message}User: "kat" found and returned
[30-06-2024 20:35:13122 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 20:35:13125 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 431.9589ms
[30-06-2024 20:35:13127 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 20:35:13128 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 572 "application/json; charset=utf-8" 452.7561ms
[30-06-2024 20:35:13180 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:35:13186 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:13188 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:35:13188 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 8.2295ms
[30-06-2024 20:35:13194 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:35:13192 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:13191 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:35:13208 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:35:13261 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:13263 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 75.6011ms
[30-06-2024 20:35:13275 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 81.1644ms
[30-06-2024 20:35:13269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:35:13266 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:13273 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:13207 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:35:13307 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:13310 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:13312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 104.0497ms
[30-06-2024 20:35:13280 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:35:13316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:35:13320 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:13322 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:13345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:35:13337 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:13347 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:35:13323 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:35:13350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:35:13343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 136.8421ms
[30-06-2024 20:35:13349 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:13342 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:13369 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:35:13373 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:13381 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:35:13390 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:13391 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:35:13395 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:35:13383 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:13397 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:35:13403 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:35:13412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:35:13407 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:35:13421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:35:13413 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:35:13418 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 61.1197ms
[30-06-2024 20:35:13440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:35:13442 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:35:13445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 56.5388ms
[30-06-2024 20:35:13448 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 1876 "application/json; charset=utf-8" 179.1468ms
[30-06-2024 20:35:13451 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:35:13460 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2520 "application/json; charset=utf-8" 269.9786ms
[30-06-2024 20:35:13510 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("88"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:35:13510 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("102"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:35:13510 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("78"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:35:13523 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 3
[30-06-2024 20:35:13529 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:35:13535 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:35:13537 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:35:13541 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 134.7523ms
[30-06-2024 20:35:13543 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 113.8355ms
[30-06-2024 20:35:13546 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 125.8263ms
[30-06-2024 20:35:13550 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:35:13553 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:35:13556 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:35:13559 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2865 "application/json; charset=utf-8" 279.2617ms
[30-06-2024 20:35:13562 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 246.7716ms
[30-06-2024 20:35:13564 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 215.127ms
[30-06-2024 20:35:16439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[30-06-2024 20:35:16445 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:16447 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 8.4625ms
[30-06-2024 20:35:16450 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 1
[30-06-2024 20:35:16460 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:16462 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:16463 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 20:35:16471 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:35:16481 +03:00 BooksApiApp.Services.UserService ] Attempting to approve sale for BookId: 2, SellerId: 3
[30-06-2024 20:35:16514 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 20:35:16519 +03:00 BooksApiApp.Services.UserService ] BookForSale found for BookId: 2, SellerId: 3
[30-06-2024 20:35:16542 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SALE_ID] = @__bookForSaleId_0"
[30-06-2024 20:35:16547 +03:00 BooksApiApp.Services.UserService ] ApprovalSale found for BookForSaleId: 2
[30-06-2024 20:35:16550 +03:00 BooksApiApp.Services.UserService ] Creating BookReadyForTrading entry for BookId: 2, SellerId: 3
[30-06-2024 20:35:16580 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SALE]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BOOK_READY_FOR_TRADING] ([AUTHOR], [BOOK_CATEGORY], [BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [DESCRIPTION], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TITLE], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[30-06-2024 20:35:16589 +03:00 BooksApiApp.Services.UserService ] Approved sale for BookId: 2, SellerId: 3
[30-06-2024 20:35:16591 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:35:16593 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 117.3557ms
[30-06-2024 20:35:16595 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 20:35:16597 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 200 33 "application/json; charset=utf-8" 146.9774ms
[30-06-2024 20:35:25338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 20:35:25343 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25345 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 7.4254ms
[30-06-2024 20:35:25347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 20:35:25353 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25354 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:25356 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 20:35:25358 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 20:35:25371 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 20:35:25597 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 20:35:25599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 20:35:25602 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 240.8801ms
[30-06-2024 20:35:25604 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 20:35:25607 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 260.0782ms
[30-06-2024 20:35:25650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:35:25654 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 6.8285ms
[30-06-2024 20:35:25660 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:35:25660 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:35:25667 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:35:25669 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25675 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:35:25681 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:35:25680 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 21.3211ms
[30-06-2024 20:35:25679 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25676 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25684 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:35:25707 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25686 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25697 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 29.7911ms
[30-06-2024 20:35:25691 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25723 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 42.1646ms
[30-06-2024 20:35:25708 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:25710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 35.6507ms
[30-06-2024 20:35:25729 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:35:25718 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:35:25702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:35:25699 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:25731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:35:25737 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:35:25742 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25745 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25753 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:35:25758 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:25762 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:25749 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:35:25763 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:35:25765 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:35:25766 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:35:25773 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:35:25769 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:35:25772 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:35:25768 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:35:25780 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:35:25778 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:35:25773 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:35:25802 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 45.3631ms
[30-06-2024 20:35:25810 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:35:25816 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:35:25821 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:35:25822 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:35:25824 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 140.4861ms
[30-06-2024 20:35:25833 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:35:25835 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 46.9403ms
[30-06-2024 20:35:25848 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 56.5751ms
[30-06-2024 20:35:25849 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:35:25858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1838 "application/json; charset=utf-8" 197.8288ms
[30-06-2024 20:35:25855 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:35:25868 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("84"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:35:25877 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 888 "application/json; charset=utf-8" 147.0636ms
[30-06-2024 20:35:25878 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("65"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:35:25913 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:35:25936 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:35:25942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 158.5848ms
[30-06-2024 20:35:25943 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:35:25946 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:35:25949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 137.9067ms
[30-06-2024 20:35:25951 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 233.6382ms
[30-06-2024 20:35:25953 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:35:25968 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 265.1025ms
[30-06-2024 20:37:20101 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[30-06-2024 20:37:20112 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:37:20113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 12.8848ms
[30-06-2024 20:37:20118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 12
[30-06-2024 20:37:20122 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:37:20124 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:37:20125 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:37:20127 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:37:20151 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[30-06-2024 20:37:20196 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 66.0994ms
[30-06-2024 20:37:20198 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:37:20199 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 400 296 "application/problem+json; charset=utf-8" 81.2704ms
[30-06-2024 20:43:00778 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 20:43:01368 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 20:43:01370 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 20:43:01374 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 20:43:01376 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 20:43:01377 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 20:43:03232 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 20:43:03931 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 715.5189ms
[30-06-2024 20:43:03979 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 20:43:03985 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 20:43:04074 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 88.3305ms
[30-06-2024 20:43:04238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 263.3776ms
[30-06-2024 20:43:04406 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 20:43:04829 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 423.5882ms
[30-06-2024 20:43:22424 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:43:22453 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:22457 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 33.6949ms
[30-06-2024 20:43:22463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 20:43:22472 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:22721 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:43:22727 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:43:22770 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 20:43:24181 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:43:24184 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:43:24188 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:43:24190 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 20:43:25736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("137"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 20:43:26036 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:43:26275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 3496.4725ms
[30-06-2024 20:43:26278 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 20:43:26298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 3834.402ms
[30-06-2024 20:43:28620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:43:28620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:43:28624 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:43:28630 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:43:28630 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:28635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:43:28649 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:28645 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 25.7434ms
[30-06-2024 20:43:28680 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 50.3793ms
[30-06-2024 20:43:28679 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:28639 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:28634 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:28665 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:43:28712 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:43:28706 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 71.491ms
[30-06-2024 20:43:28709 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 85.1025ms
[30-06-2024 20:43:28710 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 90.4855ms
[30-06-2024 20:43:28692 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:43:28714 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:43:28714 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:43:28716 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:28722 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:28748 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:28752 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:28758 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:28776 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:43:28776 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:43:28776 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:43:28776 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:43:28776 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:43:28777 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:43:28778 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:43:28779 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:43:28781 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:43:28782 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:43:28792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:43:28792 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:43:28795 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:43:28798 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:43:28799 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:43:29081 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("80"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:43:29081 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("93"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:43:29081 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("94"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:43:29082 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("79"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:43:29082 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("61"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:43:29110 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:43:29114 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:43:29118 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 321.4521ms
[30-06-2024 20:43:29121 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:43:29127 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 413.1631ms
[30-06-2024 20:43:29138 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:43:29138 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:43:29141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:43:29171 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:43:29186 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 386.8184ms
[30-06-2024 20:43:29190 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:43:29193 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 888 "application/json; charset=utf-8" 481.0606ms
[30-06-2024 20:43:29197 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 384.4948ms
[30-06-2024 20:43:29197 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 387.1564ms
[30-06-2024 20:43:29200 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:43:29200 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 397.6633ms
[30-06-2024 20:43:29211 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:43:29215 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1838 "application/json; charset=utf-8" 501.0667ms
[30-06-2024 20:43:29218 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:43:29220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 528.6475ms
[30-06-2024 20:43:29228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 567.9912ms
[30-06-2024 20:43:34894 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[30-06-2024 20:43:34901 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:34903 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 10.1406ms
[30-06-2024 20:43:34910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 12
[30-06-2024 20:43:34929 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:43:34935 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:43:34937 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:43:34962 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:43:35045 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[30-06-2024 20:43:35091 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 126.8999ms
[30-06-2024 20:43:35096 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:43:35099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 400 296 "application/problem+json; charset=utf-8" 188.3062ms
[30-06-2024 20:44:19195 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:44:19196 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:44:19195 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:44:19195 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:44:19195 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:44:19245 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:19245 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:19245 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:19245 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:19245 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:19254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 98.6725ms
[30-06-2024 20:44:19255 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 98.6098ms
[30-06-2024 20:44:19254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 69.6624ms
[30-06-2024 20:44:19254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 137.081ms
[30-06-2024 20:44:19285 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:44:19254 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 72.3713ms
[30-06-2024 20:44:19270 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:44:19271 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:44:19292 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:44:19310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:44:19361 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:19361 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:19366 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:19371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:19376 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:19411 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:44:19411 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:44:19411 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:44:19411 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:44:19411 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:44:19414 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:44:19416 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:44:19417 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:44:19419 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:44:19420 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:44:19440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:44:19440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:44:19440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:44:19440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:44:19440 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:44:19631 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("70"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:44:19631 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("73"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:44:19631 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("74"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:44:19632 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("74"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:44:19635 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("80"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:44:19654 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:44:19656 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:44:19656 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:44:19656 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:44:19656 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:44:19656 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:44:19669 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 211.541ms
[30-06-2024 20:44:19670 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 226.4766ms
[30-06-2024 20:44:19671 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 223.3788ms
[30-06-2024 20:44:19672 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:44:19672 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 220.9872ms
[30-06-2024 20:44:19674 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 219.8235ms
[30-06-2024 20:44:19676 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:44:19679 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:44:19683 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 397.313ms
[30-06-2024 20:44:19684 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:44:19686 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:44:19688 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 378.4533ms
[30-06-2024 20:44:19691 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 888 "application/json; charset=utf-8" 399.7149ms
[30-06-2024 20:44:19700 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1838 "application/json; charset=utf-8" 429.1523ms
[30-06-2024 20:44:19701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 431.3744ms
[30-06-2024 20:44:39464 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[30-06-2024 20:44:39468 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:39472 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 8.2311ms
[30-06-2024 20:44:39475 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 12
[30-06-2024 20:44:39484 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:44:39488 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:44:39490 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:44:39493 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:44:39520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[30-06-2024 20:44:39525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 29.0925ms
[30-06-2024 20:44:39528 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:44:39530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 400 296 "application/problem+json; charset=utf-8" 56.2392ms
[30-06-2024 20:47:08950 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:47:08963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:47:08980 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:47:08962 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:47:08981 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:47:08996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:09010 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:09100 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:09205 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:09231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 267.9708ms
[30-06-2024 20:47:09239 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:09239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 328.9245ms
[30-06-2024 20:47:09239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 284.9937ms
[30-06-2024 20:47:09241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 265.4634ms
[30-06-2024 20:47:09253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:47:09253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:47:09245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 269.0858ms
[30-06-2024 20:47:09259 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:47:09261 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:47:09261 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:47:09321 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:09321 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:09329 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:09334 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:09343 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:09353 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:47:09353 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:47:09353 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:47:09354 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:47:09353 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:47:09380 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:47:09381 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:47:09383 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:47:09384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:47:09385 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:47:09397 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:47:09397 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:47:09397 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:47:09397 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:47:09397 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:47:09568 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("81"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:47:09568 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("81"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:47:09569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("81"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:47:09569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("81"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:47:09569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("81"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:47:09586 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:47:09605 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:47:09607 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:47:09608 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:47:09610 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:47:09610 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:47:09627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 207.6092ms
[30-06-2024 20:47:09629 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 228.2762ms
[30-06-2024 20:47:09629 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 212.8127ms
[30-06-2024 20:47:09630 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 221.3796ms
[30-06-2024 20:47:09632 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:47:09635 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:47:09635 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 232.3973ms
[30-06-2024 20:47:09637 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:47:09641 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:47:09644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 888 "application/json; charset=utf-8" 384.9531ms
[30-06-2024 20:47:09646 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 392.8555ms
[30-06-2024 20:47:09647 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:47:09649 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 388.5689ms
[30-06-2024 20:47:09652 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1838 "application/json; charset=utf-8" 398.976ms
[30-06-2024 20:47:09676 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 415.7161ms
[30-06-2024 20:47:21886 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:47:21887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:47:21893 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:21894 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:47:21897 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:21902 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:47:21906 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 20.0715ms
[30-06-2024 20:47:21909 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:47:21914 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:21917 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:47:21899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 13.4789ms
[30-06-2024 20:47:21905 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:47:21904 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:21935 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:21937 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:47:21964 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:47:21941 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:21953 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:21959 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 66.0291ms
[30-06-2024 20:47:21974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:47:21967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:47:21967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:47:21969 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 51.6411ms
[30-06-2024 20:47:21966 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:47:21970 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 65.5159ms
[30-06-2024 20:47:21974 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:47:22005 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:22006 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:47:22008 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:47:22024 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:22035 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:47:22036 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:47:22051 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:47:22069 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:47:22075 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:47:22077 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:47:22078 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:47:22084 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:47:22086 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:47:22088 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:47:22106 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:47:22108 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("64"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:47:22131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:47:22138 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:47:22138 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 97.6595ms
[30-06-2024 20:47:22143 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 103.4782ms
[30-06-2024 20:47:22147 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:47:22151 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:47:22153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1838 "application/json; charset=utf-8" 250.8533ms
[30-06-2024 20:47:22153 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("59"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:47:22155 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 246.2244ms
[30-06-2024 20:47:22155 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("44"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:47:22158 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("54"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:47:22164 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:47:22175 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:47:22183 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:47:22186 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 94.1871ms
[30-06-2024 20:47:22189 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:47:22190 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 81.809ms
[30-06-2024 20:47:22191 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:47:22193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 98.2538ms
[30-06-2024 20:47:22197 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:47:22199 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 888 "application/json; charset=utf-8" 226.2401ms
[30-06-2024 20:47:22200 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:47:22202 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 228.4652ms
[30-06-2024 20:47:22206 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 241.1285ms
[30-06-2024 20:50:00919 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[30-06-2024 20:50:00934 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:50:00940 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 22.1902ms
[30-06-2024 20:50:00944 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 12
[30-06-2024 20:50:00951 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:50:00954 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:50:00955 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:50:00958 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:50:00977 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[30-06-2024 20:50:00980 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 19.769ms
[30-06-2024 20:50:00982 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:50:00984 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 400 296 "application/problem+json; charset=utf-8" 39.7785ms
[30-06-2024 20:53:15346 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:53:15350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:53:15350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:53:15346 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:53:15367 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:53:15355 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:53:15386 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:53:15389 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:53:15398 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 54.4854ms
[30-06-2024 20:53:15400 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 58.1779ms
[30-06-2024 20:53:15392 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:53:15396 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 53.7668ms
[30-06-2024 20:53:15397 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:53:15399 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:53:15420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 78.0559ms
[30-06-2024 20:53:15425 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 69.4839ms
[30-06-2024 20:53:15404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:53:15403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:53:15426 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:53:15428 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:53:15441 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:53:15442 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:53:15446 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:53:15449 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:53:15452 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:53:15463 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:53:15463 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:53:15463 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:53:15463 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:53:15467 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:53:15467 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:53:15468 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:53:15469 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:53:15470 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:53:15471 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:53:15478 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:53:15478 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:53:15478 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:53:15478 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:53:15479 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:53:15942 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("162"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:53:15942 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("175"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:53:15942 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("142"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:53:15942 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("166"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:53:15942 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("176"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:53:15952 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:53:15976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:53:15976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:53:15976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:53:15976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:53:15978 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:53:15983 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 495.3686ms
[30-06-2024 20:53:16004 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:53:15998 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 514.8824ms
[30-06-2024 20:53:15999 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 518.4001ms
[30-06-2024 20:53:15992 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 501.6434ms
[30-06-2024 20:53:16006 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 520.0883ms
[30-06-2024 20:53:16006 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 607.3377ms
[30-06-2024 20:53:16011 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:53:16012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:53:16016 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:53:16018 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:53:16026 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1838 "application/json; charset=utf-8" 622.9206ms
[30-06-2024 20:53:16028 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 625.2118ms
[30-06-2024 20:53:16029 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 888 "application/json; charset=utf-8" 603.5954ms
[30-06-2024 20:53:16030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 602.5365ms
[30-06-2024 20:56:18153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:56:18153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:56:18153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:56:18153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:56:18191 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:56:18324 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:18324 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:18324 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:18324 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:18324 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:18343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 337.8942ms
[30-06-2024 20:56:18339 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 320.2296ms
[30-06-2024 20:56:18336 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 329.733ms
[30-06-2024 20:56:18330 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 178.3258ms
[30-06-2024 20:56:18332 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 141.2372ms
[30-06-2024 20:56:18427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:56:18415 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:56:18377 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:56:18406 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:56:18427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:56:18473 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:18473 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:18474 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:18479 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:18480 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:18497 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:56:18497 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:56:18497 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:56:18497 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:56:18498 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:56:18499 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:56:18503 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:56:18501 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:56:18502 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:56:18499 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:56:18556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:56:18559 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:56:18559 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:56:18564 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:56:18564 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:56:19220 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("477"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:56:19220 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("472"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:56:19221 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("418"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:56:19221 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("472"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:56:19221 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("472"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:56:19243 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:56:19261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:56:19284 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:56:19285 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:56:19286 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:56:19292 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:56:19331 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 756.6288ms
[30-06-2024 20:56:19331 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 693.2884ms
[30-06-2024 20:56:19334 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:56:19337 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 888 "application/json; charset=utf-8" 910.5253ms
[30-06-2024 20:56:19356 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:56:19360 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 723.3045ms
[30-06-2024 20:56:19361 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 946.7618ms
[30-06-2024 20:56:19364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 726.4386ms
[30-06-2024 20:56:19364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 726.629ms
[30-06-2024 20:56:19368 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:56:19384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:56:19386 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:56:19387 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 1008.9881ms
[30-06-2024 20:56:19388 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1838 "application/json; charset=utf-8" 961.8614ms
[30-06-2024 20:56:19390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 1013.4154ms
[30-06-2024 20:56:38427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[30-06-2024 20:56:38431 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:38435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 5.9967ms
[30-06-2024 20:56:38436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 1
[30-06-2024 20:56:38443 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:38454 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:56:38455 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:56:38457 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:56:38619 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__buyerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[BUYER_ID] = @__buyerId_1"
[30-06-2024 20:56:38997 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("52"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BOOK_READY_FOR_TRADING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [SALE] ([BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[30-06-2024 20:56:39065 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:56:39089 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 629.8748ms
[30-06-2024 20:56:39091 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:56:39093 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 200 40 "application/json; charset=utf-8" 656.8143ms
[30-06-2024 20:56:43036 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:56:43041 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:43043 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 7.081ms
[30-06-2024 20:56:43046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:56:43053 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:56:43055 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:56:43056 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:56:43059 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:56:43078 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:56:43082 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:56:43084 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 22.4401ms
[30-06-2024 20:56:43086 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:56:43087 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 41.7947ms
[30-06-2024 20:57:09683 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[30-06-2024 20:57:09699 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:57:09701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 17.6171ms
[30-06-2024 20:57:09705 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 1
[30-06-2024 20:57:09712 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:57:09715 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:57:09717 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:57:09719 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:57:09736 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__buyerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[BUYER_ID] = @__buyerId_1"
[30-06-2024 20:57:10024 +03:00 BooksApiApp.Services.UserService ] "Book not found in the ready for trading list""   at BooksApiApp.Services.BookReadyForTradingService.ConfirmReceivedAsync(Int32 bookId, Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 44"
[30-06-2024 20:57:10153 +03:00 BooksApiApp.Controllers.BookReadyForTradingController ] An error occurred while confirming the reception of the book.
BooksApiApp.Services.Exceptions.BookNotFoundException: Book not found in the ready for trading list
   at BooksApiApp.Services.BookReadyForTradingService.ConfirmReceivedAsync(Int32 bookId, Int32 userId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\BookReadyForTradingService.cs:line 44
   at BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived(Int32 bookId) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\BookReadyForTradingController.cs:line 68
[30-06-2024 20:57:10164 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:57:10168 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 445.4157ms
[30-06-2024 20:57:10171 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 20:57:10174 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 500 null "text/plain; charset=utf-8" 469.6553ms
[30-06-2024 20:58:08993 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:58:08993 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:58:09035 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:58:09172 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:58:09201 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 208.4058ms
[30-06-2024 20:58:09191 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:58:09011 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:58:09008 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:58:09000 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:58:09231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 20:58:09270 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 234.8163ms
[30-06-2024 20:58:09286 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:58:09312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 20:58:09368 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 385.9254ms
[30-06-2024 20:58:09305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:58:09307 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 326.9426ms
[30-06-2024 20:58:09390 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:58:09414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 411.7657ms
[30-06-2024 20:58:09310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 20:58:09373 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:58:09386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 20:58:09422 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 20:58:09439 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:58:09481 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:58:09484 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:58:09488 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:58:09497 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 20:58:09499 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:58:09513 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 20:58:09503 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:58:09506 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:58:09508 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:58:09523 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:58:09520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:58:09522 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:58:09502 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 20:58:09525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:58:09530 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 20:58:09535 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:58:09550 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 20:58:09611 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("81"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 20:58:09630 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 20:58:09635 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("55"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 20:58:09644 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("74"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 20:58:09648 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 132.183ms
[30-06-2024 20:58:09662 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("96"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 20:58:09666 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("74"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 20:58:09672 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 20:58:09677 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 1
[30-06-2024 20:58:09678 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:58:09678 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:58:09682 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 20:58:09684 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 372.1874ms
[30-06-2024 20:58:09685 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 20:58:09700 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 140.2412ms
[30-06-2024 20:58:09700 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 159.7692ms
[30-06-2024 20:58:09700 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 173.2732ms
[30-06-2024 20:58:09714 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 20:58:09708 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 20:58:09710 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 20:58:09706 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 167.5418ms
[30-06-2024 20:58:09717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 485.8433ms
[30-06-2024 20:58:09722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 411.8189ms
[30-06-2024 20:58:09724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 3819 "application/json; charset=utf-8" 338.3702ms
[30-06-2024 20:58:09728 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 20:58:09761 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 338.748ms
[30-06-2024 23:47:41937 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[30-06-2024 23:47:42706 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[30-06-2024 23:47:42712 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[30-06-2024 23:47:42718 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[30-06-2024 23:47:42721 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[30-06-2024 23:47:42723 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksApiApp\BooksApiApp"
[30-06-2024 23:47:51796 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[30-06-2024 23:47:53830 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 2074.6246ms
[30-06-2024 23:47:56113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[30-06-2024 23:47:56113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[30-06-2024 23:47:56161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 48.1775ms
[30-06-2024 23:47:56356 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 244.2224ms
[30-06-2024 23:47:57235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[30-06-2024 23:47:57863 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 628.684ms
[30-06-2024 23:51:12471 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:51:12621 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:51:13029 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:51:13041 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:51:13175 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:51:16021 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"ApprovalSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 23:51:16024 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookForSale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 23:51:16028 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"BookReadyForTrading"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 23:51:16031 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] Entity '"User"' has a global query filter defined and is the required end of a relationship with the entity '"Sale"'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
[30-06-2024 23:51:19904 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("211"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:51:20692 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:51:21305 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 8112.1911ms
[30-06-2024 23:51:21314 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:51:21366 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 8912.7572ms
[30-06-2024 23:53:54479 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[30-06-2024 23:53:54493 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:53:54501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 33.2461ms
[30-06-2024 23:53:54515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 174
[30-06-2024 23:53:54526 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:53:54534 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:53:54538 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[30-06-2024 23:53:54589 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 23:53:55039 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("75"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[USERNAME] = @__username_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 23:53:55050 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[30-06-2024 23:53:55073 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[PHONE_NUMBER] = @__phoneNumber_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 23:53:55080 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 54664663 not found or invalid credentials provided"
[30-06-2024 23:53:55100 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[USERNAME] = @__username_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 23:53:56764 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("64"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (DbType = Boolean), @p5='?' (Size = 50), @p6='?' (Size = 10), @p7='?' (Size = 512), @p8='?' (Size = 13), @p9='?' (DbType = Int32), @p10='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [IS_DELETED], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USER_ROLE], [USERNAME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);"
[30-06-2024 23:53:56837 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[30-06-2024 23:53:56852 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[30-06-2024 23:53:56920 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 2326.8134ms
[30-06-2024 23:53:56923 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[30-06-2024 23:53:56928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 279 "application/json; charset=utf-8" 2412.2053ms
[30-06-2024 23:54:23698 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 23:54:23733 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:23737 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 39.7811ms
[30-06-2024 23:54:23748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 57
[30-06-2024 23:54:23760 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:23769 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:23772 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 23:54:23786 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 23:54:23898 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 23:54:24221 +03:00 BooksApiApp.Services.UserService ] {Message}User: "ana" found and returned
[30-06-2024 23:54:24355 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 23:54:24364 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 573.9866ms
[30-06-2024 23:54:24369 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 23:54:24373 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 579 "application/json; charset=utf-8" 625.5613ms
[30-06-2024 23:54:24470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:54:24478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:54:24533 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:24473 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:54:24551 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 80.6773ms
[30-06-2024 23:54:24572 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:24471 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:54:24587 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 109.609ms
[30-06-2024 23:54:24577 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:24543 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:54:24640 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:54:24661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 187.8236ms
[30-06-2024 23:54:24641 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:24672 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:24668 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:24707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 164.3744ms
[30-06-2024 23:54:24701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:54:24644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:54:24707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 235.1968ms
[30-06-2024 23:54:24723 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:24723 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:24755 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:54:24761 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:54:24784 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:24791 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:24972 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:24973 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:24973 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:24973 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:24973 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:24989 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:54:24992 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:54:25008 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:54:25010 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:54:25012 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:54:25026 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:54:25029 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:54:25030 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:54:25034 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:54:25041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:54:25141 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("44"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 23:54:25212 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 23:54:25219 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:54:25247 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 23:54:25258 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:54:25262 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 223.2084ms
[30-06-2024 23:54:25277 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:54:25279 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:54:25282 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 221.4576ms
[30-06-2024 23:54:25291 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 246.4574ms
[30-06-2024 23:54:25291 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 651.1596ms
[30-06-2024 23:54:25299 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:54:25304 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:54:25315 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 559.6295ms
[30-06-2024 23:54:25319 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 558.4247ms
[30-06-2024 23:54:25492 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("285"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 23:54:25508 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("47"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 23:54:25510 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:54:25515 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:54:25517 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:54:25520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:54:25523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 480.7387ms
[30-06-2024 23:54:25524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 487.2436ms
[30-06-2024 23:54:25526 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:54:25529 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:54:25533 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 831.6862ms
[30-06-2024 23:54:25534 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 890.912ms
[30-06-2024 23:54:39046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/GetUserById""" - null null
[30-06-2024 23:54:39065 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:39070 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/GetUserById""" - 204 null null 23.2153ms
[30-06-2024 23:54:39086 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/User/GetUserById""" - null null
[30-06-2024 23:54:39094 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:39103 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:39106 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.GetUserById (BooksApiApp)"'
[30-06-2024 23:54:39119 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetUserById\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] GetUserById()" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 23:54:39154 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND [u].[ID] = @__id_0 AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 23:54:39159 +03:00 BooksApiApp.Services.UserService ] "User with id: 57 Success"
[30-06-2024 23:54:39161 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[30-06-2024 23:54:39163 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.GetUserById (BooksApiApp)" in 39.2488ms
[30-06-2024 23:54:39165 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.GetUserById (BooksApiApp)"'
[30-06-2024 23:54:39167 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/User/GetUserById""" - 200 279 "application/json; charset=utf-8" 82.1603ms
[30-06-2024 23:54:45320 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:54:45321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:54:45321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:54:45321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:54:45321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:54:45344 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:45356 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:45371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:45436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:54:45438 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:54:45479 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:45406 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 85.54ms
[30-06-2024 23:54:45408 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 87.0066ms
[30-06-2024 23:54:45438 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 117.2678ms
[30-06-2024 23:54:45377 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:45402 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:45491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:54:45512 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:45515 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:45554 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:45560 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:54:45529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 208.5316ms
[30-06-2024 23:54:45540 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 218.6948ms
[30-06-2024 23:54:45546 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:45557 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:54:45558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:54:45542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:54:45597 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:45577 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:45583 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:45589 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:54:45562 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:54:45604 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:45609 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:45627 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:54:45637 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:54:45653 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:54:45607 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:54:45659 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:54:45670 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:54:45702 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("79"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 23:54:45751 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:54:45756 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 136.3703ms
[30-06-2024 23:54:45759 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:54:45761 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("122"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 23:54:45767 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("80"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 23:54:45768 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 332.3666ms
[30-06-2024 23:54:45765 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("96"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 23:54:45797 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:54:45801 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:54:45825 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 202.1243ms
[30-06-2024 23:54:45825 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:54:45826 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 142.9398ms
[30-06-2024 23:54:45828 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:54:45831 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:54:45833 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:54:45836 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 397.9813ms
[30-06-2024 23:54:45835 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("59"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 23:54:45839 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 173.8387ms
[30-06-2024 23:54:45839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 282.5146ms
[30-06-2024 23:54:45866 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:54:45867 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:54:45882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 341.2235ms
[30-06-2024 23:54:45878 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:54:45894 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 192.36ms
[30-06-2024 23:54:45903 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:54:45907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 428.1518ms
[30-06-2024 23:54:47560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:54:47575 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:47579 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 18.5024ms
[30-06-2024 23:54:47593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:54:47603 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:54:47606 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:54:47608 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:54:47610 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:54:47650 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:54:47666 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:54:47683 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 66.133ms
[30-06-2024 23:54:47687 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:54:47690 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 99.9188ms
[30-06-2024 23:55:06501 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:55:06507 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:06509 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 8.0046ms
[30-06-2024 23:55:06518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:55:06523 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:06530 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:55:06533 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:55:06535 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:55:06559 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:55:06576 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:55:06588 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 49.5851ms
[30-06-2024 23:55:06592 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:55:06598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 80.8145ms
[30-06-2024 23:55:45978 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 23:55:45997 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:45999 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 22.0262ms
[30-06-2024 23:55:46007 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 34
[30-06-2024 23:55:46012 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:46016 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:55:46018 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 23:55:46034 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:55:46120 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 23:55:46259 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SALE_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[30-06-2024 23:55:46294 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:55:46297 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 259.8883ms
[30-06-2024 23:55:46300 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 23:55:46302 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 200 41 "application/json; charset=utf-8" 295.2458ms
[30-06-2024 23:55:50819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:55:50829 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:50832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 13.2148ms
[30-06-2024 23:55:50846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:55:50911 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:50915 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:55:50917 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:55:50920 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:55:50962 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:55:50979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:55:50986 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 56.287ms
[30-06-2024 23:55:50994 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:55:50997 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19249 "application/json; charset=utf-8" 152.1426ms
[30-06-2024 23:55:57033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:55:57040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:55:57033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:55:57060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:55:57081 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:57060 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:55:57137 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:57142 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:57146 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:57148 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 114.8928ms
[30-06-2024 23:55:57156 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:57159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 118.7337ms
[30-06-2024 23:55:57160 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 126.7071ms
[30-06-2024 23:55:57162 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 111.1763ms
[30-06-2024 23:55:57177 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:55:57177 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 120.1016ms
[30-06-2024 23:55:57179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:55:57176 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:55:57159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:55:57206 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:55:57223 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:57231 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:57235 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:57238 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:57241 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:55:57242 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:55:57243 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:55:57244 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:55:57245 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:55:57246 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:55:57247 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:55:57249 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:55:57250 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:55:57251 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:55:57252 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:55:57253 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:55:57255 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:55:57256 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:55:57258 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:55:57259 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:55:57294 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 23:55:57295 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 23:55:57308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:55:57312 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 23:55:57313 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:55:57316 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 54.8592ms
[30-06-2024 23:55:57318 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("38"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 23:55:57323 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:55:57326 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 59.8423ms
[30-06-2024 23:55:57327 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 23:55:57327 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:55:57331 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:55:57334 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 53.7341ms
[30-06-2024 23:55:57335 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:55:57341 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 163.651ms
[30-06-2024 23:55:57342 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:55:57345 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:55:57347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 167.8155ms
[30-06-2024 23:55:57356 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 83.3743ms
[30-06-2024 23:55:57357 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 199.7617ms
[30-06-2024 23:55:57358 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:55:57364 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:55:57373 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 196.8845ms
[30-06-2024 23:55:57415 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 126.6214ms
[30-06-2024 23:55:57418 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:55:57420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2860 "application/json; charset=utf-8" 213.8312ms
[30-06-2024 23:56:14474 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 23:56:14478 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14479 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 6.1178ms
[30-06-2024 23:56:14490 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 23:56:14494 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14495 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:14497 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 23:56:14499 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 23:56:14518 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 23:56:14768 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 23:56:14771 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 23:56:14773 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 270.7501ms
[30-06-2024 23:56:14776 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 23:56:14778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 288.7744ms
[30-06-2024 23:56:14826 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:56:14832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:56:14832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:56:14832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:56:14836 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:56:14846 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14855 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14860 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14866 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14871 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14872 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 47.2157ms
[30-06-2024 23:56:14873 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 41.4989ms
[30-06-2024 23:56:14875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 43.1575ms
[30-06-2024 23:56:14887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:56:14887 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:56:14886 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:56:14877 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 45.1102ms
[30-06-2024 23:56:14889 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:56:14878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 44.9358ms
[30-06-2024 23:56:14890 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:56:14898 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14903 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14907 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14917 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14927 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:14929 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:14930 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:14932 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:14933 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:14935 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:14936 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:56:14938 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:56:14940 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:56:14941 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:56:14943 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:56:14945 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:56:14947 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:56:14949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:56:14954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:56:14951 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:56:14990 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 23:56:14995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 23:56:14995 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 23:56:14998 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 23:56:15008 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:56:15011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:56:15013 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 55.7818ms
[30-06-2024 23:56:15016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 41.006ms
[30-06-2024 23:56:15017 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:56:15026 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:56:15028 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 140.9829ms
[30-06-2024 23:56:15029 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 23:56:15031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 141.0072ms
[30-06-2024 23:56:15043 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:56:15043 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:56:15048 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:56:15069 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 88.6976ms
[30-06-2024 23:56:15069 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 108.0205ms
[30-06-2024 23:56:15069 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 101.2224ms
[30-06-2024 23:56:15073 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:56:15076 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:56:15078 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:56:15080 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2860 "application/json; charset=utf-8" 191.9864ms
[30-06-2024 23:56:15083 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 195.687ms
[30-06-2024 23:56:15086 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 3819 "application/json; charset=utf-8" 201.1077ms
[30-06-2024 23:56:36590 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:56:36618 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:36620 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 30.3933ms
[30-06-2024 23:56:36632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:56:36638 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:36640 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:36642 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:56:36643 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:56:36672 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:56:36684 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:56:36690 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 41.0177ms
[30-06-2024 23:56:36693 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:56:36695 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19249 "application/json; charset=utf-8" 66.4168ms
[30-06-2024 23:56:46224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:56:46224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:56:46224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:56:46224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:56:46224 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:56:46246 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:46251 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:46265 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 42.1289ms
[30-06-2024 23:56:46269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 46.4374ms
[30-06-2024 23:56:46255 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:46260 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:46264 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:46350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 130.267ms
[30-06-2024 23:56:46353 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 132.6343ms
[30-06-2024 23:56:46284 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:56:46301 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:56:46368 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:56:46368 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:56:46396 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:46370 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 149.8985ms
[30-06-2024 23:56:46385 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:46391 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:46400 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:56:46401 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:46403 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:46410 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:46412 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:46416 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:46418 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:46419 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:56:46421 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:56:46422 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:56:46425 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:46426 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:56:46428 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:56:46430 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:56:46432 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:56:46436 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:56:46434 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:56:46462 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:56:46469 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 23:56:46477 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 23:56:46482 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:56:46484 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 23:56:46485 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:56:46488 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 48.5747ms
[30-06-2024 23:56:46491 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 23:56:46491 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 23:56:46494 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:56:46496 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 47.0846ms
[30-06-2024 23:56:46497 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:56:46504 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:56:46509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:56:46512 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 70.1611ms
[30-06-2024 23:56:46513 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:56:46515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 3819 "application/json; charset=utf-8" 148.5915ms
[30-06-2024 23:56:46517 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 60.755ms
[30-06-2024 23:56:46520 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 50.1725ms
[30-06-2024 23:56:46527 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:56:46530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 230.9528ms
[30-06-2024 23:56:46542 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:56:46544 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:56:46547 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 263.4675ms
[30-06-2024 23:56:46559 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2860 "application/json; charset=utf-8" 193.0815ms
[30-06-2024 23:56:46563 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 163.2492ms
[30-06-2024 23:56:51118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - null null
[30-06-2024 23:56:51121 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:51123 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - 204 null null 6.3436ms
[30-06-2024 23:56:51131 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - "application/json" 1
[30-06-2024 23:56:51135 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:51138 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:51140 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RejectSale (BooksApiApp)"'
[30-06-2024 23:56:51150 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RejectSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RejectSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:56:51186 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 23:56:51212 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SALE_ID] = @__bookForSaleId_0"
[30-06-2024 23:56:51250 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SALE]
OUTPUT 1
WHERE [ID] = @p0;
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p1
OUTPUT 1
WHERE [ID] = @p2;"
[30-06-2024 23:56:51261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:56:51264 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RejectSale (BooksApiApp)" in 110.3377ms
[30-06-2024 23:56:51266 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RejectSale (BooksApiApp)"'
[30-06-2024 23:56:51269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RejectSale""" - 200 34 "application/json; charset=utf-8" 138.7207ms
[30-06-2024 23:56:56465 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:56:56475 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:56478 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 13.8047ms
[30-06-2024 23:56:56487 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:56:56494 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:56:56497 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:56:56499 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:56:56502 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:56:56525 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:56:56536 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:56:56544 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 39.1938ms
[30-06-2024 23:56:56551 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:56:56553 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 66.4625ms
[30-06-2024 23:57:00121 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:00136 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:00138 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:00139 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:00145 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:57:00172 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:57:00182 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:57:00188 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 39.0721ms
[30-06-2024 23:57:00196 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:00199 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 83.3242ms
[30-06-2024 23:57:04016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:04027 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:04031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 12.9721ms
[30-06-2024 23:57:04047 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:04061 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:04064 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:04066 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:04069 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:57:04101 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:57:04113 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:57:04128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 55.6056ms
[30-06-2024 23:57:04132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:04134 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 88.7649ms
[30-06-2024 23:57:06790 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:06796 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:06800 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:06802 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:06806 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:57:06828 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:57:06833 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:57:06840 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 30.0907ms
[30-06-2024 23:57:06843 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:06845 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 56.1564ms
[30-06-2024 23:57:08209 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 23:57:08214 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:08215 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 6.6621ms
[30-06-2024 23:57:08223 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 33
[30-06-2024 23:57:08227 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:08229 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:08231 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 23:57:08233 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:57:08249 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 23:57:08558 +03:00 BooksApiApp.Services.UserService ] "You cannot purchase your own book.""   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 34"
[30-06-2024 23:57:08683 +03:00 BooksApiApp.Controllers.ApprovalSaleController ] An error occurred while processing the request
System.InvalidOperationException: You cannot purchase your own book.
   at BooksApiApp.Services.ApprovalSaleService.RequestPurchaseAsync(PurchaseRequestDTO purchaseRequestDTO) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Services\ApprovalSaleService.cs:line 34
   at BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase(PurchaseRequestDTO request) in C:\Users\katek\source\repos\BooksApiApp\BooksApiApp\Controllers\ApprovalSaleController.cs:line 45
[30-06-2024 23:57:08775 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 538.0034ms
[30-06-2024 23:57:08779 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 23:57:08959 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 500 null "application/json" 736.6973ms
[30-06-2024 23:57:14165 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:14170 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:14172 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 7.9473ms
[30-06-2024 23:57:14183 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:14189 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:14191 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:14193 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:14194 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:57:14215 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:57:14221 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:57:14228 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 30.641ms
[30-06-2024 23:57:14233 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:14237 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 56.0173ms
[30-06-2024 23:57:39354 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 23:57:39360 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39363 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 9.9266ms
[30-06-2024 23:57:39371 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 57
[30-06-2024 23:57:39379 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39381 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:39384 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 23:57:39386 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 23:57:39406 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 23:57:39641 +03:00 BooksApiApp.Services.UserService ] {Message}User: "ana" found and returned
[30-06-2024 23:57:39644 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 23:57:39647 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 257.9914ms
[30-06-2024 23:57:39650 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 23:57:39653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 579 "application/json; charset=utf-8" 282.6084ms
[30-06-2024 23:57:39716 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:57:39717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:57:39720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:57:39720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:57:39720 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:57:39727 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39731 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39740 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39735 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39759 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 39.2987ms
[30-06-2024 23:57:39764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 44.5105ms
[30-06-2024 23:57:39763 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:57:39791 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:57:39788 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:57:39744 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 28.8143ms
[30-06-2024 23:57:39743 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39747 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 28.9841ms
[30-06-2024 23:57:39764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:57:39810 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39813 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39807 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 97.4378ms
[30-06-2024 23:57:39825 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:57:39827 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39828 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:39829 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:39829 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:39837 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:39838 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:39839 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:57:39841 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:57:39842 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:57:39843 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:39844 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:57:39845 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:57:39846 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:57:39848 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:57:39849 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:57:39850 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:57:39867 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:57:39896 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 23:57:39896 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 23:57:39896 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 23:57:39904 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 23:57:39904 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:57:39909 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:57:39913 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:57:39916 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 23:57:39917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:57:39918 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:57:39920 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:57:39921 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 57.2835ms
[30-06-2024 23:57:39925 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:57:39927 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 51.8664ms
[30-06-2024 23:57:39929 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 72.8231ms
[30-06-2024 23:57:39931 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 78.0806ms
[30-06-2024 23:57:39933 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:57:39937 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 38.7582ms
[30-06-2024 23:57:39941 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:57:39943 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:57:39946 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:57:39948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 185.4994ms
[30-06-2024 23:57:39951 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:57:39953 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 188.8937ms
[30-06-2024 23:57:39955 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 166.9786ms
[30-06-2024 23:57:39957 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 167.1366ms
[30-06-2024 23:57:39965 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 140.538ms
[30-06-2024 23:57:42143 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:42150 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:42152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 11.545ms
[30-06-2024 23:57:42167 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:42172 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:42174 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:42176 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:42178 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:57:42198 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:57:42211 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:57:42219 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 38.3234ms
[30-06-2024 23:57:42223 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:42228 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 63.6351ms
[30-06-2024 23:57:45490 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:45499 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:45502 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:45505 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:45508 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:57:45543 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:57:45555 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:57:45564 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 52.4223ms
[30-06-2024 23:57:45576 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:45580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19860 "application/json; charset=utf-8" 89.6815ms
[30-06-2024 23:57:47179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - null null
[30-06-2024 23:57:47183 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:47186 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 204 null null 6.7326ms
[30-06-2024 23:57:47194 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - "application/json" 34
[30-06-2024 23:57:47198 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:47201 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:47203 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 23:57:47206 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"RequestPurchase\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPurchase(BooksApiApp.DTO.PurchaseRequestDTO)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:57:47226 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_FOR_SALE] AS [b]
WHERE [b].[ID] = @__p_0"
[30-06-2024 23:57:47246 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [APPROVAL_SALE] ([APPROVAL_DATETIME], [BOOK_FOR_SALE_ID], [BUYER_ID], [SUBMISSION_DATETIME])
OUTPUT INSERTED.[ID]
VALUES (@p0, @p1, @p2, @p3);
UPDATE [BOOK_FOR_SALE] SET [IS_AVAILABLE] = @p4
OUTPUT 1
WHERE [ID] = @p5;"
[30-06-2024 23:57:47253 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:57:47256 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)" in 46.4052ms
[30-06-2024 23:57:47259 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.RequestPurchase (BooksApiApp)"'
[30-06-2024 23:57:47261 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/RequestPurchase""" - 200 41 "application/json; charset=utf-8" 68.2266ms
[30-06-2024 23:57:48540 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:48550 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:48553 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 204 null null 14.1725ms
[30-06-2024 23:57:48566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - null null
[30-06-2024 23:57:48573 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:57:48575 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:57:48576 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:48579 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksForSale\", controller = \"BooksForSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksForSale()" on controller "BooksApiApp.Controllers.BooksForSaleController" ("BooksApiApp").
[30-06-2024 23:57:48630 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
WHERE [b].[IS_AVAILABLE] = CAST(1 AS bit)"
[30-06-2024 23:57:48641 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookForSaleReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:57:48648 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)" in 60.6172ms
[30-06-2024 23:57:48654 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BooksForSaleController.GetBooksForSale (BooksApiApp)"'
[30-06-2024 23:57:48657 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BooksForSale/GetBooksForSale""" - 200 19249 "application/json; charset=utf-8" 91.7508ms
[30-06-2024 23:58:01528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 23:58:01538 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:01542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 15.1622ms
[30-06-2024 23:58:01555 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[30-06-2024 23:58:01565 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:01567 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:01568 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 23:58:01573 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 23:58:01597 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 23:58:01837 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katerina" found and returned
[30-06-2024 23:58:01840 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 23:58:01843 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 264.6289ms
[30-06-2024 23:58:01846 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 23:58:01849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 589 "application/json; charset=utf-8" 297.0379ms
[30-06-2024 23:58:01907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:58:01909 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:58:01909 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:58:01907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:58:01911 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:58:01915 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:01919 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:01923 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:01928 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:01933 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:01934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 28.7821ms
[30-06-2024 23:58:01938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 29.0793ms
[30-06-2024 23:58:01944 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 34.6783ms
[30-06-2024 23:58:01946 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 38.7585ms
[30-06-2024 23:58:01961 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:58:01961 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:58:01965 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:58:01962 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:58:01948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 38.1293ms
[30-06-2024 23:58:01954 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:58:01996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:02000 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:02006 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:02010 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:02022 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:02025 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:02027 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:02028 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:02029 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:02030 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:02031 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:58:02033 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:58:02035 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:58:02037 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:58:02038 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:58:02040 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:58:02043 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:58:02044 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:58:02046 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:58:02048 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:58:02103 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 23:58:02103 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 23:58:02111 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:58:02115 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:58:02117 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 52.0569ms
[30-06-2024 23:58:02117 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 23:58:02118 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("64"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 23:58:02120 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 64.4378ms
[30-06-2024 23:58:02122 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 23:58:02122 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:58:02127 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:58:02131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:58:02132 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:58:02136 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:58:02137 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 173.4626ms
[30-06-2024 23:58:02140 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 46.2552ms
[30-06-2024 23:58:02154 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:58:02144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 200 2860 "application/json; charset=utf-8" 182.4566ms
[30-06-2024 23:58:02147 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 64.7124ms
[30-06-2024 23:58:02142 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 91.3351ms
[30-06-2024 23:58:02190 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:58:02186 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:58:02157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 3819 "application/json; charset=utf-8" 203.1671ms
[30-06-2024 23:58:02196 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 200 2877 "application/json; charset=utf-8" 234.784ms
[30-06-2024 23:58:02198 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 3264 "application/json; charset=utf-8" 235.7013ms
[30-06-2024 23:58:06197 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - null null
[30-06-2024 23:58:06201 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:06203 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 204 null null 5.9346ms
[30-06-2024 23:58:06210 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - "application/json" 1
[30-06-2024 23:58:06214 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:06217 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:06218 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 23:58:06226 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ApproveSale\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveSale(Int32)" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:58:06236 +03:00 BooksApiApp.Services.UserService ] Attempting to approve sale for BookId: 1, SellerId: 1
[30-06-2024 23:58:06256 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__sellerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE]
FROM [BOOK_FOR_SALE] AS [b]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[SELLER_ID] = @__sellerId_1 AND [b].[IS_AVAILABLE] = CAST(0 AS bit)"
[30-06-2024 23:58:06261 +03:00 BooksApiApp.Services.UserService ] BookForSale found for BookId: 1, SellerId: 1
[30-06-2024 23:58:06278 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__bookForSaleId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
WHERE [a].[BOOK_FOR_SALE_ID] = @__bookForSaleId_0"
[30-06-2024 23:58:06283 +03:00 BooksApiApp.Services.UserService ] ApprovalSale found for BookForSaleId: 1
[30-06-2024 23:58:06288 +03:00 BooksApiApp.Services.UserService ] Creating BookReadyForTrading entry for BookId: 1, SellerId: 1
[30-06-2024 23:58:06393 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (Size = 50), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (Size = 200), @p11='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [APPROVAL_SALE]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [BOOK_READY_FOR_TRADING] ([AUTHOR], [BOOK_CATEGORY], [BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [DESCRIPTION], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TITLE], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);"
[30-06-2024 23:58:06403 +03:00 BooksApiApp.Services.UserService ] Approved sale for BookId: 1, SellerId: 1
[30-06-2024 23:58:06405 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:58:06408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)" in 178.325ms
[30-06-2024 23:58:06410 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.ApproveSale (BooksApiApp)"'
[30-06-2024 23:58:06413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/ApprovalSale/ApproveSale""" - 200 33 "application/json; charset=utf-8" 203.3759ms
[30-06-2024 23:58:32635 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[30-06-2024 23:58:32656 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:32659 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 24.9352ms
[30-06-2024 23:58:32669 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 57
[30-06-2024 23:58:32674 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:32676 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:32680 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 23:58:32682 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[30-06-2024 23:58:32705 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[IS_DELETED] = CAST(0 AS bit) AND ([u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0) AND [u].[IS_DELETED] = CAST(0 AS bit)"
[30-06-2024 23:58:32947 +03:00 BooksApiApp.Services.UserService ] {Message}User: "ana" found and returned
[30-06-2024 23:58:32950 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[30-06-2024 23:58:32954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 269.3837ms
[30-06-2024 23:58:32957 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[30-06-2024 23:58:32961 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 579 "application/json; charset=utf-8" 292.7484ms
[30-06-2024 23:58:33022 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:58:33025 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:58:33025 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:58:33032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:58:33026 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:58:33055 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:33059 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:33072 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 49.7039ms
[30-06-2024 23:58:33076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 50.4347ms
[30-06-2024 23:58:33063 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:33067 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:33071 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:33090 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:58:33097 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:58:33118 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 94.3345ms
[30-06-2024 23:58:33132 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:58:33134 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:58:33119 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 87.026ms
[30-06-2024 23:58:33120 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 94.0759ms
[30-06-2024 23:58:33124 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:33129 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:33130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:58:33169 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:33173 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:33187 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:33189 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:33195 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:58:33197 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:33199 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:33200 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:58:33202 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:58:33206 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:58:33206 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:58:33210 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:58:33213 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:58:33215 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:58:33219 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:58:33222 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:58:33216 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:58:33254 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:58:33264 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("27"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 23:58:33264 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 23:58:33276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:58:33277 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 23:58:33281 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:58:33284 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 51.5859ms
[30-06-2024 23:58:33294 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 65.9138ms
[30-06-2024 23:58:33298 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:58:33302 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:58:33304 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 207.2168ms
[30-06-2024 23:58:33306 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BookReadyForTradingDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:58:33310 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("56"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 23:58:33312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 2 "application/json; charset=utf-8" 221.9793ms
[30-06-2024 23:58:33319 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("51"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 23:58:33327 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:58:33333 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 93.5906ms
[30-06-2024 23:58:33333 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:58:33335 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:58:33338 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:58:33341 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:58:33344 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 92.5878ms
[30-06-2024 23:58:33346 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 200 881 "application/json; charset=utf-8" 214.8519ms
[30-06-2024 23:58:33349 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 83.2509ms
[30-06-2024 23:58:33351 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:58:33359 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:58:33361 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 229.0879ms
[30-06-2024 23:58:33363 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 233.3013ms
[30-06-2024 23:59:11351 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - null null
[30-06-2024 23:59:11381 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:11385 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 204 null null 34.2128ms
[30-06-2024 23:59:11393 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - "application/json" 1
[30-06-2024 23:59:11398 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:11400 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:59:11402 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 23:59:11416 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"ConfirmReceived\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmReceived(Int32)" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:59:11457 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__bookId_0='?' (DbType = Int32), @__buyerId_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION]
FROM [BOOK_READY_FOR_TRADING] AS [b]
WHERE [b].[BOOK_ID] = @__bookId_0 AND [b].[BUYER_ID] = @__buyerId_1"
[30-06-2024 23:59:11498 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 6) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [BOOK_READY_FOR_TRADING]
OUTPUT 1
WHERE [ID] = @p0;
INSERT INTO [SALE] ([BOOK_ID], [BUYER_ID], [CONDITION_OF_BOOK], [PAYMENT_METHOD], [PRICE], [SELLER_ID], [TYPE_OF_TRANSACTION])
OUTPUT INSERTED.[ID]
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7);"
[30-06-2024 23:59:11509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:59:11512 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)" in 91.0993ms
[30-06-2024 23:59:11514 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.ConfirmReceived (BooksApiApp)"'
[30-06-2024 23:59:11516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/BookReadyForTrading/ConfirmReceived""" - 200 40 "application/json; charset=utf-8" 124.0914ms
[30-06-2024 23:59:13748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:59:13769 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:13773 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 25.8373ms
[30-06-2024 23:59:13783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:59:13789 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:13792 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:59:13795 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:59:13798 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:59:13828 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 23:59:13836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:59:13842 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 40.2876ms
[30-06-2024 23:59:13846 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:59:13849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 67.2227ms
[30-06-2024 23:59:44721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:59:44734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:59:44739 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:59:44779 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:44757 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:44739 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:59:44828 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:44801 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:44803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 204 null null 68.7751ms
[30-06-2024 23:59:44880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 204 null null 108.3858ms
[30-06-2024 23:59:44819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 204 null null 98.1753ms
[30-06-2024 23:59:44831 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 204 null null 91.921ms
[30-06-2024 23:59:44757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:59:44840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - null null
[30-06-2024 23:59:44936 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - null null
[30-06-2024 23:59:44920 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - null null
[30-06-2024 23:59:44939 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - null null
[30-06-2024 23:59:44991 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:44997 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:45001 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:45005 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:45010 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:45012 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 204 null null 254.9663ms
[30-06-2024 23:59:45015 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:59:45018 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:59:45020 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:59:45021 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:59:45023 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - null null
[30-06-2024 23:59:45029 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:59:45031 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:59:45032 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:59:45034 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:59:45038 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[30-06-2024 23:59:45041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetSellingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSellingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:59:45043 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetApprovalSalesByUser\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovalSalesByUser()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:59:45045 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBuyingBooksByUser\", controller = \"Sale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBuyingBooksByUser()" on controller "BooksApiApp.Controllers.SaleController" ("BooksApiApp").
[30-06-2024 23:59:45047 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksThatNeedApproval\", controller = \"ApprovalSale\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksThatNeedApproval()" on controller "BooksApiApp.Controllers.ApprovalSaleController" ("BooksApiApp").
[30-06-2024 23:59:45049 +03:00 BooksApiApp.Helpers.ErrorHandlerMiddleware ] Processing request in ErrorHandlerMiddleware.
[30-06-2024 23:59:45076 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:59:45084 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("27"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[BUYER_ID] = [t].[ID]
WHERE [s].[SELLER_ID] = @__id_0"
[30-06-2024 23:59:45085 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksReadyForTrading\", controller = \"BookReadyForTrading\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksReadyForTrading()" on controller "BooksApiApp.Controllers.BookReadyForTradingController" ("BooksApiApp").
[30-06-2024 23:59:45089 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[ID], [s].[BOOK_ID], [s].[BUYER_ID], [s].[CONDITION_OF_BOOK], [s].[PAYMENT_METHOD], [s].[PRICE], [s].[SELLER_ID], [s].[TYPE_OF_TRANSACTION], [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[DESCRIPTION], [b].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME]
FROM [SALE] AS [s]
INNER JOIN [BOOK] AS [b] ON [s].[BOOK_ID] = [b].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [s].[SELLER_ID] = [t].[ID]
WHERE [s].[BUYER_ID] = @__id_0"
[30-06-2024 23:59:45090 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:59:45092 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__sellerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [b].[SELLER_ID] = @__sellerId_0"
[30-06-2024 23:59:45102 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[BooksApiApp.DTO.BuyingSellingBooksByIdDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[30-06-2024 23:59:45110 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__userId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[BOOK_CATEGORY], [b].[BOOK_ID], [b].[BUYER_ID], [b].[CONDITION_OF_BOOK], [b].[DESCRIPTION], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TITLE], [b].[TYPE_OF_TRANSACTION], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [BOOK_READY_FOR_TRADING] AS [b]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[BUYER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [b].[SELLER_ID] = [t0].[ID]
WHERE [b].[BUYER_ID] = @__userId_0"
[30-06-2024 23:59:45108 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:59:45103 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)" in 50.8205ms
[30-06-2024 23:59:45111 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)" in 42.8199ms
[30-06-2024 23:59:45111 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@__buyerId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[ID], [a].[APPROVAL_DATETIME], [a].[BOOK_FOR_SALE_ID], [a].[BUYER_ID], [a].[SUBMISSION_DATETIME], [b].[ID], [b].[BOOK_ID], [b].[CONDITION_OF_BOOK], [b].[IS_AVAILABLE], [b].[PAYMENT_METHOD], [b].[PRICE], [b].[SELLER_ID], [b].[TYPE_OF_TRANSACTION], [b0].[ID], [b0].[AUTHOR], [b0].[BOOK_CATEGORY], [b0].[DESCRIPTION], [b0].[TITLE], [t].[ID], [t].[ADDRESS], [t].[CITY], [t].[EMAIL], [t].[FIRSTNAME], [t].[IS_DELETED], [t].[LASTNAME], [t].[NUMBER], [t].[PASSWORD], [t].[PHONE_NUMBER], [t].[USER_ROLE], [t].[USERNAME], [t0].[ID], [t0].[ADDRESS], [t0].[CITY], [t0].[EMAIL], [t0].[FIRSTNAME], [t0].[IS_DELETED], [t0].[LASTNAME], [t0].[NUMBER], [t0].[PASSWORD], [t0].[PHONE_NUMBER], [t0].[USER_ROLE], [t0].[USERNAME]
FROM [APPROVAL_SALE] AS [a]
INNER JOIN [BOOK_FOR_SALE] AS [b] ON [a].[BOOK_FOR_SALE_ID] = [b].[ID]
INNER JOIN [BOOK] AS [b0] ON [b].[BOOK_ID] = [b0].[ID]
INNER JOIN (
    SELECT [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[IS_DELETED], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
    FROM [USER] AS [u]
    WHERE [u].[IS_DELETED] = CAST(0 AS bit)
) AS [t] ON [b].[SELLER_ID] = [t].[ID]
INNER JOIN (
    SELECT [u0].[ID], [u0].[ADDRESS], [u0].[CITY], [u0].[EMAIL], [u0].[FIRSTNAME], [u0].[IS_DELETED], [u0].[LASTNAME], [u0].[NUMBER], [u0].[PASSWORD], [u0].[PHONE_NUMBER], [u0].[USER_ROLE], [u0].[USERNAME]
    FROM [USER] AS [u0]
    WHERE [u0].[IS_DELETED] = CAST(0 AS bit)
) AS [t0] ON [a].[BUYER_ID] = [t0].[ID]
WHERE [a].[BUYER_ID] = @__buyerId_0"
[30-06-2024 23:59:45116 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[30-06-2024 23:59:45117 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:59:45119 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetSellingBooksByUser (BooksApiApp)"'
[30-06-2024 23:59:45121 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.SaleController.GetBuyingBooksByUser (BooksApiApp)"'
[30-06-2024 23:59:45125 +03:00 BooksApiApp.Services.UserService ] No approval sales found for seller with ID 57
[30-06-2024 23:59:45127 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)" in 34.1531ms
[30-06-2024 23:59:45130 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)" in 74.1064ms
[30-06-2024 23:59:45132 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetSellingBooksByUser""" - 200 2 "application/json; charset=utf-8" 292.0879ms
[30-06-2024 23:59:45139 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Sale/GetBuyingBooksByUser""" - 200 1015 "application/json; charset=utf-8" 219.4498ms
[30-06-2024 23:59:45141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "NotFoundObjectResult", writing value of type '"System.String"'.
[30-06-2024 23:59:45144 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookReadyForTradingController.GetBooksReadyForTrading (BooksApiApp)"'
[30-06-2024 23:59:45148 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetApprovalSalesByUser (BooksApiApp)"'
[30-06-2024 23:59:45162 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)" in 89.0596ms
[30-06-2024 23:59:45164 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/BookReadyForTrading/GetBooksReadyForTrading""" - 404 61 "application/json; charset=utf-8" 141.9556ms
[30-06-2024 23:59:45170 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetApprovalSalesByUser""" - 404 54 "application/json; charset=utf-8" 234.2714ms
[30-06-2024 23:59:45173 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.ApprovalSaleController.GetBooksThatNeedApproval (BooksApiApp)"'
[30-06-2024 23:59:45186 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/ApprovalSale/GetBooksThatNeedApproval""" - 404 58 "application/json; charset=utf-8" 247.1099ms
