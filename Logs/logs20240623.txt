[23-06-2024 11:09:17294 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[23-06-2024 11:09:18479 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[23-06-2024 11:09:18485 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[23-06-2024 11:09:18498 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[23-06-2024 11:09:18502 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[23-06-2024 11:09:18503 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[23-06-2024 11:09:19493 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 11:09:20268 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 783.3544ms
[23-06-2024 11:09:20312 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 11:09:20338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 27.4948ms
[23-06-2024 11:09:20436 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 11:09:20656 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 224.0522ms
[23-06-2024 11:09:20778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 11:09:21151 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 374.1626ms
[23-06-2024 11:26:18305 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 11:26:18463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 165.2255ms
[23-06-2024 11:26:18511 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 11:26:18520 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 9.516ms
[23-06-2024 11:26:18532 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 11:26:18578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 43.1034ms
[23-06-2024 11:26:18762 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 11:26:18877 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 115.8851ms
[23-06-2024 11:30:25115 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 11:30:25169 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 11:30:25175 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 60.4589ms
[23-06-2024 11:30:25183 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 50
[23-06-2024 11:30:25193 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 11:30:25856 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:30:25964 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 11:30:28246 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 11:30:28374 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 2401.6898ms
[23-06-2024 11:30:28377 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:30:28380 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 240 "application/problem+json; charset=utf-8" 3197.5275ms
[23-06-2024 11:33:58395 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 11:33:58410 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 11:33:58413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 20.9665ms
[23-06-2024 11:33:58421 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 54
[23-06-2024 11:33:58426 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 11:33:58436 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:33:58448 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 11:33:58521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 11:33:58525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 73.8242ms
[23-06-2024 11:33:58527 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:33:58529 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 240 "application/problem+json; charset=utf-8" 109.0786ms
[23-06-2024 11:45:24593 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 71
[23-06-2024 11:45:24621 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 11:45:24625 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 11:45:24646 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:45:24651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 11:45:26091 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[23-06-2024 11:45:28057 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("139"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 11:45:28096 +03:00 BooksApiApp.Services.UserService ] "User: klinot found or invalid credentials provided"
[23-06-2024 11:45:28241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 3587.1694ms
[23-06-2024 11:45:28246 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:45:28396 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 3805.5086ms
[23-06-2024 11:50:41277 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[23-06-2024 11:50:41853 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[23-06-2024 11:50:41855 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[23-06-2024 11:50:41859 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[23-06-2024 11:50:41861 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[23-06-2024 11:50:41862 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[23-06-2024 11:50:43145 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 11:50:43595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 459.292ms
[23-06-2024 11:50:43599 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 11:50:43616 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 17.9106ms
[23-06-2024 11:50:43688 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 11:50:43778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 90.7878ms
[23-06-2024 11:50:43883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 11:50:44232 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 348.7883ms
[23-06-2024 11:50:59424 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 69
[23-06-2024 11:50:59443 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 11:50:59445 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 11:50:59562 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:50:59615 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 11:51:00241 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 11:51:00324 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 699.7163ms
[23-06-2024 11:51:00326 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:51:00331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 266 "application/problem+json; charset=utf-8" 907.3774ms
[23-06-2024 11:51:24179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 68
[23-06-2024 11:51:24199 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 11:51:24200 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 11:51:24204 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:51:24225 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 11:51:25174 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[23-06-2024 11:51:26441 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("81"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 11:51:26485 +03:00 BooksApiApp.Services.UserService ] "User: scfgfnot found or invalid credentials provided"
[23-06-2024 11:51:26604 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 2377.3179ms
[23-06-2024 11:51:26608 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:51:26734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 2555.7483ms
[23-06-2024 11:53:40758 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 64
[23-06-2024 11:53:40772 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 11:53:40773 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 11:53:40777 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:53:40779 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 11:53:40790 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 11:53:40793 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 11.9857ms
[23-06-2024 11:53:40804 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 11:53:40808 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 266 "application/problem+json; charset=utf-8" 50.6014ms
[23-06-2024 11:54:52305 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 322
[23-06-2024 11:54:52315 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 11:54:52316 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 11:54:52318 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 11:54:52326 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 11:54:52348 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 11:54:52350 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 20.2858ms
[23-06-2024 11:54:52353 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 11:54:52355 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 301 "application/problem+json; charset=utf-8" 50.1528ms
[23-06-2024 12:34:00048 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[23-06-2024 12:34:00571 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[23-06-2024 12:34:00581 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[23-06-2024 12:34:00586 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[23-06-2024 12:34:00592 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[23-06-2024 12:34:00593 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[23-06-2024 12:34:01580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 12:34:02015 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 442.5037ms
[23-06-2024 12:34:02066 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 12:34:02079 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 13.4365ms
[23-06-2024 12:34:02104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 12:34:02189 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 85.5213ms
[23-06-2024 12:34:02343 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 12:34:02648 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 305.2097ms
[23-06-2024 12:34:55971 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 242
[23-06-2024 12:34:55988 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:34:55990 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:34:56128 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:34:56173 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:34:56801 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 12:34:56888 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 705.301ms
[23-06-2024 12:34:56890 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:34:56895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 366 "application/problem+json; charset=utf-8" 924.0967ms
[23-06-2024 12:37:22539 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[23-06-2024 12:37:22927 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[23-06-2024 12:37:22930 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[23-06-2024 12:37:22933 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[23-06-2024 12:37:22934 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[23-06-2024 12:37:22936 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[23-06-2024 12:37:23816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 12:37:24144 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 331.2226ms
[23-06-2024 12:37:24157 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 12:37:24169 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 11.8367ms
[23-06-2024 12:37:24241 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 12:37:24303 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 62.0814ms
[23-06-2024 12:37:24440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 12:37:24820 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 380.4106ms
[23-06-2024 12:37:43053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 310
[23-06-2024 12:37:43069 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:37:43072 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:37:43191 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:37:43231 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:37:43892 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 12:37:43977 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 739.1174ms
[23-06-2024 12:37:43978 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:37:43983 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 366 "application/problem+json; charset=utf-8" 930.1067ms
[23-06-2024 12:39:19714 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[23-06-2024 12:39:20128 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[23-06-2024 12:39:20131 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[23-06-2024 12:39:20135 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[23-06-2024 12:39:20137 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[23-06-2024 12:39:20138 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[23-06-2024 12:39:21247 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 12:39:21657 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 419.8742ms
[23-06-2024 12:39:21666 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 12:39:21678 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 12.2429ms
[23-06-2024 12:39:21753 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 12:39:21829 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 75.6784ms
[23-06-2024 12:39:21924 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 12:39:22177 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 253.457ms
[23-06-2024 12:39:33412 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 308
[23-06-2024 12:39:33433 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:39:33435 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:39:33601 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:39:33639 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:39:34222 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 12:39:34293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 645.9382ms
[23-06-2024 12:39:34296 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:39:34300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 266 "application/problem+json; charset=utf-8" 888.78ms
[23-06-2024 12:43:28083 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[23-06-2024 12:43:28643 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[23-06-2024 12:43:28647 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[23-06-2024 12:43:28652 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[23-06-2024 12:43:28660 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[23-06-2024 12:43:28662 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[23-06-2024 12:43:29429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 12:43:29891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 477.7276ms
[23-06-2024 12:43:29987 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 12:43:29987 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 12:43:30010 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 23.8015ms
[23-06-2024 12:43:30076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 89.5378ms
[23-06-2024 12:43:30190 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 12:43:30420 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 231.3587ms
[23-06-2024 12:43:38872 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 333
[23-06-2024 12:43:38892 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:43:38894 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:43:39035 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:43:39080 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:43:39707 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 12:43:39772 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 683.0264ms
[23-06-2024 12:43:39774 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:43:39778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 266 "application/problem+json; charset=utf-8" 905.9744ms
[23-06-2024 12:57:09368 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 335
[23-06-2024 12:57:09423 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:57:09425 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:57:09496 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:57:09513 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:57:10811 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[23-06-2024 12:57:12173 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("146"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 12:57:12204 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 12:57:12224 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 12:57:12228 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 3984175195 not found or invalid credentials provided"
[23-06-2024 12:57:12250 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 12:57:13712 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("55"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 12:57:13793 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b2f3dfb9-51d3-42ea-b5c5-0fc11e638a34
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b2f3dfb9-51d3-42ea-b5c5-0fc11e638a34
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 12:57:14083 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 12:57:14261 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 4745.6407ms
[23-06-2024 12:57:14267 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:57:14460 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 5103.7727ms
[23-06-2024 12:57:57247 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 332
[23-06-2024 12:57:57259 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:57:57260 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:57:57265 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:57:57266 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:57:57357 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 12:57:57361 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 12:57:57366 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 12:57:57381 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[23-06-2024 12:57:57435 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 94
[23-06-2024 12:57:57474 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 204.9099ms
[23-06-2024 12:57:57477 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:57:57556 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 310.6925ms
[23-06-2024 12:58:49040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 330
[23-06-2024 12:58:49050 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:58:49051 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:58:49053 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:58:49055 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:58:49063 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 12:58:49066 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 9.2653ms
[23-06-2024 12:58:49068 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:58:49070 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 266 "application/problem+json; charset=utf-8" 32.4895ms
[23-06-2024 12:59:09260 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 336
[23-06-2024 12:59:09274 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:59:09276 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:59:09278 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:59:09280 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:59:09314 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 12:59:09317 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 12:59:09326 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 12:59:09330 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[23-06-2024 12:59:09395 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 94
[23-06-2024 12:59:09445 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 161.6747ms
[23-06-2024 12:59:09447 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:59:09518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 260.5272ms
[23-06-2024 12:59:20542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 337
[23-06-2024 12:59:20546 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:59:20549 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:59:20551 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:59:20553 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:59:20569 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 12:59:20573 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 12:59:20578 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 12:59:20581 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 69847068308 was found"
[23-06-2024 12:59:20625 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 94
[23-06-2024 12:59:20670 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 113.965ms
[23-06-2024 12:59:20673 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:59:20756 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 215.2192ms
[23-06-2024 12:59:29669 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 338
[23-06-2024 12:59:29673 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:59:29675 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:59:29678 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:59:29681 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:59:29695 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 12:59:29698 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 12:59:29702 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 12:59:29706 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698470683089 not found or invalid credentials provided"
[23-06-2024 12:59:29713 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 12:59:30191 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 12:59:30200 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b2f3dfb9-51d3-42ea-b5c5-0fc11e638a34
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b2f3dfb9-51d3-42ea-b5c5-0fc11e638a34
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 12:59:30311 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 12:59:30508 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 825.4648ms
[23-06-2024 12:59:30511 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:59:30617 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 948.9079ms
[23-06-2024 12:59:39507 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 339
[23-06-2024 12:59:39512 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 12:59:39513 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 12:59:39516 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:59:39518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 12:59:39524 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 12:59:39526 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 5.6827ms
[23-06-2024 12:59:39528 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 12:59:39530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 24.6278ms
[23-06-2024 13:01:08598 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 332
[23-06-2024 13:01:08610 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 13:01:08612 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 13:01:08613 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 13:01:08615 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 13:01:08623 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 13:01:08625 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 6.8217ms
[23-06-2024 13:01:08628 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 13:01:08630 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 411 "application/problem+json; charset=utf-8" 32.3085ms
[23-06-2024 13:56:08222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 13:56:08270 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 13:56:08317 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 111.9671ms
[23-06-2024 13:56:08330 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 246
[23-06-2024 13:56:08337 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 13:56:08353 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 13:56:08368 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 13:56:08443 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 13:56:08451 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 79.3954ms
[23-06-2024 13:56:08454 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 13:56:08456 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 126.8618ms
[23-06-2024 14:12:40595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:12:40615 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:12:40622 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 31.6968ms
[23-06-2024 14:12:40636 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 236
[23-06-2024 14:12:40654 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:12:40663 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:12:40669 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:12:41016 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("102"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:12:41025 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:12:41032 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:12:41035 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69 not found or invalid credentials provided"
[23-06-2024 14:12:41050 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:12:41349 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("68"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 14:12:41373 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 14:12:41617 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 14:12:41821 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 1148.7343ms
[23-06-2024 14:12:41828 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:12:41971 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 1335.0738ms
[23-06-2024 14:13:44638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:13:44642 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:13:44644 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 5.7015ms
[23-06-2024 14:13:44651 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 235
[23-06-2024 14:13:44655 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:13:44658 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:13:44659 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:13:44696 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:13:44699 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:13:44704 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:13:44707 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69 not found or invalid credentials provided"
[23-06-2024 14:13:44713 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:13:44941 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 14:13:44949 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 14:13:45069 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 14:13:45267 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 605.0218ms
[23-06-2024 14:13:45270 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:13:45367 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 716.7358ms
[23-06-2024 14:19:36477 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:19:36513 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:19:36522 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 50.7103ms
[23-06-2024 14:19:36530 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 233
[23-06-2024 14:19:36537 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:19:36563 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:19:36570 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:19:36762 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("123"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:19:36768 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:19:36777 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:19:36780 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69 not found or invalid credentials provided"
[23-06-2024 14:19:36788 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:19:37032 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("50"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 14:19:37059 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 14:19:37306 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 14:19:37588 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 1015.5345ms
[23-06-2024 14:19:37591 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:19:37724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 1194.4282ms
[23-06-2024 14:20:23789 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:20:23808 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:20:23810 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 22.2336ms
[23-06-2024 14:20:23821 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 232
[23-06-2024 14:20:23826 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:20:23827 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:20:23830 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:20:23893 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("53"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:20:23898 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:20:23905 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:20:23910 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[23-06-2024 14:20:23999 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 94
[23-06-2024 14:20:24046 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 213.6217ms
[23-06-2024 14:20:24051 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:20:24138 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 317.1198ms
[23-06-2024 14:27:10498 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:27:10543 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:27:10562 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 68.9619ms
[23-06-2024 14:27:10562 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 233
[23-06-2024 14:27:10577 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:27:10594 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:27:10605 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:27:10833 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("116"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:27:10843 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:27:10867 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("22"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:27:10878 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[23-06-2024 14:27:11114 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 94
[23-06-2024 14:27:11202 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 593.3978ms
[23-06-2024 14:27:11207 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:27:11338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 775.835ms
[23-06-2024 14:27:33477 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:27:33483 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:27:33485 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 8.4155ms
[23-06-2024 14:27:33494 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 224
[23-06-2024 14:27:33497 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:27:33499 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:27:33501 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:27:33536 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:27:33540 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.User found and returned"
[23-06-2024 14:27:33612 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.UserAlreadyExistsException: Username is already taken
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 79
[23-06-2024 14:27:33659 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 155.1373ms
[23-06-2024 14:27:33661 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:27:33731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 237.8667ms
[23-06-2024 14:31:04900 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:31:04917 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:31:04925 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 28.3874ms
[23-06-2024 14:31:04939 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 247
[23-06-2024 14:31:04959 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:31:04969 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:31:04984 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:31:05030 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 14:31:05041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 51.512ms
[23-06-2024 14:31:05042 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:31:05043 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 104.8173ms
[23-06-2024 14:34:24645 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:34:24694 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:34:24699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 52.5398ms
[23-06-2024 14:34:24705 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 236
[23-06-2024 14:34:24717 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:34:24720 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:34:24722 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:34:24861 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("77"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:34:24868 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:34:24886 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:34:24890 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69 not found or invalid credentials provided"
[23-06-2024 14:34:24907 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:34:25189 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 14:34:25207 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 14:34:25357 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 14:34:25521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 795.6871ms
[23-06-2024 14:34:25523 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:34:25617 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 913.5028ms
[23-06-2024 14:34:42599 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:34:42614 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:34:42616 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 17.4537ms
[23-06-2024 14:34:42625 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 236
[23-06-2024 14:34:42630 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:34:42635 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:34:42640 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:34:42673 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:34:42677 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:34:42684 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:34:42688 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69 not found or invalid credentials provided"
[23-06-2024 14:34:42696 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:34:42979 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 14:34:42988 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 14:34:43147 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 14:34:43288 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 643.8495ms
[23-06-2024 14:34:43290 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:34:43374 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 749.3291ms
[23-06-2024 14:37:13521 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:37:13536 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:37:13538 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 17.0656ms
[23-06-2024 14:37:13546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 233
[23-06-2024 14:37:13556 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:37:13558 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:37:13560 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:37:13569 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 14:37:13572 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 8.3564ms
[23-06-2024 14:37:13574 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:37:13577 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 30.7845ms
[23-06-2024 14:38:47782 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:38:47804 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:38:47807 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 25.5771ms
[23-06-2024 14:38:47815 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 244
[23-06-2024 14:38:47819 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:38:47821 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:38:47823 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:38:48001 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("127"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:38:48007 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:38:48050 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:38:48076 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[23-06-2024 14:38:48187 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 94
[23-06-2024 14:38:48245 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 419.233ms
[23-06-2024 14:38:48250 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:38:48356 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 541.6948ms
[23-06-2024 14:38:56305 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:38:56334 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:38:56336 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 31.2432ms
[23-06-2024 14:38:56342 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 247
[23-06-2024 14:38:56347 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:38:56349 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:38:56350 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:38:56358 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 14:38:56360 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 6.3675ms
[23-06-2024 14:38:56362 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:38:56364 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 21.9909ms
[23-06-2024 14:40:27849 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:40:27867 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:40:27868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 23.2707ms
[23-06-2024 14:40:27875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 246
[23-06-2024 14:40:27886 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:40:27888 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:40:27889 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:40:27907 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:40:27911 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:40:27916 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:40:27920 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[23-06-2024 14:40:27987 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 94
[23-06-2024 14:40:28030 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 138.3534ms
[23-06-2024 14:40:28033 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:40:28196 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 320.8988ms
[23-06-2024 14:40:34625 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:40:34630 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:40:34632 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 7.1401ms
[23-06-2024 14:40:34639 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 249
[23-06-2024 14:40:34642 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:40:34643 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:40:34645 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:40:34650 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 14:40:34652 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 5.1833ms
[23-06-2024 14:40:34655 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:40:34657 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 18.5716ms
[23-06-2024 14:40:41933 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:40:41939 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:40:41960 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 26.8598ms
[23-06-2024 14:40:41970 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 238
[23-06-2024 14:40:41973 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:40:41976 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:40:41979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:40:41999 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:40:42002 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:40:42015 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:40:42019 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69 not found or invalid credentials provided"
[23-06-2024 14:40:42043 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:40:42427 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("82"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 14:40:42450 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 14:40:42570 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 14:40:42726 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 744.2826ms
[23-06-2024 14:40:42728 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:40:42813 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 844.0614ms
[23-06-2024 14:40:52831 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:40:52837 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:40:52839 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 8.273ms
[23-06-2024 14:40:52846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 237
[23-06-2024 14:40:52851 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:40:52853 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:40:52855 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:40:52871 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:40:52875 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.User found and returned"
[23-06-2024 14:40:52916 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.UserAlreadyExistsException: Username is already taken
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 79
[23-06-2024 14:40:52954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 95.8816ms
[23-06-2024 14:40:52957 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:40:53027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 182.251ms
[23-06-2024 14:41:13486 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:41:13502 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:41:13504 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 17.4319ms
[23-06-2024 14:41:13514 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 248
[23-06-2024 14:41:13519 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:41:13521 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:41:13523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:41:13529 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 14:41:13532 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 5.637ms
[23-06-2024 14:41:13534 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:41:13536 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 21.5287ms
[23-06-2024 14:41:39178 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:41:39191 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:41:39193 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 15.3882ms
[23-06-2024 14:41:39201 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 235
[23-06-2024 14:41:39206 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:41:39207 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:41:39209 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:41:39228 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:41:39232 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:41:39238 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:41:39241 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 6985 not found or invalid credentials provided"
[23-06-2024 14:41:39247 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:41:39486 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 14:41:39495 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:806fe4bf-5a75-49b4-b8f3-89ef7d04d263
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 14:41:39627 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 14:41:39794 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 581.7183ms
[23-06-2024 14:41:39796 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:41:39875 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 675.0044ms
[23-06-2024 14:41:47510 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 14:41:47515 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:41:47517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 7.5905ms
[23-06-2024 14:41:47523 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 228
[23-06-2024 14:41:47526 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 14:41:47527 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:41:47529 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:41:47545 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:41:47549 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:41:47556 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:41:47559 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 6985 not found or invalid credentials provided"
[23-06-2024 14:41:47565 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:41:47871 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 14:41:47967 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[23-06-2024 14:41:47992 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[23-06-2024 14:41:48129 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 595.8688ms
[23-06-2024 14:41:48131 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:41:48133 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 241 "application/json; charset=utf-8" 611.1365ms
[23-06-2024 14:47:56579 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 261
[23-06-2024 14:47:56619 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 14:47:56627 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 14:47:56648 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:47:56665 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:47:56973 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:47:56982 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:47:57051 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("66"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:47:57060 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: +19119208831 not found or invalid credentials provided"
[23-06-2024 14:47:57093 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:47:57675 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("92"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 14:47:57719 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7d5a1277-fb11-4c3e-ad62-9f9d3aadf7a0
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7d5a1277-fb11-4c3e-ad62-9f9d3aadf7a0
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 14:47:57998 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 14:47:58802 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 2130.6476ms
[23-06-2024 14:47:58809 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:47:59040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 2469.3435ms
[23-06-2024 14:48:12498 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 259
[23-06-2024 14:48:12502 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 14:48:12503 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 14:48:12504 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:48:12506 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:48:12530 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 14:48:12533 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 14:48:12539 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 14:48:12541 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[23-06-2024 14:48:12589 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 94
[23-06-2024 14:48:12632 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 123.4575ms
[23-06-2024 14:48:12634 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:48:12714 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 216.185ms
[23-06-2024 14:48:22842 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 262
[23-06-2024 14:48:22847 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 14:48:22849 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 14:48:22852 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:48:22855 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:48:22872 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 14:48:22879 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 19.9834ms
[23-06-2024 14:48:22881 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 14:48:22882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 41.1281ms
[23-06-2024 14:53:46244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 69
[23-06-2024 14:53:46272 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 14:53:46274 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 14:53:46280 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 14:53:46365 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:53:46438 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 14:53:46447 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 79.6813ms
[23-06-2024 14:53:46450 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 14:53:46452 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 266 "application/problem+json; charset=utf-8" 211.7108ms
[23-06-2024 14:53:57354 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 65
[23-06-2024 14:53:57366 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 14:53:57367 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 14:53:57370 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 14:53:57372 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:53:57381 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 14:53:57385 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 7.8889ms
[23-06-2024 14:53:57387 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 14:53:57389 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 266 "application/problem+json; charset=utf-8" 35.6079ms
[23-06-2024 14:54:04735 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 67
[23-06-2024 14:54:04741 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 14:54:04742 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 14:54:04745 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 14:54:04747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 14:54:05029 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("67"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 14:54:05037 +03:00 BooksApiApp.Services.UserService ] "User: skjnot found or invalid credentials provided"
[23-06-2024 14:54:05133 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 382.4835ms
[23-06-2024 14:54:05137 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 14:54:05219 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 484.9158ms
[23-06-2024 15:18:45416 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[23-06-2024 15:18:45446 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 15:18:45453 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 46.6402ms
[23-06-2024 15:18:45503 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[23-06-2024 15:18:45511 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 15:18:45521 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 15:18:45532 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 15:18:45867 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("122"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 15:18:45872 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 15:18:45902 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 15:18:45927 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[23-06-2024 15:18:46023 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
BooksApiApp.Services.Exceptions.PhonenumberAlreadyExistsException: There is already a user with this phone number
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 94
[23-06-2024 15:18:46095 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 559.5921ms
[23-06-2024 15:18:46098 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 15:18:46269 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 766.6408ms
[23-06-2024 15:20:07442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 65
[23-06-2024 15:20:07501 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 15:20:07503 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 15:20:07506 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:20:07509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 15:20:07546 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 15:20:07560 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 48.1368ms
[23-06-2024 15:20:07562 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:20:07565 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 266 "application/problem+json; charset=utf-8" 124.5895ms
[23-06-2024 15:20:33943 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 68
[23-06-2024 15:20:33957 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 15:20:33958 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 15:20:33960 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:20:33961 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 15:21:09076 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("35,070"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 15:21:09119 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258):       
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4cc365da-bcce-4b94-a414-e2c7b46e4664
Error Number:-2,State:0,Class:11"
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258):       
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4cc365da-bcce-4b94-a414-e2c7b46e4664
Error Number:-2,State:0,Class:11
[23-06-2024 15:21:09303 +03:00 BooksApiApp.Services.UserService ] "Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.""   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UserRepository.GetUserAsync(String username, String password) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UserRepository.cs:line 40
   at BooksApiApp.Services.UserService.VerifyAndGetUserAsync(UserLoginDTO credentials) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 214"
[23-06-2024 15:21:09448 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 35484.7083ms
[23-06-2024 15:21:09452 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:21:09575 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 500 null "application/json" 35631.6233ms
[23-06-2024 15:21:47141 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 257
[23-06-2024 15:21:47154 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 15:21:47156 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 15:21:47158 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 15:21:47160 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 15:21:47171 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 15:21:47174 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 11.1304ms
[23-06-2024 15:21:47177 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 15:21:47179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 376 "application/problem+json; charset=utf-8" 37.8817ms
[23-06-2024 15:22:13772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 254
[23-06-2024 15:22:13779 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 15:22:13781 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 15:22:13784 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 15:22:13786 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 15:22:20859 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("52"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 15:22:20863 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[23-06-2024 15:22:20903 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[23-06-2024 15:22:20907 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69847658 not found or invalid credentials provided"
[23-06-2024 15:22:20933 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[23-06-2024 15:22:21183 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[23-06-2024 15:22:21202 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0a0ab1a3-66e3-4481-a877-04852167d81e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0a0ab1a3-66e3-4481-a877-04852167d81e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[23-06-2024 15:22:21341 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[23-06-2024 15:22:21525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 7734.247ms
[23-06-2024 15:22:21527 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[23-06-2024 15:22:21633 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 null "application/json" 7865.7784ms
[23-06-2024 15:22:39175 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 68
[23-06-2024 15:22:39187 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 15:22:39188 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 15:22:39190 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:22:39192 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 15:22:39234 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 15:22:39237 +03:00 BooksApiApp.Services.UserService ] "User: sjklnot found or invalid credentials provided"
[23-06-2024 15:22:39283 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 87.9251ms
[23-06-2024 15:22:39285 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:22:39361 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 186.7706ms
[23-06-2024 15:25:50147 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[23-06-2024 15:25:50680 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[23-06-2024 15:25:50683 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[23-06-2024 15:25:50688 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[23-06-2024 15:25:50690 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[23-06-2024 15:25:50692 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[23-06-2024 15:25:51987 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 15:25:52489 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 513.0035ms
[23-06-2024 15:25:52561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 15:25:52580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 18.627ms
[23-06-2024 15:25:53227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 15:25:53321 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 93.5011ms
[23-06-2024 15:25:53459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 15:25:53703 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 244.6379ms
[23-06-2024 15:26:05162 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 69
[23-06-2024 15:26:05176 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 15:26:05179 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 15:26:05304 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:26:05352 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 15:26:05879 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 15:26:05966 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 604.2445ms
[23-06-2024 15:26:05968 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:26:05975 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 272 "application/problem+json; charset=utf-8" 813.9986ms
[23-06-2024 15:29:03703 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 71
[23-06-2024 15:29:03715 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 15:29:03717 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 15:29:03721 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:29:03737 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 15:29:04753 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[23-06-2024 15:29:06086 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("160"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 15:29:06132 +03:00 BooksApiApp.Services.UserService ] "User: gdfnot found or invalid credentials provided"
[23-06-2024 15:29:06264 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 2522.7945ms
[23-06-2024 15:29:06269 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:29:06396 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 2694.0034ms
[23-06-2024 15:29:38081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 92
[23-06-2024 15:29:38092 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 15:29:38093 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 15:29:38099 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:29:38101 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 15:29:38192 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 15:29:39068 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[23-06-2024 15:29:39167 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 15:29:39170 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 1067.3229ms
[23-06-2024 15:29:39172 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:29:39173 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 567 "application/json; charset=utf-8" 1114.469ms
[23-06-2024 15:29:59982 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 76
[23-06-2024 15:29:59996 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 15:29:59998 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 15:30:00000 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:30:00001 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 15:30:00038 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 15:30:00381 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[23-06-2024 15:30:00384 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 15:30:00386 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 382.8627ms
[23-06-2024 15:30:00389 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 15:30:00391 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 567 "application/json; charset=utf-8" 409.9958ms
[23-06-2024 16:08:51866 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[23-06-2024 16:08:52401 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[23-06-2024 16:08:52405 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[23-06-2024 16:08:52409 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[23-06-2024 16:08:52411 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[23-06-2024 16:08:52413 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[23-06-2024 16:08:53854 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 16:08:54310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 471.4873ms
[23-06-2024 16:08:54392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 16:08:54404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 11.6203ms
[23-06-2024 16:08:54473 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 16:08:54550 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 77.8047ms
[23-06-2024 16:08:54732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 16:08:55053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 321.5084ms
[23-06-2024 16:09:15748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 69
[23-06-2024 16:09:15768 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 16:09:15770 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 16:09:15925 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:09:15982 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:09:16565 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 16:09:16681 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 690.9038ms
[23-06-2024 16:09:16684 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:09:16689 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 272 "application/problem+json; charset=utf-8" 942.366ms
[23-06-2024 16:09:47600 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json-patch+json" 69
[23-06-2024 16:09:47617 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[23-06-2024 16:09:47618 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[23-06-2024 16:09:47626 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:09:47637 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:09:48733 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[23-06-2024 16:09:50359 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("251"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:09:50412 +03:00 BooksApiApp.Services.UserService ] "User: sfgnot found or invalid credentials provided"
[23-06-2024 16:09:50568 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 2928.4562ms
[23-06-2024 16:09:50573 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:09:50747 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 3146.992ms
[23-06-2024 16:12:10440 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:12:10485 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:12:10503 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 77.8086ms
[23-06-2024 16:12:10513 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 57
[23-06-2024 16:12:10522 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:12:10546 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:12:10558 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:12:10940 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("79"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:12:10946 +03:00 BooksApiApp.Services.UserService ] "User: sdfasnot found or invalid credentials provided"
[23-06-2024 16:12:11053 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 490.0745ms
[23-06-2024 16:12:11058 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:12:11152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 639.7716ms
[23-06-2024 16:19:55500 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:19:55552 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:19:55562 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 74.6119ms
[23-06-2024 16:19:55580 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 59
[23-06-2024 16:19:55596 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:19:55615 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:19:55629 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:19:56362 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("187"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:19:56375 +03:00 BooksApiApp.Services.UserService ] "User: usernot found or invalid credentials provided"
[23-06-2024 16:19:56511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 877.918ms
[23-06-2024 16:19:56514 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:19:56619 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 1038.5403ms
[23-06-2024 16:23:52862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:23:52884 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:23:52891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 39.5868ms
[23-06-2024 16:23:52904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 57
[23-06-2024 16:23:52911 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:23:52927 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:23:52939 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:23:53092 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("64"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:23:53097 +03:00 BooksApiApp.Services.UserService ] "User: usernot found or invalid credentials provided"
[23-06-2024 16:23:53200 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 257.7768ms
[23-06-2024 16:23:53207 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:23:53317 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 413.6916ms
[23-06-2024 16:26:15074 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:26:15143 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:26:15149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 99.1766ms
[23-06-2024 16:26:15161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[23-06-2024 16:26:15180 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:26:15210 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:26:15239 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:26:15542 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("106"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:26:15549 +03:00 BooksApiApp.Services.UserService ] "User: dfghdnot found or invalid credentials provided"
[23-06-2024 16:26:15755 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 511.8589ms
[23-06-2024 16:26:15762 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:26:15868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 703.6808ms
[23-06-2024 16:26:49525 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:26:49541 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:26:49542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 17.2817ms
[23-06-2024 16:26:49550 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 55
[23-06-2024 16:26:49553 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:26:49554 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:26:49556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:26:49589 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:26:49594 +03:00 BooksApiApp.Services.UserService ] "User: rtgnot found or invalid credentials provided"
[23-06-2024 16:26:49685 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 125.9874ms
[23-06-2024 16:26:49688 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:26:49777 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 227.5373ms
[23-06-2024 16:28:20642 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:28:20652 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:28:20655 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 24.0973ms
[23-06-2024 16:28:20679 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 55
[23-06-2024 16:28:20683 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:28:20689 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:28:20692 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:28:20781 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("69"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:28:20786 +03:00 BooksApiApp.Services.UserService ] "User: fgnot found or invalid credentials provided"
[23-06-2024 16:28:20858 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 162.9544ms
[23-06-2024 16:28:20861 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:28:20953 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 275.0124ms
[23-06-2024 16:29:23841 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:29:23855 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:29:23859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 16.6745ms
[23-06-2024 16:29:23862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[23-06-2024 16:29:23867 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:29:23869 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:29:23870 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:29:23914 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:29:23920 +03:00 BooksApiApp.Services.UserService ] "User: fsgsnot found or invalid credentials provided"
[23-06-2024 16:29:23989 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 116.0247ms
[23-06-2024 16:29:23992 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:29:24083 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 221.4431ms
[23-06-2024 16:29:31919 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:29:31923 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:29:31925 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 6.3462ms
[23-06-2024 16:29:31931 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 55
[23-06-2024 16:29:31934 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:29:31935 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:29:31936 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:29:31955 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 16:29:31969 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 30.866ms
[23-06-2024 16:29:31971 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:29:31973 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 272 "application/problem+json; charset=utf-8" 43.0641ms
[23-06-2024 16:32:53033 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:32:53051 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:32:53054 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 29.6885ms
[23-06-2024 16:32:53065 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 55
[23-06-2024 16:32:53072 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:32:53086 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:32:53096 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:32:53191 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("27"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:32:53198 +03:00 BooksApiApp.Services.UserService ] "User: dfgnot found or invalid credentials provided"
[23-06-2024 16:32:53279 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 179.4874ms
[23-06-2024 16:32:53284 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:32:53383 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 318.4163ms
[23-06-2024 16:32:58913 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:32:58928 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:32:58929 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 16.4422ms
[23-06-2024 16:32:58935 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 53
[23-06-2024 16:32:58939 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:32:58941 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:32:58943 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:32:58952 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 16:32:58960 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 13.0408ms
[23-06-2024 16:32:58962 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:32:58964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 272 "application/problem+json; charset=utf-8" 29.8521ms
[23-06-2024 16:37:57421 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[23-06-2024 16:37:58207 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[23-06-2024 16:37:58212 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[23-06-2024 16:37:58215 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[23-06-2024 16:37:58218 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[23-06-2024 16:37:58221 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[23-06-2024 16:38:00834 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 16:38:01416 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 592.9381ms
[23-06-2024 16:38:01722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 16:38:01723 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 16:38:01760 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 40.6581ms
[23-06-2024 16:38:01859 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 136.8411ms
[23-06-2024 16:38:02096 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 16:38:02375 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 279.7335ms
[23-06-2024 16:38:21153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:38:21203 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:38:21230 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 85.8654ms
[23-06-2024 16:38:21257 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 61
[23-06-2024 16:38:21292 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:38:21497 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:38:21566 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:38:23949 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[23-06-2024 16:38:25949 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("255"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:38:26002 +03:00 BooksApiApp.Services.UserService ] "User: fghfnot found or invalid credentials provided"
[23-06-2024 16:38:26168 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 4591.6994ms
[23-06-2024 16:38:26173 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:38:26358 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 401 null "application/json" 5100.96ms
[23-06-2024 16:38:35142 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:38:35148 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:38:35150 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 8.4168ms
[23-06-2024 16:38:35156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 58
[23-06-2024 16:38:35162 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:38:35165 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:38:35168 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:38:35198 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[23-06-2024 16:38:35275 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 102.4592ms
[23-06-2024 16:38:35277 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:38:35279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 400 272 "application/problem+json; charset=utf-8" 123.8075ms
[23-06-2024 16:40:11671 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 16:40:11696 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:40:11701 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 36.3759ms
[23-06-2024 16:40:11709 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 62
[23-06-2024 16:40:11715 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 16:40:11736 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:40:11746 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 16:40:12048 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("60"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 16:40:12887 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[23-06-2024 16:40:12995 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 16:40:13004 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 1254.197ms
[23-06-2024 16:40:13006 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 16:40:13008 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 567 "application/json; charset=utf-8" 1299.3273ms
[23-06-2024 18:34:36493 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[23-06-2024 18:34:37514 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[23-06-2024 18:34:37518 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[23-06-2024 18:34:37522 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[23-06-2024 18:34:37523 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[23-06-2024 18:34:37524 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[23-06-2024 18:34:39481 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[23-06-2024 18:34:40077 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 608.3404ms
[23-06-2024 18:34:40152 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[23-06-2024 18:34:40163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 12.0583ms
[23-06-2024 18:34:40403 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[23-06-2024 18:34:40491 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 87.9414ms
[23-06-2024 18:34:40634 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[23-06-2024 18:34:40862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 228.8299ms
[23-06-2024 18:42:58907 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 18:42:59049 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 18:42:59970 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 18:43:00152 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 18:43:02056 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[23-06-2024 18:43:03659 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("143"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 18:43:03828 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 18:43:04162 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 3998.4988ms
[23-06-2024 18:43:04164 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 18:43:04176 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 5282.2497ms
[23-06-2024 19:50:34728 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 19:50:34811 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 19:50:34828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 109.1593ms
[23-06-2024 19:50:34844 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 78
[23-06-2024 19:50:34860 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 19:50:34882 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 19:50:34975 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 19:50:35695 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("159"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 19:50:37029 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[23-06-2024 19:50:37120 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 19:50:37124 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 2146.3146ms
[23-06-2024 19:50:37126 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 19:50:37130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 567 "application/json; charset=utf-8" 2285.6128ms
[23-06-2024 19:56:46272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 19:56:46314 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 19:56:46326 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 66.8327ms
[23-06-2024 19:56:46332 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 78
[23-06-2024 19:56:46340 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 19:56:46372 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 19:56:46387 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 19:56:46803 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("180"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 19:56:47012 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[23-06-2024 19:56:47030 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 19:56:47036 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 646.1094ms
[23-06-2024 19:56:47038 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 19:56:47040 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 567 "application/json; charset=utf-8" 707.8033ms
[23-06-2024 20:37:50699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 20:37:50764 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 20:37:50793 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 78
[23-06-2024 20:37:50797 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 127.5639ms
[23-06-2024 20:37:50806 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 20:37:50830 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 20:37:50850 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 20:37:51318 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("158"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 20:37:51621 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[23-06-2024 20:37:51654 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 20:37:51661 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 805.4068ms
[23-06-2024 20:37:51664 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 20:37:51672 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 567 "application/json; charset=utf-8" 879.9511ms
[23-06-2024 20:43:00721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 20:43:00748 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 20:43:00757 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 52.6047ms
[23-06-2024 20:43:00773 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 78
[23-06-2024 20:43:00781 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 20:43:00798 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 20:43:00813 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 20:43:01095 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("139"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 20:43:01365 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[23-06-2024 20:43:01406 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 20:43:01419 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 598.7076ms
[23-06-2024 20:43:01434 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 20:43:01439 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 567 "application/json; charset=utf-8" 666.2346ms
[23-06-2024 20:51:31184 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 20:51:31263 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 20:51:31280 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 20:51:31293 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 20:51:31882 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 20:51:31909 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 20:51:31949 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 648.651ms
[23-06-2024 20:51:31952 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 20:51:31958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 787.2254ms
[23-06-2024 21:05:38483 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 21:05:38520 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 21:05:38533 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 63.963ms
[23-06-2024 21:05:38556 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 78
[23-06-2024 21:05:38605 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 21:05:38636 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 21:05:38653 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 21:05:39182 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("145"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 21:05:39464 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[23-06-2024 21:05:39505 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 21:05:39514 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 856.9029ms
[23-06-2024 21:05:39522 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 21:05:39527 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 567 "application/json; charset=utf-8" 972.366ms
[23-06-2024 21:08:58463 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 21:08:58469 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 21:08:58479 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 16.8159ms
[23-06-2024 21:08:58499 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 70
[23-06-2024 21:08:58504 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 21:08:58507 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 21:08:58510 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 21:08:58580 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 21:08:58864 +03:00 BooksApiApp.Services.UserService ] {Message}User: "kat" found and returned
[23-06-2024 21:08:58868 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 21:08:58873 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 360.1265ms
[23-06-2024 21:08:58876 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 21:08:58883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 549 "application/json; charset=utf-8" 382.6769ms
[23-06-2024 21:11:37516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 21:11:37596 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 21:11:37613 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 21:11:37621 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 21:11:37725 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 21:11:37747 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 21:11:37905 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 278.3529ms
[23-06-2024 21:11:37909 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 21:11:37914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 404.1416ms
[23-06-2024 21:16:40411 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 21:16:40497 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 21:16:40527 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 21:16:40539 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 21:16:40809 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 21:16:40839 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 21:16:40872 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 321.5487ms
[23-06-2024 21:16:40877 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 21:16:40883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 493.7617ms
[23-06-2024 21:34:32001 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 21:34:32093 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 21:34:32120 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 21:34:32147 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 21:34:32551 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("97"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 21:34:32587 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 21:34:32636 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 483.3812ms
[23-06-2024 21:34:32641 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 21:34:32653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 668.6036ms
[23-06-2024 21:35:03938 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 21:35:03948 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 21:35:03952 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 21:35:03954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 21:35:03999 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 21:35:04011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 21:35:04021 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 62.8101ms
[23-06-2024 21:35:04028 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 21:35:04031 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 93.9647ms
[23-06-2024 22:32:54487 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 22:32:54634 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 22:32:54683 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 22:32:54702 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 22:32:55117 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("154"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 22:32:55139 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 22:32:55170 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 465.2426ms
[23-06-2024 22:32:55173 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 22:32:55177 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 716.0732ms
[23-06-2024 22:33:33811 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 22:33:33830 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 22:33:33834 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 22:33:33839 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 22:33:33913 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("54"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 22:33:33917 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 22:33:33923 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 74.7804ms
[23-06-2024 22:33:33925 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 22:33:33927 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 134.6814ms
[23-06-2024 22:35:23235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 22:35:23285 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 22:35:23307 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 22:35:23329 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 22:35:23477 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("66"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 22:35:23492 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 22:35:23508 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 172.5568ms
[23-06-2024 22:35:23511 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 22:35:23515 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 291.2304ms
[23-06-2024 22:36:45744 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 22:36:45751 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 22:36:45758 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 22:36:45761 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 22:36:45796 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 22:36:45802 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 22:36:45817 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 51.2871ms
[23-06-2024 22:36:45826 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 22:36:45830 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 87.3356ms
[23-06-2024 22:36:59527 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[23-06-2024 22:36:59539 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 22:36:59549 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 22:36:59553 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[23-06-2024 22:36:59587 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[23-06-2024 22:36:59592 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[23-06-2024 22:36:59599 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 40.3713ms
[23-06-2024 22:36:59602 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[23-06-2024 22:36:59604 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 76.9145ms
[23-06-2024 22:40:22751 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 22:40:22773 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 22:40:22783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 34.8789ms
[23-06-2024 22:40:22792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 78
[23-06-2024 22:40:22799 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 22:40:22805 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 22:40:22812 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 22:40:23100 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("154"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 22:40:23310 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[23-06-2024 22:40:23332 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 22:40:23336 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 520.7784ms
[23-06-2024 22:40:23338 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 22:40:23340 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 567 "application/json; charset=utf-8" 548.269ms
[23-06-2024 23:01:09289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - null null
[23-06-2024 23:01:09326 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 23:01:09337 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/LoginUser""" - 204 null null 54.2184ms
[23-06-2024 23:01:09344 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - "application/json" 78
[23-06-2024 23:01:09352 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[23-06-2024 23:01:09366 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 23:01:09379 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"LoginUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.JwtTokenDTO]] LoginUserAsync(BooksApiApp.DTO.UserLoginDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[23-06-2024 23:01:09742 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("138"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0 OR [u].[EMAIL] = @__username_0"
[23-06-2024 23:01:09954 +03:00 BooksApiApp.Services.UserService ] {Message}User: "katekipa" found and returned
[23-06-2024 23:01:09972 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.JwtTokenDTO"'.
[23-06-2024 23:01:09976 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)" in 593.8688ms
[23-06-2024 23:01:09979 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.LoginUserAsync (BooksApiApp)"'
[23-06-2024 23:01:09981 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/LoginUser""" - 200 567 "application/json; charset=utf-8" 636.9824ms
