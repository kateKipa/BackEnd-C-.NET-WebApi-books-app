[22-06-2024 11:01:39280 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 11:01:40557 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 11:01:40561 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 11:01:40565 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 11:01:40568 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 11:01:40569 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 11:01:42566 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 11:01:43154 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 594.9446ms
[22-06-2024 11:01:43316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 11:01:43331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 14.604ms
[22-06-2024 11:01:43571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 11:01:43738 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 167.2501ms
[22-06-2024 11:01:43958 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 11:01:44183 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 224.8502ms
[22-06-2024 11:04:22734 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "text/json" 229
[22-06-2024 11:04:22750 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 11:04:22752 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 11:04:23094 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:04:23131 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 11:04:25024 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 11:04:26732 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("125"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 11:04:26790 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 11:04:26841 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 11:04:27940 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("34"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 11:04:27979 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[22-06-2024 11:04:28175 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 5032.309ms
[22-06-2024 11:04:28183 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:04:28325 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 500 null "application/json" 5591.5462ms
[22-06-2024 11:07:01912 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 11:07:02468 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 11:07:02471 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 11:07:02475 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 11:07:02476 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 11:07:02477 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 11:07:03923 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 11:07:04311 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 398.9257ms
[22-06-2024 11:07:04335 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 11:07:04347 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 11.3941ms
[22-06-2024 11:07:04386 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 11:07:04502 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 116.3398ms
[22-06-2024 11:07:04629 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 11:07:04952 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 324.6334ms
[22-06-2024 11:08:00076 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 228
[22-06-2024 11:08:00092 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 11:08:00094 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 11:08:00220 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:08:00276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 11:08:01779 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 11:08:03056 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("138"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 11:08:03131 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 11:08:03173 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 11:08:04215 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("38"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 11:08:04264 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5eb84280-31ac-4a15-ae32-55cb11b20913
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5eb84280-31ac-4a15-ae32-55cb11b20913
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 11:08:04505 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 11:08:04634 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 4350.8117ms
[22-06-2024 11:08:04640 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:08:04787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 500 null "application/json" 4710.9541ms
[22-06-2024 11:10:53105 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 229
[22-06-2024 11:10:53118 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 11:10:53120 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 11:10:53125 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:10:53128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 11:10:53222 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 11:10:53225 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 11:10:53230 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 11:10:53759 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 11:10:53769 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5eb84280-31ac-4a15-ae32-55cb11b20913
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5eb84280-31ac-4a15-ae32-55cb11b20913
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 11:10:53898 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 11:10:54009 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 877.8113ms
[22-06-2024 11:10:54011 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:10:54104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 500 null "application/json" 1004.52ms
[22-06-2024 11:11:23583 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 231
[22-06-2024 11:11:23593 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 11:11:23594 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 11:11:23599 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:11:23601 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 11:11:23648 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 11:11:23652 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 11:11:23658 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 11:11:23848 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 11:11:23855 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5eb84280-31ac-4a15-ae32-55cb11b20913
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5eb84280-31ac-4a15-ae32-55cb11b20913
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 11:11:23956 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 11:11:24051 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 446.6469ms
[22-06-2024 11:11:24052 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:11:24129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 500 null "application/json" 550.4357ms
[22-06-2024 11:15:25096 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 11:15:25567 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 11:15:25570 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 11:15:25573 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 11:15:25574 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 11:15:25575 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 11:15:26429 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 11:15:26832 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 416.8388ms
[22-06-2024 11:15:26934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 11:15:26934 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 11:15:26959 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 25.1449ms
[22-06-2024 11:15:27016 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 82.5567ms
[22-06-2024 11:15:27163 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 11:15:27442 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 279.407ms
[22-06-2024 11:15:35868 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks""" - null null
[22-06-2024 11:15:35989 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[22-06-2024 11:15:36030 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[22-06-2024 11:15:37238 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 11:15:38589 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("114"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[22-06-2024 11:15:38775 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 11:15:39002 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 2964.8017ms
[22-06-2024 11:15:39006 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[22-06-2024 11:15:39023 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks""" - 200 2662 "application/json; charset=utf-8" 3154.4836ms
[22-06-2024 11:16:12852 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBookById/1""" - null null
[22-06-2024 11:16:12860 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBookById (BooksApiApp)"'
[22-06-2024 11:16:12877 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBookById\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookById(Int32)" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[22-06-2024 11:16:13174 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]
WHERE [b].[ID] = @__p_0"
[22-06-2024 11:16:13182 +03:00 BooksApiApp.Services.UserService ] "Book with id: 1 was found"
[22-06-2024 11:16:13186 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"BooksApiApp.DTO.BookReadOnlyDTO"'.
[22-06-2024 11:16:13189 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBookById (BooksApiApp)" in 308.5799ms
[22-06-2024 11:16:13190 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBookById (BooksApiApp)"'
[22-06-2024 11:16:13193 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBookById/1""" - 200 182 "application/json; charset=utf-8" 341.3822ms
[22-06-2024 11:16:40071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooksByTitle/search/To Kill a Mockingbird""" - null null
[22-06-2024 11:16:40077 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooksByTitle (BooksApiApp)"'
[22-06-2024 11:16:40083 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksByTitle\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksByTitle(System.String)" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[22-06-2024 11:16:40160 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__title_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]
WHERE [b].[TITLE] = @__title_0"
[22-06-2024 11:16:40165 +03:00 BooksApiApp.Services.UserService ] "Book with title: To Kill a Mockingbird was found"
[22-06-2024 11:16:40167 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 11:16:40175 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooksByTitle (BooksApiApp)" in 89.15ms
[22-06-2024 11:16:40178 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooksByTitle (BooksApiApp)"'
[22-06-2024 11:16:40180 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooksByTitle/search/To Kill a Mockingbird""" - 200 184 "application/json; charset=utf-8" 115.997ms
[22-06-2024 11:17:08817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooksByTitle/search/To Kill a Mock""" - null null
[22-06-2024 11:17:08908 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooksByTitle (BooksApiApp)"'
[22-06-2024 11:17:08919 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooksByTitle\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooksByTitle(System.String)" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[22-06-2024 11:17:08983 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("46"ms) [Parameters=["@__title_0='?' (Size = 200)"], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]
WHERE [b].[TITLE] = @__title_0"
[22-06-2024 11:17:08994 +03:00 BooksApiApp.Services.UserService ] "Book with title: To Kill a Mock was found"
[22-06-2024 11:17:09005 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 11:17:09011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooksByTitle (BooksApiApp)" in 88.0457ms
[22-06-2024 11:17:09024 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooksByTitle (BooksApiApp)"'
[22-06-2024 11:17:09034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooksByTitle/search/To Kill a Mock""" - 200 2 "application/json; charset=utf-8" 218.6666ms
[22-06-2024 11:20:30482 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 11:20:30998 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 11:20:31001 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 11:20:31006 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 11:20:31008 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 11:20:31010 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 11:20:32322 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 11:20:32787 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 478.8967ms
[22-06-2024 11:20:32869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 11:20:32869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 11:20:32899 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 24.1576ms
[22-06-2024 11:20:32954 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 85.0069ms
[22-06-2024 11:20:33100 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 11:20:33315 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 215.9895ms
[22-06-2024 11:21:23855 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "text/json" 225
[22-06-2024 11:21:23871 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 11:21:23872 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 11:21:23981 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:21:24023 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 11:21:25525 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 11:21:26927 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("95"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 11:21:26964 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 11:21:26994 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 11:21:28061 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 11:21:28108 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:142e5795-dbf4-4f88-8e89-3d513b90ba78
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:142e5795-dbf4-4f88-8e89-3d513b90ba78
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 11:21:28261 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 11:21:28380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 4348.3038ms
[22-06-2024 11:21:28386 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:21:28539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 500 null "application/json" 4684.7954ms
[22-06-2024 11:40:02087 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 11:40:02585 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 11:40:02588 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 11:40:02593 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 11:40:02594 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 11:40:02596 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 11:40:03699 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 11:40:04119 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 430.539ms
[22-06-2024 11:40:04127 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 11:40:04138 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 11.461ms
[22-06-2024 11:40:04198 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 11:40:04284 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 86.5813ms
[22-06-2024 11:40:04414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 11:40:04693 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 279.37ms
[22-06-2024 11:40:34065 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 232
[22-06-2024 11:40:34083 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 11:40:34086 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 11:40:34207 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:40:34247 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 11:40:34806 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 11:40:34901 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 645.0101ms
[22-06-2024 11:40:34904 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 11:40:34912 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 301 "application/problem+json; charset=utf-8" 846.8529ms
[22-06-2024 12:18:54078 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 12:18:54594 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 12:18:54598 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 12:18:54602 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 12:18:54609 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 12:18:54611 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 12:18:55683 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 12:18:56075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 401.3152ms
[22-06-2024 12:18:56113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 12:18:56126 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 13.8385ms
[22-06-2024 12:18:56172 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 12:18:56253 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 81.629ms
[22-06-2024 12:18:56381 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 12:18:56664 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 283.2963ms
[22-06-2024 12:19:18181 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 234
[22-06-2024 12:19:18199 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 12:19:18201 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 12:19:18356 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 12:19:18402 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 12:19:19011 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 12:19:19093 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 681.9882ms
[22-06-2024 12:19:19095 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 12:19:19098 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 342 "application/problem+json; charset=utf-8" 917.468ms
[22-06-2024 12:20:20213 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 243
[22-06-2024 12:20:20232 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 12:20:20233 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 12:20:20237 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 12:20:20250 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 12:20:21231 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 12:20:22581 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("136"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 12:20:22635 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 12:20:22666 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 12:20:24041 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("88"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 12:20:24109 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3e0ca6df-ffc3-4aac-8eeb-30a7bd4ec18a
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3e0ca6df-ffc3-4aac-8eeb-30a7bd4ec18a
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 12:20:25553 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 12:20:25709 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (user@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3e0ca6df-ffc3-4aac-8eeb-30a7bd4ec18a
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 57
[22-06-2024 12:20:25727 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 12:20:25734 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 5481.4483ms
[22-06-2024 12:20:25738 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 12:20:25752 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 500 43 "application/json; charset=utf-8" 5539.553ms
[22-06-2024 13:05:10568 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 13:05:11062 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 13:05:11066 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 13:05:11078 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 13:05:11081 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 13:05:11085 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 13:05:12124 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 13:05:12546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 432.4697ms
[22-06-2024 13:05:12662 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 13:05:12662 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 13:05:12675 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 12.7242ms
[22-06-2024 13:05:12736 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 74.5284ms
[22-06-2024 13:05:12883 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 13:05:13161 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 277.7554ms
[22-06-2024 13:41:53238 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[22-06-2024 13:41:53335 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 13:41:53518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[22-06-2024 13:41:53596 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[22-06-2024 13:41:54976 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 13:41:56170 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("166"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[22-06-2024 13:41:56342 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 13:41:56533 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 2929.1392ms
[22-06-2024 13:41:56537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[22-06-2024 13:41:56552 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 3321.613ms
[22-06-2024 13:42:26649 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 13:42:26657 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 13:42:26661 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 12.0043ms
[22-06-2024 13:42:26673 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 121
[22-06-2024 13:42:26682 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 13:42:26685 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 13:42:26706 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 13:42:26798 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 13:42:26837 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 126.5946ms
[22-06-2024 13:42:26840 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 13:42:26842 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 600 "application/problem+json; charset=utf-8" 169.3674ms
[22-06-2024 14:09:47021 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - null null
[22-06-2024 14:09:47073 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 14:09:47098 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[22-06-2024 14:09:47111 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"GetBooks\", controller = \"Book\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks()" on controller "BooksApiApp.Controllers.BookController" ("BooksApiApp").
[22-06-2024 14:09:47515 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("104"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [b].[ID], [b].[AUTHOR], [b].[CATEGORY], [b].[DESCRIPTION], [b].[IS_AVAILABLE], [b].[TITLE]
FROM [BOOK] AS [b]"
[22-06-2024 14:09:47538 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "OkObjectResult", writing value of type '"System.Linq.Enumerable+SelectListIterator`2[[BooksApiApp.Data.Book, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[BooksApiApp.DTO.BookReadOnlyDTO, BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 14:09:47551 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)" in 436.7524ms
[22-06-2024 14:09:47553 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.BookController.GetBooks (BooksApiApp)"'
[22-06-2024 14:09:47556 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/api/Book/GetBooks/""" - 200 2662 "application/json; charset=utf-8" 546.4821ms
[22-06-2024 14:20:51265 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 14:20:51290 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 14:20:51300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 38.4954ms
[22-06-2024 14:20:51309 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 227
[22-06-2024 14:20:51320 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 14:20:51333 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 14:20:51345 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 14:20:51880 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("130"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 14:20:51893 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 14:20:51927 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 14:20:53118 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("62"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 14:20:53231 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c55c51fb-6da8-4bb7-af70-584e696680a0
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c55c51fb-6da8-4bb7-af70-584e696680a0
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 14:20:53518 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 14:20:53651 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 14:20:53669 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 2317.8487ms
[22-06-2024 14:20:53670 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 14:20:53673 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 79 "application/json; charset=utf-8" 2365.1617ms
[22-06-2024 14:46:54273 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 14:46:54289 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 14:46:54299 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 25.7858ms
[22-06-2024 14:46:54300 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 227
[22-06-2024 14:46:54308 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 14:46:54314 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 14:46:54318 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 14:46:54454 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 14:46:54459 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 14:46:54467 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 14:46:54670 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 14:46:54702 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:341d1e99-288e-4666-815d-b0adf046d086
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:341d1e99-288e-4666-815d-b0adf046d086
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 14:46:54856 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 14:46:54954 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 14:46:54958 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 634.4601ms
[22-06-2024 14:46:54961 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 14:46:54963 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 79 "application/json; charset=utf-8" 663.411ms
[22-06-2024 14:47:16821 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 14:47:16844 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 23.2571ms
[22-06-2024 14:47:17051 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 14:47:17156 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 104.2712ms
[22-06-2024 14:47:17310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 14:47:17469 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 159.2518ms
[22-06-2024 15:07:01279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 15:07:01309 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:07:01314 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 37.9018ms
[22-06-2024 15:07:01333 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 241
[22-06-2024 15:07:01347 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:07:01355 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:07:01363 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 15:07:01604 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("47"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:07:01608 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 15:07:01620 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:07:01883 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("52"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 15:07:01911 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:516c639b-a8f4-4682-bc71-c116e6856652
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:516c639b-a8f4-4682-bc71-c116e6856652
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 15:07:02162 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 15:07:02328 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 15:07:02333 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 963.1782ms
[22-06-2024 15:07:02337 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:07:02339 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 79 "application/json; charset=utf-8" 1006.4353ms
[22-06-2024 15:40:54764 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 15:40:54802 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:40:54810 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 52.9966ms
[22-06-2024 15:40:54818 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 15:40:54828 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:40:54842 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:40:54856 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 15:40:55119 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("65"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:40:55128 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 15:40:55152 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:40:55426 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("65"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 15:40:55453 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4e9391b2-2f85-4bd2-9368-887578d4a2ff
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4e9391b2-2f85-4bd2-9368-887578d4a2ff
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 15:40:55672 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 15:40:55810 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 15:40:55814 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 954.8148ms
[22-06-2024 15:40:55816 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:40:55819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 79 "application/json; charset=utf-8" 1001.4612ms
[22-06-2024 15:40:57053 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 15:40:57056 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:40:57057 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:40:57059 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 15:40:57071 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:40:57074 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 15:40:57079 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:40:57269 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 15:40:57279 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4e9391b2-2f85-4bd2-9368-887578d4a2ff
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4e9391b2-2f85-4bd2-9368-887578d4a2ff
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 15:40:57420 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 15:40:57534 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 15:40:57536 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 476.0428ms
[22-06-2024 15:40:57539 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:40:57542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 79 "application/json; charset=utf-8" 488.5335ms
[22-06-2024 15:46:52784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 15:46:52805 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:46:52811 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 32.0416ms
[22-06-2024 15:46:52819 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 241
[22-06-2024 15:46:52828 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:46:52842 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:46:52854 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 15:46:53066 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("41"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:46:53073 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 15:46:53086 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:46:53316 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("35"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 15:46:53340 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6dea3137-2abd-42bc-83ce-cc44689cd764
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6dea3137-2abd-42bc-83ce-cc44689cd764
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 15:46:53529 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 15:46:53692 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 15:46:53697 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 839.6528ms
[22-06-2024 15:46:53699 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:46:53702 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 79 "application/json; charset=utf-8" 882.9567ms
[22-06-2024 15:46:54372 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 241
[22-06-2024 15:46:54377 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:46:54378 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:46:54380 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 15:46:54408 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:46:54412 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 15:46:54418 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:46:54606 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 15:46:54616 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6dea3137-2abd-42bc-83ce-cc44689cd764
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6dea3137-2abd-42bc-83ce-cc44689cd764
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 15:46:54784 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 15:46:54889 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 15:46:54891 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 508.8844ms
[22-06-2024 15:46:54894 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:46:54896 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 79 "application/json; charset=utf-8" 523.657ms
[22-06-2024 15:51:36054 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 15:51:36068 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:51:36073 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 23.0411ms
[22-06-2024 15:51:36081 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 15:51:36096 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:51:36103 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:51:36111 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 15:51:36231 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:51:36238 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 15:51:36256 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:51:36509 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("47"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 15:51:36541 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6dea3137-2abd-42bc-83ce-cc44689cd764
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6dea3137-2abd-42bc-83ce-cc44689cd764
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 15:51:36712 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 15:51:36833 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 15:51:36836 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 723.4651ms
[22-06-2024 15:51:36838 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:51:36840 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 79 "application/json; charset=utf-8" 760.2446ms
[22-06-2024 15:52:52461 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 15:52:53513 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 15:52:53517 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 15:52:53521 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 15:52:53523 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 15:52:53525 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 15:52:55797 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 15:52:56184 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 394.3476ms
[22-06-2024 15:52:56207 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 15:52:56220 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 12.912ms
[22-06-2024 15:52:56275 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 15:52:56356 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 81.3704ms
[22-06-2024 15:52:56505 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 15:52:56878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 374.5799ms
[22-06-2024 15:53:35017 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 15:53:35038 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:53:35041 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 24.2864ms
[22-06-2024 15:53:35046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 233
[22-06-2024 15:53:35055 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:53:35161 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:53:35197 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 15:53:36500 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 15:53:37515 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("73"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:53:37548 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 15:53:37570 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:53:38393 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 15:53:38445 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:431261cd-a485-481f-899f-2c8a63dd2c9b
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:431261cd-a485-481f-899f-2c8a63dd2c9b
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 15:53:38624 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 15:53:38732 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 15:53:38786 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 3579.5285ms
[22-06-2024 15:53:38789 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:53:38806 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 79 "application/json; charset=utf-8" 3759.8135ms
[22-06-2024 15:54:40516 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 15:54:40531 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:54:40533 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 19.5923ms
[22-06-2024 15:54:40543 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 15:54:40550 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 15:54:40553 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:54:40556 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 15:54:40683 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("51"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:54:40687 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 15:54:40694 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("1"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 15:54:41184 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 15:54:41193 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:431261cd-a485-481f-899f-2c8a63dd2c9b
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:431261cd-a485-481f-899f-2c8a63dd2c9b
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 15:54:41358 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 15:54:41462 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[22-06-2024 15:54:41465 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 905.7351ms
[22-06-2024 15:54:41467 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 15:54:41470 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 79 "application/json; charset=utf-8" 926.951ms
[22-06-2024 16:11:32049 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 16:11:32522 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 16:11:32525 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 16:11:32529 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 16:11:32531 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 16:11:32533 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 16:11:33967 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 16:11:34384 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 425.3763ms
[22-06-2024 16:11:34418 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 16:11:34434 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 16.0089ms
[22-06-2024 16:11:34513 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 16:11:34729 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 216.4525ms
[22-06-2024 16:11:35020 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 16:11:35511 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 491.2702ms
[22-06-2024 16:12:06936 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 16:12:06953 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:12:06956 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 19.8822ms
[22-06-2024 16:12:06970 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 16:12:06982 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:12:07149 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:12:07203 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 16:12:08958 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 16:12:10792 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("307"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 16:12:10838 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 16:12:10882 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 16:12:10985 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 16:12:11000 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 16:12:11077 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 3864.9491ms
[22-06-2024 16:12:11081 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:12:11099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 118 "application/json; charset=utf-8" 4129.4168ms
[22-06-2024 16:15:03369 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 16:15:03405 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:15:03414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 50.3635ms
[22-06-2024 16:15:03423 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 16:15:03435 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:15:03459 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:15:03480 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 16:15:03738 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 16:15:03744 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 16:15:03750 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 16:15:03757 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 16:15:03759 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 16:15:03764 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 281.2414ms
[22-06-2024 16:15:03766 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:15:03769 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 118 "application/json; charset=utf-8" 346.1736ms
[22-06-2024 16:34:46279 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 16:34:46773 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 16:34:46776 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 16:34:46780 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 16:34:46781 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 16:34:46782 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 16:34:48192 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 16:35:02919 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 16:35:03525 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 16:35:03529 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 16:35:03534 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 16:35:03536 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 16:35:03539 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 16:35:05014 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 16:35:05394 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 389.3152ms
[22-06-2024 16:35:05417 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 16:35:05427 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 10.3734ms
[22-06-2024 16:35:05474 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 16:35:05570 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 96.311ms
[22-06-2024 16:35:05713 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 16:35:05947 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 234.4865ms
[22-06-2024 16:35:22800 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 16:35:22816 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:35:22821 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 20.7247ms
[22-06-2024 16:35:22828 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 243
[22-06-2024 16:35:22835 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:35:22976 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:35:23041 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 16:35:24531 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 16:35:25852 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("174"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 16:35:25890 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 16:35:25925 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("17"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 16:35:26328 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 16:35:26373 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 16:35:26469 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 3419.2021ms
[22-06-2024 16:35:26472 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:35:26495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 3666.7721ms
[22-06-2024 16:40:19978 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 16:40:20011 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:40:20018 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 45.9748ms
[22-06-2024 16:40:20027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 244
[22-06-2024 16:40:20038 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:40:20057 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:40:20077 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 16:40:20466 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("149"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 16:40:20475 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 16:40:20482 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 16:40:20508 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 16:40:20511 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 16:40:20518 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 437.3351ms
[22-06-2024 16:40:20520 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:40:20523 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 497.0872ms
[22-06-2024 16:41:50227 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 298
[22-06-2024 16:41:50245 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 16:41:50249 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 16:41:50260 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:41:50262 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 16:41:50353 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 16:41:50357 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 16:41:50364 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 16:41:50367 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 16:41:50376 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 16:41:50378 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 114.221ms
[22-06-2024 16:41:50381 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:41:50383 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 158.9402ms
[22-06-2024 16:44:46877 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 16:44:46892 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:44:46895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 19.2131ms
[22-06-2024 16:44:46939 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 16:44:46944 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:44:46946 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:44:46948 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 16:44:46975 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 16:44:46979 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 16:44:46985 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 16:44:46989 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 16:44:46990 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 16:44:46992 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 41.4499ms
[22-06-2024 16:44:46994 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:44:46997 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 58.442ms
[22-06-2024 16:46:27407 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 16:46:27411 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:46:27413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 6.6759ms
[22-06-2024 16:46:27423 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 210
[22-06-2024 16:46:27427 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:46:27429 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:46:27431 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 16:46:27469 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 16:46:27473 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 16:46:27480 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 16:46:27485 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 16:46:27486 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 16:46:27490 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 55.7556ms
[22-06-2024 16:46:27492 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:46:27495 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 71.91ms
[22-06-2024 16:50:25882 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 16:50:25901 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:50:25904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 25.0151ms
[22-06-2024 16:50:25909 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 243
[22-06-2024 16:50:25916 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:50:25919 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:50:25926 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 16:50:25998 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 16:50:26004 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 16:50:26015 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("9"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 16:50:26021 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 16:50:26023 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 16:50:26027 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 98.1262ms
[22-06-2024 16:50:26029 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:50:26032 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 122.4501ms
[22-06-2024 16:54:33435 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 16:54:33447 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:54:33454 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 55.4608ms
[22-06-2024 16:54:33467 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 243
[22-06-2024 16:54:33472 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:54:33477 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:54:33487 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 16:54:33737 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("45"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 16:54:33740 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 16:54:33747 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 16:54:33754 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 16:54:33756 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 16:54:33760 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 269.3902ms
[22-06-2024 16:54:33763 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:54:33765 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 298.8223ms
[22-06-2024 16:59:50246 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 16:59:50262 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:59:50265 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 18.1718ms
[22-06-2024 16:59:50271 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 244
[22-06-2024 16:59:50275 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 16:59:50277 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:59:50278 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 16:59:50305 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("15"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 16:59:50308 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 16:59:50314 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 16:59:50318 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 16:59:50319 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 16:59:50323 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 41.6167ms
[22-06-2024 16:59:50325 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 16:59:50328 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 56.8531ms
[22-06-2024 17:02:07359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 17:02:07362 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:02:07365 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 30.2408ms
[22-06-2024 17:02:07371 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 17:02:07376 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:02:07378 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:02:07382 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:02:07433 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:02:07437 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:02:07446 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:02:07449 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:02:07450 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:02:07454 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 69.6581ms
[22-06-2024 17:02:07456 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:02:07459 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 87.8858ms
[22-06-2024 17:04:16189 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 17:04:16195 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:04:16198 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 9.5675ms
[22-06-2024 17:04:16204 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 243
[22-06-2024 17:04:16209 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:04:16218 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:04:16221 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:04:16258 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:04:16261 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:04:16267 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:04:16271 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:04:16273 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:04:16276 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 52.1469ms
[22-06-2024 17:04:16279 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:04:16280 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 76.6638ms
[22-06-2024 17:04:27694 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 17:04:27713 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:04:27715 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 21.4283ms
[22-06-2024 17:04:27724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 17:04:27731 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:04:27733 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:04:27735 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:04:27758 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:04:27761 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:04:27768 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:04:27772 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:04:27774 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:04:27777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 40.01ms
[22-06-2024 17:04:27779 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:04:27783 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 58.6745ms
[22-06-2024 17:16:58617 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 17:16:58638 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:16:58647 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 33.6247ms
[22-06-2024 17:16:58650 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 244
[22-06-2024 17:16:58659 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:16:58686 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:16:58763 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:16:58951 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:16:58956 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:16:58962 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:16:58971 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:16:58975 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:16:58979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 208.1053ms
[22-06-2024 17:16:58981 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:16:58985 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 334.5422ms
[22-06-2024 17:32:02099 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 17:32:02123 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:32:02129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 41.1351ms
[22-06-2024 17:32:02138 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 17:32:02146 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:32:02162 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:32:02173 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:32:02482 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("56"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:32:02490 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:32:02499 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:32:02505 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:32:02509 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:32:02513 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 292.1551ms
[22-06-2024 17:32:02514 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:32:02517 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 379.4587ms
[22-06-2024 17:35:15836 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 17:35:15849 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:35:15850 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 14.7106ms
[22-06-2024 17:35:15857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 240
[22-06-2024 17:35:15870 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:35:15871 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:35:15872 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:35:15903 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("21"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:35:15906 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:35:15912 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:35:15917 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:35:15921 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:35:15932 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 57.1ms
[22-06-2024 17:35:16014 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:35:16028 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 171.0331ms
[22-06-2024 17:40:02198 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 17:40:02234 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:40:02239 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 46.3922ms
[22-06-2024 17:40:02257 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 243
[22-06-2024 17:40:02268 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:40:02279 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:40:02308 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:40:02429 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("47"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:40:02435 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:40:02442 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:40:02449 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:40:02452 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:40:02455 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 141.6088ms
[22-06-2024 17:40:02457 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:40:02461 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 205.7959ms
[22-06-2024 17:41:23870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 17:41:23875 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:41:23878 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 7.8138ms
[22-06-2024 17:41:23914 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 243
[22-06-2024 17:41:23919 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:41:23923 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:41:23924 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:41:23950 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:41:23953 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:41:23963 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:41:23968 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:41:23970 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:41:23973 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 46.5158ms
[22-06-2024 17:41:23975 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:41:23977 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 64.3492ms
[22-06-2024 17:48:50259 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 17:48:50304 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:48:50316 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 95.9113ms
[22-06-2024 17:48:50330 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 243
[22-06-2024 17:48:50339 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:48:50379 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:48:50405 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:48:50740 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("57"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:48:50748 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:48:50763 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:48:50775 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:48:50778 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:48:50786 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 371.3469ms
[22-06-2024 17:48:50789 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:48:50791 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 462.1953ms
[22-06-2024 17:54:03183 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 296
[22-06-2024 17:54:03224 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 17:54:03228 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 17:54:03243 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:54:03258 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:54:03446 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("64"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:54:03454 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:54:03460 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:54:03466 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 18 not found or invalid credentials provided"
[22-06-2024 17:54:03570 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:54:04558 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("62"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 17:54:04709 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:35a0c432-ab22-4c68-b94b-0b55c96e641d
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:35a0c432-ab22-4c68-b94b-0b55c96e641d
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 17:54:04975 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 17:54:05101 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:35a0c432-ab22-4c68-b94b-0b55c96e641d
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 82
[22-06-2024 17:54:05128 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType5`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:54:05163 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 1901.7899ms
[22-06-2024 17:54:05167 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:54:05170 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 500 150 "application/json; charset=utf-8" 1995.4238ms
[22-06-2024 17:55:30084 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 304
[22-06-2024 17:55:30097 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 17:55:30098 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 17:55:30100 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:55:30102 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:55:30134 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:55:30137 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:55:30146 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:55:30149 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:55:30151 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:55:30154 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 48.6419ms
[22-06-2024 17:55:30156 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:55:30158 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 75.2791ms
[22-06-2024 17:56:33770 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 17:56:33785 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:56:33789 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 18.2547ms
[22-06-2024 17:56:33800 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 244
[22-06-2024 17:56:33805 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 17:56:33808 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:56:33811 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 17:56:33854 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 17:56:33859 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 17:56:33872 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 17:56:33876 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 17:56:33878 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 17:56:33882 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 62.9522ms
[22-06-2024 17:56:33885 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 17:56:33891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 91.2677ms
[22-06-2024 18:00:06539 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 18:00:06544 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 18:00:06546 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 6.7666ms
[22-06-2024 18:00:06557 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 240
[22-06-2024 18:00:06561 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 18:00:06563 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:00:06565 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 18:00:06609 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("28"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 18:00:06613 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 18:00:06624 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 18:00:06633 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 18:00:06640 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 18:00:06649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 81.245ms
[22-06-2024 18:00:06679 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:00:06760 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 202.9014ms
[22-06-2024 18:03:11296 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 18:03:11897 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 18:03:11901 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 18:03:11906 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 18:03:11908 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 18:03:11909 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 18:03:13484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 18:03:14244 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 772.3471ms
[22-06-2024 18:03:14289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 18:03:14310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 21.2679ms
[22-06-2024 18:03:14413 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 18:03:14595 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 183.0483ms
[22-06-2024 18:03:14811 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 18:03:15272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 464.4483ms
[22-06-2024 18:03:36760 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 251
[22-06-2024 18:03:36776 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 18:03:36778 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 18:03:36891 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:03:36940 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 18:03:37501 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 18:03:37572 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 625.5287ms
[22-06-2024 18:03:37574 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:03:37578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 300 "application/problem+json; charset=utf-8" 818.9392ms
[22-06-2024 18:07:38354 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 244
[22-06-2024 18:07:38371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 18:07:38372 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 18:07:38376 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:07:38378 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 18:07:38401 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 18:07:38403 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 23.7008ms
[22-06-2024 18:07:38405 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:07:38407 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 400 "application/problem+json; charset=utf-8" 53.5363ms
[22-06-2024 18:26:12175 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 18:26:12817 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 18:26:12821 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 18:26:12826 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 18:26:12828 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 18:26:12830 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 18:26:14071 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 18:26:14561 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 501.1597ms
[22-06-2024 18:26:14732 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 18:26:14745 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 13.5317ms
[22-06-2024 18:26:15179 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 18:26:15283 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 104.8546ms
[22-06-2024 18:26:15466 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 18:26:15724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 259.1117ms
[22-06-2024 18:27:40330 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 315
[22-06-2024 18:27:40344 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 18:27:40345 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 18:27:40461 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:27:40508 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 18:27:41076 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 18:27:41147 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 630.303ms
[22-06-2024 18:27:41149 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:27:41153 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 266 "application/problem+json; charset=utf-8" 823.3364ms
[22-06-2024 18:29:19988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 18:29:20032 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 18:29:20045 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 69.4389ms
[22-06-2024 18:29:20055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 18:29:20066 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 18:29:20080 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:29:20095 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 18:29:22193 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 18:29:24607 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("175"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 18:29:24638 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 18:29:24660 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("12"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 18:29:24768 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 18:29:24779 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 18:29:24797 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 4699.5923ms
[22-06-2024 18:29:24801 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:29:24815 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 4760.534ms
[22-06-2024 18:30:07848 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 18:30:07864 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 18:30:07866 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 19.0018ms
[22-06-2024 18:30:07873 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 240
[22-06-2024 18:30:07879 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 18:30:07892 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:30:07895 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 18:30:08025 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 18:30:08028 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 18:30:08035 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 18:30:08038 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 18:30:08040 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 18:30:08042 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 144.0483ms
[22-06-2024 18:30:08043 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 18:30:08046 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 172.643ms
[22-06-2024 19:09:05780 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 19:09:07433 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 19:09:07439 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 19:09:07443 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 19:09:07447 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 19:09:07450 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 19:09:09502 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 19:09:10352 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 861.4163ms
[22-06-2024 19:09:10366 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 19:09:10395 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 28.2081ms
[22-06-2024 19:09:10754 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 19:09:10964 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 210.7289ms
[22-06-2024 19:09:11617 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 19:09:12147 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 531.338ms
[22-06-2024 19:10:05415 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 332
[22-06-2024 19:10:05451 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 19:10:05454 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 19:10:05870 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:10:05943 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:10:07878 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 19:10:08016 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 2060.5919ms
[22-06-2024 19:10:08020 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:10:08029 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 266 "application/problem+json; charset=utf-8" 2613.4048ms
[22-06-2024 19:11:07324 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 330
[22-06-2024 19:11:07371 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 19:11:07373 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 19:11:07379 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:11:07403 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:11:07439 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 19:11:07443 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 35.5032ms
[22-06-2024 19:11:07445 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:11:07448 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 266 "application/problem+json; charset=utf-8" 125.9764ms
[22-06-2024 19:12:17568 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 346
[22-06-2024 19:12:17600 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 19:12:17603 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 19:12:17612 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:12:17615 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:12:19725 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 19:12:23470 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("294"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:12:23601 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 19:12:23660 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 19:12:23667 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: +433586567906 not found or invalid credentials provided"
[22-06-2024 19:12:23727 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:12:25679 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("85"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 19:12:25782 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1a88d06a-8004-49ae-a321-1d2be6fbe5b8
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1a88d06a-8004-49ae-a321-1d2be6fbe5b8
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 19:12:26147 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 19:12:26393 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType5`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 19:12:26412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 8791.9518ms
[22-06-2024 19:12:26419 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:12:26448 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 152 "application/json; charset=utf-8" 8883.7184ms
[22-06-2024 19:13:26306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 348
[22-06-2024 19:13:26338 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 19:13:26341 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 19:13:26344 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:13:26348 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:13:26547 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("29"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:13:26552 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 19:13:26568 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 19:13:26598 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 19:13:26601 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 19:13:26613 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 260.7997ms
[22-06-2024 19:13:26615 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:13:26619 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 314.1093ms
[22-06-2024 19:14:49077 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 19:14:49878 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 19:14:49882 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 19:14:49889 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 19:14:49906 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 19:14:49910 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 19:14:53911 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 19:14:54567 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 668.539ms
[22-06-2024 19:14:54812 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 19:14:54812 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 19:14:54857 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 45.139ms
[22-06-2024 19:14:54979 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 167.4597ms
[22-06-2024 19:14:55229 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 19:14:55707 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 479.9326ms
[22-06-2024 19:15:22731 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 329
[22-06-2024 19:15:22759 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 19:15:22761 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 19:15:23046 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:15:23112 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:15:24109 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 19:15:24244 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 1113.3523ms
[22-06-2024 19:15:24249 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:15:24262 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 266 "application/problem+json; charset=utf-8" 1531.267ms
[22-06-2024 19:22:13222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 327
[22-06-2024 19:22:13309 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 19:22:13312 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 19:22:13379 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:22:13402 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:22:13525 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 19:22:13533 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 126.7863ms
[22-06-2024 19:22:13537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:22:13540 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 301 "application/problem+json; charset=utf-8" 328.3971ms
[22-06-2024 19:35:55735 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 19:35:57566 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 19:35:57652 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 19:35:57661 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 19:35:57672 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 19:35:57682 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 19:35:59922 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 19:36:00895 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 991.557ms
[22-06-2024 19:36:01027 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 19:36:01055 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 29.4723ms
[22-06-2024 19:36:01111 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 19:36:01306 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 194.7769ms
[22-06-2024 19:36:01667 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 19:36:02186 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 517.3755ms
[22-06-2024 19:36:13497 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 309
[22-06-2024 19:36:13533 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 19:36:13538 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 19:36:13829 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:36:13924 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:36:15317 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 19:36:15534 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 1594.9737ms
[22-06-2024 19:36:15537 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:36:15550 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 266 "application/problem+json; charset=utf-8" 2053.6251ms
[22-06-2024 19:36:36411 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 310
[22-06-2024 19:36:36451 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 19:36:36453 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 19:36:36459 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:36:36462 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:36:36497 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 19:36:36501 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 34.4185ms
[22-06-2024 19:36:36504 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:36:36508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 238 "application/problem+json; charset=utf-8" 98.2826ms
[22-06-2024 19:36:49587 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 310
[22-06-2024 19:36:49605 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 19:36:49609 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 19:36:49621 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:36:49624 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:36:51246 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 19:36:53381 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("224"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:36:53450 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 19:36:53512 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("42"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 19:36:53763 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 19:36:53778 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 19:36:53794 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 4159.4029ms
[22-06-2024 19:36:53799 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:36:53817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 4236.8318ms
[22-06-2024 19:39:16130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 19:39:16153 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 19:39:16441 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 349.7991ms
[22-06-2024 19:39:16462 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 241
[22-06-2024 19:39:16487 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 19:39:16503 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:39:16527 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:39:16884 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("30"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:39:16891 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 19:39:16901 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 19:39:16913 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 19:39:16919 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 19:39:16924 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 384.0564ms
[22-06-2024 19:39:16928 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:39:16932 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 476.9686ms
[22-06-2024 19:50:45465 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 19:50:45541 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 19:50:45567 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 113.4648ms
[22-06-2024 19:50:45574 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 200
[22-06-2024 19:50:45596 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 19:50:45625 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:50:45649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:50:46397 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("91"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:50:46409 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 19:50:46469 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("56"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 19:50:46480 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698470 not found or invalid credentials provided"
[22-06-2024 19:50:46636 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:50:49685 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("79"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 19:50:49966 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[22-06-2024 19:50:50037 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[22-06-2024 19:50:50803 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 5148.9382ms
[22-06-2024 19:50:50807 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:50:50812 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 213 "application/json; charset=utf-8" 5239.9491ms
[22-06-2024 19:58:16030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 308
[22-06-2024 19:58:16075 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 19:58:16079 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 19:58:16097 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:58:16119 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:58:16442 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("100"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:58:16451 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 19:58:16463 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 19:58:16468 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69847068 not found or invalid credentials provided"
[22-06-2024 19:58:16486 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:58:16811 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("53"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 19:58:16822 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[22-06-2024 19:58:16831 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[22-06-2024 19:58:16859 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 733.7056ms
[22-06-2024 19:58:16862 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:58:16867 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 197 "application/json; charset=utf-8" 854.073ms
[22-06-2024 19:59:21024 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 19:59:21046 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 19:59:21084 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 60.1993ms
[22-06-2024 19:59:21121 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 237
[22-06-2024 19:59:21136 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 19:59:21139 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:59:21141 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 19:59:21386 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("220"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:59:21423 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 19:59:21451 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 19:59:21461 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 6984706 not found or invalid credentials provided"
[22-06-2024 19:59:21482 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 19:59:21790 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 19:59:21796 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[22-06-2024 19:59:21802 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[22-06-2024 19:59:21807 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 659.7556ms
[22-06-2024 19:59:21810 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 19:59:21817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 250 "application/json; charset=utf-8" 696.7526ms
[22-06-2024 20:00:11242 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:00:11285 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:00:11288 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 48.999ms
[22-06-2024 20:00:11309 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 236
[22-06-2024 20:00:11324 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:00:11327 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:00:11337 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:00:11386 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("32"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:00:11391 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:00:11410 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("14"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:00:11416 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698470683 not found or invalid credentials provided"
[22-06-2024 20:00:11435 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:00:11714 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 20:00:11720 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[22-06-2024 20:00:11725 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[22-06-2024 20:00:11731 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 390.2088ms
[22-06-2024 20:00:11734 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:00:11738 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 249 "application/json; charset=utf-8" 431.6952ms
[22-06-2024 20:01:38058 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:01:38064 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:01:38065 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 7.7198ms
[22-06-2024 20:01:38077 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 237
[22-06-2024 20:01:38082 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:01:38085 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:01:38088 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:01:38129 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:01:38135 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.User found and returned"
[22-06-2024 20:01:38144 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:01:38265 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 174.0041ms
[22-06-2024 20:01:38398 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:01:38410 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 85 "application/json; charset=utf-8" 333.6553ms
[22-06-2024 20:05:28022 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:05:28077 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:05:28094 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 82.4995ms
[22-06-2024 20:05:28112 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 244
[22-06-2024 20:05:28122 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:05:28142 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:05:28155 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:05:28399 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("48"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:05:28408 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:05:28416 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:05:28430 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 20:05:28433 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:05:28437 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 274.6901ms
[22-06-2024 20:05:28439 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:05:28443 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 330.8011ms
[22-06-2024 20:13:38571 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:13:38739 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:13:38846 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 294.486ms
[22-06-2024 20:13:38869 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 247
[22-06-2024 20:13:38878 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:13:38902 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:13:38921 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:13:39727 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("397"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:13:39757 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:13:39790 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("20"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:13:39831 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698470683045 not found or invalid credentials provided"
[22-06-2024 20:13:40077 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:13:40543 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("82"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 20:13:40753 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:252da0bb-0c84-4227-90a5-a1b0ad2c23be
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:252da0bb-0c84-4227-90a5-a1b0ad2c23be
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 20:13:41161 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 20:13:41360 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType5`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:13:41395 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 2470.9866ms
[22-06-2024 20:13:41399 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:13:41404 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 152 "application/json; charset=utf-8" 2535.2703ms
[22-06-2024 20:15:47988 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:15:48124 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:15:48212 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 246
[22-06-2024 20:15:48235 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 257.0297ms
[22-06-2024 20:15:48236 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:15:48295 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:15:48319 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:15:49097 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("139"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:15:49123 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:15:49151 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:15:49156 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698470683045 not found or invalid credentials provided"
[22-06-2024 20:15:49211 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:15:49795 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("97"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 20:15:49875 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:252da0bb-0c84-4227-90a5-a1b0ad2c23be
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:252da0bb-0c84-4227-90a5-a1b0ad2c23be
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 20:15:50426 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 20:15:50754 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType5`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:15:50769 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 2444.2507ms
[22-06-2024 20:15:50772 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:15:50778 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 152 "application/json; charset=utf-8" 2569.5638ms
[22-06-2024 20:34:34700 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:34:34761 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:34:34784 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 98.2426ms
[22-06-2024 20:34:34807 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 20:34:34819 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:34:34851 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:34:34873 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:34:35262 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("119"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:34:35274 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:34:35284 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:34:35290 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698470683074 not found or invalid credentials provided"
[22-06-2024 20:34:35314 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:34:35868 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("112"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 20:34:35905 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d37232d0-0453-43f1-a3a7-bfa357233492
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d37232d0-0453-43f1-a3a7-bfa357233492
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 20:34:36203 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 20:34:36412 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType5`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:34:36421 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 1541.0465ms
[22-06-2024 20:34:36424 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:34:36430 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 152 "application/json; charset=utf-8" 1623.4639ms
[22-06-2024 20:38:37965 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:38:38030 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:38:38051 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 102.0788ms
[22-06-2024 20:38:38073 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 20:38:38086 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:38:38114 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:38:38136 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:38:38553 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("229"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:38:38564 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:38:38586 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:38:38605 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 20:38:38627 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:38:38694 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 552.4593ms
[22-06-2024 20:38:38717 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:38:38721 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 647.8454ms
[22-06-2024 20:39:20231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:39:20273 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:39:20275 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 44.3872ms
[22-06-2024 20:39:20292 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 245
[22-06-2024 20:39:20306 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:39:20309 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:39:20315 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:39:20379 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("45"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:39:20385 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:39:20427 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:39:20432 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 20:39:20442 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:39:20458 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 139.5838ms
[22-06-2024 20:39:20514 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:39:20518 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 226.5595ms
[22-06-2024 20:40:03272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:40:03299 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:40:03310 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 40.1573ms
[22-06-2024 20:40:03331 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 243
[22-06-2024 20:40:03343 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:40:03348 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:40:03351 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:40:03403 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:40:03410 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:40:03419 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:40:03427 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 20:40:03430 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:40:03434 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 72.8837ms
[22-06-2024 20:40:03440 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:40:03445 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 114.7828ms
[22-06-2024 20:41:36999 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:41:37009 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:41:37012 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 13.7481ms
[22-06-2024 20:41:37034 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 210
[22-06-2024 20:41:37039 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:41:37042 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:41:37046 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:41:37085 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 20:41:37097 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 45.0746ms
[22-06-2024 20:41:37101 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:41:37104 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 69.5815ms
[22-06-2024 20:44:09919 +03:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager ] User profile is available. Using '"C:\Users\katek\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
[22-06-2024 20:44:11147 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "https://localhost:7143"
[22-06-2024 20:44:11151 +03:00 Microsoft.Hosting.Lifetime ] Now listening on: "http://localhost:5292"
[22-06-2024 20:44:11161 +03:00 Microsoft.Hosting.Lifetime ] Application started. Press Ctrl+C to shut down.
[22-06-2024 20:44:11164 +03:00 Microsoft.Hosting.Lifetime ] Hosting environment: "Development"
[22-06-2024 20:44:11166 +03:00 Microsoft.Hosting.Lifetime ] Content root path: "C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp"
[22-06-2024 20:44:14304 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - null null
[22-06-2024 20:44:16359 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 2082.0564ms
[22-06-2024 20:44:16653 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - null null
[22-06-2024 20:44:16693 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_framework/aspnetcore-browser-refresh.js""" - 200 13758 "application/javascript; charset=utf-8" 42.3807ms
[22-06-2024 20:44:17067 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - null null
[22-06-2024 20:44:17302 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 235.9701ms
[22-06-2024 20:44:17880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - null null
[22-06-2024 20:44:18927 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "GET" "https"://"localhost:7143""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 1043.3626ms
[22-06-2024 20:47:39390 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:47:39620 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:47:39657 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 288.6309ms
[22-06-2024 20:47:39838 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 20:47:39959 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:47:40541 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:47:40757 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:47:44814 +03:00 Microsoft.EntityFrameworkCore.Model.Validation ] The '"ConditionOfBook"' property '"Condition"' on entity type '"BookForSelling"' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '"New"', since this is the CLR default for the '"ConditionOfBook"' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
[22-06-2024 20:47:47715 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("336"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:47:47975 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.User found and returned"
[22-06-2024 20:47:47997 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:47:48105 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 7334.4396ms
[22-06-2024 20:47:48108 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:47:48130 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 85 "application/json; charset=utf-8" 8296.0819ms
[22-06-2024 20:48:45030 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:48:45059 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:48:45062 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 34.2382ms
[22-06-2024 20:48:45077 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 239
[22-06-2024 20:48:45093 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:48:45105 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:48:45111 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:48:45308 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:48:45315 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.User found and returned"
[22-06-2024 20:48:45318 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:48:45321 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 207.007ms
[22-06-2024 20:48:45324 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:48:45329 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 85 "application/json; charset=utf-8" 253.1847ms
[22-06-2024 20:48:55723 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:48:55736 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:48:55739 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 16.9621ms
[22-06-2024 20:48:55750 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 240
[22-06-2024 20:48:55755 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:48:55764 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:48:55768 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:48:55840 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("25"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:48:55846 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:48:55879 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:48:55885 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706830 was found"
[22-06-2024 20:48:55887 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:48:55898 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 125.1273ms
[22-06-2024 20:48:55901 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:48:55904 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 154.8165ms
[22-06-2024 20:49:04466 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:49:04473 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:49:04475 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 9.7968ms
[22-06-2024 20:49:04484 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 242
[22-06-2024 20:49:04490 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:49:04493 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:49:04495 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:49:04521 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:49:04527 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:49:04537 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:49:04542 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698470683045 not found or invalid credentials provided"
[22-06-2024 20:49:04572 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:49:05959 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("72"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 20:49:06077 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[22-06-2024 20:49:06096 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[22-06-2024 20:49:06214 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 1715.1922ms
[22-06-2024 20:49:06218 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:49:06222 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 255 "application/json; charset=utf-8" 1738.991ms
[22-06-2024 20:55:28465 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:55:28529 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:55:28542 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 100.4567ms
[22-06-2024 20:55:28582 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 246
[22-06-2024 20:55:28600 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:55:28628 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:55:28649 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:55:28843 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 20:55:29010 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 353.574ms
[22-06-2024 20:55:29014 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:55:29019 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 442.4164ms
[22-06-2024 20:55:47350 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:55:47358 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:55:47362 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 13.5693ms
[22-06-2024 20:55:47378 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 246
[22-06-2024 20:55:47386 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:55:47391 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:55:47394 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:55:47408 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 20:55:47415 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 17.397ms
[22-06-2024 20:55:47418 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:55:47421 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 44.7198ms
[22-06-2024 20:57:00578 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:57:00582 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:57:00594 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 15.9024ms
[22-06-2024 20:57:00631 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 245
[22-06-2024 20:57:00657 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:57:00659 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:57:00661 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:57:00677 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 20:57:00683 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 16.6585ms
[22-06-2024 20:57:00688 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:57:00694 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 62.2352ms
[22-06-2024 20:57:37175 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:57:37229 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:57:37231 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 57.0527ms
[22-06-2024 20:57:37245 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 245
[22-06-2024 20:57:37251 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:57:37255 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:57:37258 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:57:37685 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("106"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:57:37696 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:57:37710 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("11"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:57:37716 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: +305874563258 not found or invalid credentials provided"
[22-06-2024 20:57:37756 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:57:38391 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("87"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 20:57:38588 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b7bbb4d6-7393-4dc8-b4b7-e25e8d4712aa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b7bbb4d6-7393-4dc8-b4b7-e25e8d4712aa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 20:57:39061 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 20:57:39274 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType5`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 20:57:39283 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 2021.3658ms
[22-06-2024 20:57:39285 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:57:39289 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 152 "application/json; charset=utf-8" 2044.1257ms
[22-06-2024 20:58:00749 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 20:58:00788 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:58:00790 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 61.0745ms
[22-06-2024 20:58:00803 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 241
[22-06-2024 20:58:00810 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 20:58:00812 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:58:00816 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 20:58:00866 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("31"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:58:00873 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 20:58:00883 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("6"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 20:58:00888 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: +305874563258 not found or invalid credentials provided"
[22-06-2024 20:58:00900 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 20:58:01251 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("19"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 20:58:01262 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[22-06-2024 20:58:01271 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[22-06-2024 20:58:01294 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 471.7534ms
[22-06-2024 20:58:01298 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 20:58:01301 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 254 "application/json; charset=utf-8" 497.5264ms
[22-06-2024 21:01:55126 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:01:55236 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:01:55256 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 153.2886ms
[22-06-2024 21:01:55272 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 239
[22-06-2024 21:01:55297 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:01:55337 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:01:55360 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:01:55504 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 21:01:55521 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 154.7484ms
[22-06-2024 21:01:55526 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:01:55531 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 260.6583ms
[22-06-2024 21:05:53346 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:05:53380 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:05:53392 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 89.6101ms
[22-06-2024 21:05:53414 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 239
[22-06-2024 21:05:53443 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:05:53479 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:05:53504 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:05:53609 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 21:05:53631 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 122.1178ms
[22-06-2024 21:05:53634 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:05:53638 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 224.1938ms
[22-06-2024 21:09:17532 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:09:17688 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:09:17717 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 253.1556ms
[22-06-2024 21:09:17748 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 238
[22-06-2024 21:09:17782 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:09:17858 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:09:17911 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:09:18193 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 21:09:18236 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 316.0738ms
[22-06-2024 21:09:18239 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:09:18251 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 513.3466ms
[22-06-2024 21:10:44762 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:10:44769 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:10:44772 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 10.9449ms
[22-06-2024 21:10:44792 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 245
[22-06-2024 21:10:44798 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:10:44803 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:10:44806 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:10:44820 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 21:10:44827 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 17.2946ms
[22-06-2024 21:10:44832 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:10:44858 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 65.4456ms
[22-06-2024 21:11:21591 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:11:21599 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:11:21601 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 10.3196ms
[22-06-2024 21:11:21628 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 237
[22-06-2024 21:11:21640 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:11:21643 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:11:21646 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:11:57080 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Failed executing DbCommand ("35,135"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 21:11:57146 +03:00 Microsoft.EntityFrameworkCore.Query ] An exception occurred while iterating over the results of a query for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): Το χρονικό όριο αναμονής της λειτουργίας έληξε
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:36b7cc43-521a-4182-a9b4-1cc9a2ac8014
Error Number:-2,State:0,Class:11"
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): Το χρονικό όριο αναμονής της λειτουργίας έληξε
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:36b7cc43-521a-4182-a9b4-1cc9a2ac8014
Error Number:-2,State:0,Class:11
[22-06-2024 21:11:57531 +03:00 BooksApiApp.Services.UserService ] "Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.""   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UserRepository.GetByUsernameAsync(String username) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UserRepository.cs:line 34
   at BooksApiApp.Services.UserService.GetUserByUsernameAsync(String username) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 109"
[22-06-2024 21:11:57744 +03:00 BooksApiApp.Controllers.UserController ] An unexpected error occurred.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): Το χρονικό όριο αναμονής της λειτουργίας έληξε
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at BooksApiApp.Repositories.UserRepository.GetByUsernameAsync(String username) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UserRepository.cs:line 34
   at BooksApiApp.Services.UserService.GetUserByUsernameAsync(String username) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 109
   at BooksApiApp.Controllers.UserController.SignupUserAsync(UserSignUpDTO userSignUpDTO) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Controllers\UserController.cs:line 76
ClientConnectionId:36b7cc43-521a-4182-a9b4-1cc9a2ac8014
Error Number:-2,State:0,Class:11
[22-06-2024 21:11:57769 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType6`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 21:11:57808 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 36158.6785ms
[22-06-2024 21:11:57812 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:11:57817 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 500 187 "application/json; charset=utf-8" 36188.9742ms
[22-06-2024 21:14:39278 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:14:39314 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:14:39320 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 51.3246ms
[22-06-2024 21:14:39338 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 244
[22-06-2024 21:14:39358 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:14:39373 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:14:39389 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:14:39815 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("173"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 21:14:39834 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 21:14:39857 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 21:14:39888 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 698470683045 was found"
[22-06-2024 21:14:39892 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 21:14:39908 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 513.2817ms
[22-06-2024 21:14:39911 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:14:39915 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 578.0154ms
[22-06-2024 21:15:03662 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:15:03695 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:15:03700 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 41.5322ms
[22-06-2024 21:15:03722 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 241
[22-06-2024 21:15:03731 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:15:03740 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:15:03743 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:15:03793 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 21:15:03799 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 21:15:03807 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 21:15:03813 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698470456 not found or invalid credentials provided"
[22-06-2024 21:15:03851 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("7"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 21:15:04290 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("108"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 21:15:04397 +03:00 Microsoft.EntityFrameworkCore.Update ] An exception occurred in the database while saving changes for context type '"BooksApiApp.Data.BooksWebApiContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9e65528a-a806-4fd9-9a9e-848b518ebc44
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.USER' with unique index 'UQ_EMAIL'. The duplicate key value is (katerina.kipar@gmail.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9e65528a-a806-4fd9-9a9e-848b518ebc44
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[22-06-2024 21:15:04993 +03:00 BooksApiApp.Services.UserService ] "An error occurred while saving the entity changes. See the inner exception for details.""   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BooksApiApp2.Repositories.UnitOfWork.SaveAsync() in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Repositories\UnitOfWork.cs:line 29
   at BooksApiApp.Services.UserService.SignUpUserAsync(UserSignUpDTO request) in C:\Users\katek\source\repos\BooksAPIApp\BooksApiApp\Services\UserService.cs:line 142"
[22-06-2024 21:15:05476 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType5`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 21:15:05494 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 1746.7884ms
[22-06-2024 21:15:05504 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:15:05508 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 152 "application/json; charset=utf-8" 1786.0934ms
[22-06-2024 21:15:30724 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:15:30750 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:15:30753 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 29.2021ms
[22-06-2024 21:15:30766 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 237
[22-06-2024 21:15:30772 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:15:30775 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:15:30777 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:15:30796 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 21:15:30799 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 17.7855ms
[22-06-2024 21:15:30802 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:15:30805 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 38.7123ms
[22-06-2024 21:17:20870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:17:20902 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:17:20910 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 48.7792ms
[22-06-2024 21:17:20937 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 167
[22-06-2024 21:17:20952 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:17:20967 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:17:20984 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:17:21104 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 21:17:21117 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 127.7159ms
[22-06-2024 21:17:21119 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:17:21126 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 190.0972ms
[22-06-2024 21:24:57978 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 273
[22-06-2024 21:24:58041 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 21:24:58056 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 21:24:58074 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:24:58091 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:24:58301 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 21:24:58317 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 219.6086ms
[22-06-2024 21:24:58321 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:24:58324 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 266 "application/problem+json; charset=utf-8" 360.4996ms
[22-06-2024 21:26:58955 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json-patch+json" 285
[22-06-2024 21:26:58961 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution failed.
[22-06-2024 21:26:58962 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] Request origin "https://localhost:7143" does not have permission to access the resource.
[22-06-2024 21:26:58965 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:26:58968 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:26:58979 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 21:26:58986 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 12.9457ms
[22-06-2024 21:26:58989 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:26:58992 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 37.4504ms
[22-06-2024 21:30:45816 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:30:45857 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:30:45871 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 65.5601ms
[22-06-2024 21:30:45891 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 240
[22-06-2024 21:30:45908 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:30:45934 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:30:45957 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:30:46056 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 21:30:46069 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 99.2868ms
[22-06-2024 21:30:46073 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:30:46075 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 185.2342ms
[22-06-2024 21:49:35909 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:49:35940 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:49:35949 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 45.0032ms
[22-06-2024 21:49:35961 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 237
[22-06-2024 21:49:35973 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:49:35990 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:49:36007 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:49:36097 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
[22-06-2024 21:49:36105 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 94.2578ms
[22-06-2024 21:49:36107 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:49:36113 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 400 313 "application/problem+json; charset=utf-8" 152.4394ms
[22-06-2024 21:50:13928 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:50:13958 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:50:13962 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 34.4044ms
[22-06-2024 21:50:13971 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 232
[22-06-2024 21:50:13976 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:50:13978 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:50:13984 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:50:14644 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("200"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 21:50:14658 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 21:50:14690 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("26"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 21:50:14716 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 69847068 was found"
[22-06-2024 21:50:14719 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 21:50:14726 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 737.4444ms
[22-06-2024 21:50:14730 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:50:14735 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 764.3066ms
[22-06-2024 21:50:25149 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:50:25153 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:50:25154 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 4.7445ms
[22-06-2024 21:50:25159 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 233
[22-06-2024 21:50:25164 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:50:25165 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:50:25166 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:50:25183 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("10"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 21:50:25186 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 21:50:25195 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("5"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 21:50:25199 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 698470685 not found or invalid credentials provided"
[22-06-2024 21:50:25221 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 21:50:25494 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("45"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 21:50:25502 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[22-06-2024 21:50:25508 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[22-06-2024 21:50:25523 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 354.5357ms
[22-06-2024 21:50:25526 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:50:25528 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 246 "application/json; charset=utf-8" 368.8029ms
[22-06-2024 21:54:08560 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 21:54:08595 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:54:08603 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 52.6571ms
[22-06-2024 21:54:08627 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 238
[22-06-2024 21:54:08638 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 21:54:08660 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:54:08682 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 21:54:09041 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("204"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 21:54:09053 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 21:54:09080 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("18"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 21:54:09099 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69847068308 not found or invalid credentials provided"
[22-06-2024 21:54:09128 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 21:54:09477 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("36"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 21:54:09481 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[22-06-2024 21:54:09491 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[22-06-2024 21:54:09512 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 824.9538ms
[22-06-2024 21:54:09518 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 21:54:09523 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 251 "application/json; charset=utf-8" 896.5577ms
[22-06-2024 22:05:59913 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 22:05:59951 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 22:05:59961 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 56.6257ms
[22-06-2024 22:05:59989 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 237
[22-06-2024 22:05:59999 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 22:06:00025 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 22:06:00040 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 22:06:00487 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("97"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 22:06:00501 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 22:06:00531 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("24"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 22:06:00546 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 698470683 was found"
[22-06-2024 22:06:00554 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 22:06:00568 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 525.5929ms
[22-06-2024 22:06:00571 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 22:06:00574 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 585.8072ms
[22-06-2024 22:06:13862 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 22:06:13868 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 22:06:13870 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 8.9138ms
[22-06-2024 22:06:13881 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 236
[22-06-2024 22:06:13885 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 22:06:13888 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 22:06:13890 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 22:06:13925 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("23"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 22:06:13928 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 22:06:13936 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 22:06:13941 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 69847068 was found"
[22-06-2024 22:06:13942 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 22:06:13944 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 51.3682ms
[22-06-2024 22:06:13946 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 22:06:13948 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 67.7531ms
[22-06-2024 22:06:19865 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 22:06:19878 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 22:06:19880 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 15.6214ms
[22-06-2024 22:06:19885 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 235
[22-06-2024 22:06:19890 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 22:06:19891 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 22:06:19893 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 22:06:19910 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("8"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 22:06:19915 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 22:06:19920 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("3"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 22:06:19923 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 6984706 was found"
[22-06-2024 22:06:19924 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 22:06:19927 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 31.8471ms
[22-06-2024 22:06:19929 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 22:06:19931 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 45.7502ms
[22-06-2024 22:06:31119 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 22:06:31127 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 22:06:31129 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 10.1561ms
[22-06-2024 22:06:31141 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 234
[22-06-2024 22:06:31145 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 22:06:31147 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 22:06:31150 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 22:06:31175 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("13"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 22:06:31178 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 22:06:31183 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 22:06:31188 +03:00 BooksApiApp.Services.UserService ] "User with phone number: 698470 was found"
[22-06-2024 22:06:31189 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "ConflictObjectResult", writing value of type '"<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`1[[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BooksApiApp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
[22-06-2024 22:06:31192 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 39.3253ms
[22-06-2024 22:06:31199 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 22:06:31201 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 409 101 "application/json; charset=utf-8" 60.9227ms
[22-06-2024 22:06:38279 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - null null
[22-06-2024 22:06:38286 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 22:06:38288 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "OPTIONS" "https"://"localhost:7143""""/api/User/SignupUser""" - 204 null null 8.6788ms
[22-06-2024 22:06:38298 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request starting "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - "application/json" 236
[22-06-2024 22:06:38305 +03:00 Microsoft.AspNetCore.Cors.Infrastructure.CorsService ] CORS policy execution successful.
[22-06-2024 22:06:38308 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executing endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 22:06:38312 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Route matched with "{action = \"SignupUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BooksApiApp.DTO.UserReadOnlyDTO]] SignupUserAsync(BooksApiApp.DTO.UserSignUpDTO)" on controller "BooksApiApp.Controllers.UserController" ("BooksApiApp").
[22-06-2024 22:06:38338 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("16"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 22:06:38344 +03:00 BooksApiApp.Services.UserService ] "User:  found and returned"
[22-06-2024 22:06:38351 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("4"ms) [Parameters=["@__phoneNumber_0='?' (Size = 13)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[PHONE_NUMBER] = @__phoneNumber_0"
[22-06-2024 22:06:38354 +03:00 BooksApiApp.Services.UserService ] "User: with phone number: 69847073 not found or invalid credentials provided"
[22-06-2024 22:06:38370 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("2"ms) [Parameters=["@__username_0='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[ID], [u].[ADDRESS], [u].[CITY], [u].[EMAIL], [u].[FIRSTNAME], [u].[LASTNAME], [u].[NUMBER], [u].[PASSWORD], [u].[PHONE_NUMBER], [u].[USER_ROLE], [u].[USERNAME]
FROM [USER] AS [u]
WHERE [u].[USERNAME] = @__username_0"
[22-06-2024 22:06:38794 +03:00 Microsoft.EntityFrameworkCore.Database.Command ] Executed DbCommand ("37"ms) [Parameters=["@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 10), @p6='?' (Size = 512), @p7='?' (Size = 13), @p8='?' (Size = 50)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [USER] ([ADDRESS], [CITY], [EMAIL], [FIRSTNAME], [LASTNAME], [NUMBER], [PASSWORD], [PHONE_NUMBER], [USERNAME])
OUTPUT INSERTED.[ID], INSERTED.[USER_ROLE]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);"
[22-06-2024 22:06:38799 +03:00 BooksApiApp.Services.UserService ] "User: BooksApiApp.Data.Usersignup success"
[22-06-2024 22:06:38804 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor ] Executing "CreatedAtActionResult", writing value of type '"BooksApiApp.DTO.UserReadOnlyDTO"'.
[22-06-2024 22:06:38821 +03:00 Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker ] Executed action "BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)" in 506.8583ms
[22-06-2024 22:06:38823 +03:00 Microsoft.AspNetCore.Routing.EndpointMiddleware ] Executed endpoint '"BooksApiApp.Controllers.UserController.SignupUserAsync (BooksApiApp)"'
[22-06-2024 22:06:38825 +03:00 Microsoft.AspNetCore.Hosting.Diagnostics ] Request finished "HTTP/2" "POST" "https"://"localhost:7143""""/api/User/SignupUser""" - 201 249 "application/json; charset=utf-8" 529.2662ms
